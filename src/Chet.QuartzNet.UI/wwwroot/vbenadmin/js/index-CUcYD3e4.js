var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,e)=>{for(var n in e||(e={}))i.call(e,n)&&s(t,n,e[n]);if(r)for(var n of r(e))o.call(e,n)&&s(t,n,e[n]);return t},l=(t,r)=>e(t,n(r)),c=(t,e)=>{var n={};for(var s in t)i.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&r)for(var s of r(t))e.indexOf(s)<0&&o.call(t,s)&&(n[s]=t[s]);return n},u=(t,e,n)=>s(t,"symbol"!=typeof e?e+"":e,n),p=(t,e,n)=>new Promise((r,i)=>{var o=t=>{try{a(n.next(t))}catch(e){i(e)}},s=t=>{try{a(n.throw(t))}catch(e){i(e)}},a=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,s);a((n=n.apply(t,e)).next())});import{a1 as f,a9 as d,ab as y,aA as m,f as h,F as v,m as b,L as g,P as O,E as j,N as x,bl as w,bm as M,U as A,bn as k,bo as S,bp as T}from"../jse/index-index-BjsohvV2.js";const V=1/60*1e3,C="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),N="undefined"!=typeof window?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(C()),V);let R=!0,P=!1,I=!1;const D={delta:0,timestamp:0},q=["read","update","preRender","render","postRender"],E=q.reduce((t,e)=>(t[e]=function(t){let e=[],n=[],r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(t,o=!1,a=!1)=>{const l=a&&i,c=l?e:n;return o&&s.add(t),-1===c.indexOf(t)&&(c.push(t),l&&i&&(r=e.length)),t},cancel:t=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1),s.delete(t)},process:l=>{if(i)o=!0;else{if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let n=0;n<r;n++){const r=e[n];r(l),s.has(r)&&(a.schedule(r),t())}i=!1,o&&(o=!1,a.process(l))}}};return a}(()=>P=!0),t),{}),L=q.reduce((t,e)=>{const n=E[e];return t[e]=(t,e=!1,r=!1)=>(P||U(),n.schedule(t,e,r)),t},{}),F=q.reduce((t,e)=>(t[e]=E[e].cancel,t),{});q.reduce((t,e)=>(t[e]=()=>E[e].process(D),t),{});const z=t=>E[t].process(D),B=t=>{P=!1,D.delta=R?V:Math.max(Math.min(t-D.timestamp,40),1),D.timestamp=t,I=!0,q.forEach(z),I=!1,P&&(R=!1,N(B))},U=()=>{P=!0,R=!0,I||N(B)},$=()=>D;function W(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const X=(t,e,n)=>Math.min(Math.max(n,t),e),Y=.001;function Z({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,s=1-e;s=X(.05,1,s),t=X(.01,10,t/1e3),s<1?(i=e=>{const r=e*s,i=r*t,o=r-n,a=G(e,s),l=Math.exp(-i);return Y-o/a*l},o=e=>{const r=e*s*t,o=r*n+n,a=Math.pow(s,2)*Math.pow(e,2)*t,l=Math.exp(-r),c=G(Math.pow(e,2),s);return(-i(e)+Y>0?-1:1)*((o-a)*l)/c}):(i=e=>Math.exp(-e*t)*((e-n)*t+1)-.001,o=e=>Math.exp(-e*t)*(t*t*(n-e)));const a=function(t,e,n){let r=n;for(let i=1;i<H;i++)r-=t(r)/e(r);return r}(i,o,5/t);if(t*=1e3,isNaN(a))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(a,2)*r;return{stiffness:e,damping:2*s*Math.sqrt(r*e),duration:t}}}const H=12;function G(t,e){return t*Math.sqrt(1-e*e)}const _=["duration","bounce"],J=["stiffness","damping","mass"];function K(t,e){return e.some(e=>void 0!==t[e])}function Q(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:i}=t,o=W(t,["from","to","restSpeed","restDelta"]);const s={done:!1,value:e};let{stiffness:a,damping:l,mass:c,velocity:u,duration:p,isResolvedFromDuration:f}=function(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!K(t,J)&&K(t,_)){const n=Z(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}(o),d=tt,y=tt;function m(){const t=u?-u/1e3:0,r=n-e,o=l/(2*Math.sqrt(a*c)),s=Math.sqrt(a/c)/1e3;if(void 0===i&&(i=Math.min(Math.abs(n-e)/100,.4)),o<1){const e=G(s,o);d=i=>{const a=Math.exp(-o*s*i);return n-a*((t+o*s*r)/e*Math.sin(e*i)+r*Math.cos(e*i))},y=n=>{const i=Math.exp(-o*s*n);return o*s*i*(Math.sin(e*n)*(t+o*s*r)/e+r*Math.cos(e*n))-i*(Math.cos(e*n)*(t+o*s*r)-e*r*Math.sin(e*n))}}else if(1===o)d=e=>n-Math.exp(-s*e)*(r+(t+s*r)*e);else{const e=s*Math.sqrt(o*o-1);d=i=>{const a=Math.exp(-o*s*i),l=Math.min(e*i,300);return n-a*((t+o*s*r)*Math.sinh(l)+e*r*Math.cosh(l))/e}}}return m(),{next:t=>{const e=d(t);if(f)s.done=t>=p;else{const o=1e3*y(t),a=Math.abs(o)<=r,l=Math.abs(n-e)<=i;s.done=a&&l}return s.value=s.done?n:e,s},flipTarget:()=>{u=-u,[e,n]=[n,e],m()}}}Q.needsInterpolation=(t,e)=>"string"==typeof t||"string"==typeof e;const tt=t=>0,et=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},nt=(t,e,n)=>-n*t+n*e+t,rt=(t,e)=>n=>Math.max(Math.min(n,e),t),it=t=>t%1?Number(t.toFixed(5)):t,ot=/(-)?([\d]*\.?[\d])+/g,st=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,at=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function lt(t){return"string"==typeof t}const ct={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},ut=Object.assign(Object.assign({},ct),{transform:rt(0,1)}),pt=Object.assign(Object.assign({},ct),{default:1}),ft=t=>({test:e=>lt(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),dt=ft("deg"),yt=ft("%"),mt=ft("px"),ht=Object.assign(Object.assign({},yt),{parse:t=>yt.parse(t)/100,transform:t=>yt.transform(100*t)}),vt=(t,e)=>n=>Boolean(lt(n)&&at.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),bt=(t,e,n)=>r=>{if(!lt(r))return r;const[i,o,s,a]=r.match(ot);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},gt={test:vt("hsl","hue"),parse:bt("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+yt.transform(it(e))+", "+yt.transform(it(n))+", "+it(ut.transform(r))+")"},Ot=rt(0,255),jt=Object.assign(Object.assign({},ct),{transform:t=>Math.round(Ot(t))}),xt={test:vt("rgb","red"),parse:bt("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jt.transform(t)+", "+jt.transform(e)+", "+jt.transform(n)+", "+it(ut.transform(r))+")"};const wt={test:vt("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:xt.transform},Mt={test:t=>xt.test(t)||wt.test(t)||gt.test(t),parse:t=>xt.test(t)?xt.parse(t):gt.test(t)?gt.parse(t):wt.parse(t),transform:t=>lt(t)?t:t.hasOwnProperty("red")?xt.transform(t):gt.transform(t)},At="${c}",kt="${n}";function St(t){"number"==typeof t&&(t=`${t}`);const e=[];let n=0;const r=t.match(st);r&&(n=r.length,t=t.replace(st,At),e.push(...r.map(Mt.parse)));const i=t.match(ot);return i&&(t=t.replace(ot,kt),e.push(...i.map(ct.parse))),{values:e,numColors:n,tokenised:t}}function Tt(t){return St(t).values}function Vt(t){const{values:e,numColors:n,tokenised:r}=St(t),i=e.length;return t=>{let e=r;for(let r=0;r<i;r++)e=e.replace(r<n?At:kt,r<n?Mt.transform(t[r]):it(t[r]));return e}}const Ct=t=>"number"==typeof t?0:t;const Nt={test:function(t){var e,n,r,i;return isNaN(t)&&lt(t)&&(null!==(n=null===(e=t.match(ot))||void 0===e?void 0:e.length)&&void 0!==n?n:0)+(null!==(i=null===(r=t.match(st))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:Tt,createTransformer:Vt,getAnimatableNone:function(t){const e=Tt(t);return Vt(t)(e.map(Ct))}},Rt=new Set(["brightness","contrast","saturate","opacity"]);function Pt(t){let[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(ot)||[];if(!r)return t;const i=n.replace(r,"");let o=Rt.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const It=/([a-z-]*)\(.*?\)/g,Dt=Object.assign(Object.assign({},Nt),{getAnimatableNone:t=>{const e=t.match(It);return e?e.map(Pt).join(" "):t}});function qt(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Et({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let i=0,o=0,s=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,a=2*n-r;i=qt(a,r,t+1/3),o=qt(a,r,t),s=qt(a,r,t-1/3)}else i=o=s=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:r}}const Lt=(t,e,n)=>{const r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},Ft=[wt,xt,gt],zt=t=>Ft.find(e=>e.test(t)),Bt=(t,e)=>{let n=zt(t),r=zt(e),i=n.parse(t),o=r.parse(e);n===gt&&(i=Et(i),n=xt),r===gt&&(o=Et(o),r=xt);const s=Object.assign({},i);return t=>{for(const e in s)"alpha"!==e&&(s[e]=Lt(i[e],o[e],t));return s.alpha=nt(i.alpha,o.alpha,t),n.transform(s)}},Ut=(t,e)=>n=>e(t(n)),$t=(...t)=>t.reduce(Ut);function Wt(t,e){return"number"==typeof t?n=>nt(t,e,n):Mt.test(t)?Bt(t,e):Ht(t,e)}const Xt=(t,e)=>{const n=[...t],r=n.length,i=t.map((t,n)=>Wt(t,e[n]));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}},Yt=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=Wt(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}};function Zt(t){const e=Nt.parse(t),n=e.length;let r=0,i=0,o=0;for(let s=0;s<n;s++)r||"number"==typeof e[s]?r++:void 0!==e[s].hue?o++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:o}}const Ht=(t,e)=>{const n=Nt.createTransformer(e),r=Zt(t),i=Zt(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?$t(Xt(r.parsed,i.parsed),n):n=>`${n>0?e:t}`},Gt=(t,e)=>n=>nt(t,e,n);function _t(t,e,n){const r=[],i=n||("number"==typeof(o=t[0])?Gt:"string"==typeof o?Mt.test(o)?Bt:Ht:Array.isArray(o)?Xt:"object"==typeof o?Yt:void 0);var o;const s=t.length-1;for(let a=0;a<s;a++){let n=i(t[a],t[a+1]);if(e){const t=Array.isArray(e)?e[a]:e;n=$t(t,n)}r.push(n)}return r}function Jt(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;e.length,!r||!Array.isArray(r)||r.length,t[0]>t[o-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const s=_t(e,r,i),a=2===o?function([t,e],[n]){return r=>n(et(t,e,r))}(t,s):function(t,e){const n=t.length,r=n-1;return i=>{let o=0,s=!1;if(i<=t[0]?s=!0:i>=t[r]&&(o=r-1,s=!0),!s){let e=1;for(;e<n&&!(t[e]>i||e===r);e++);o=e-1}const a=et(t[o],t[o+1],i);return e[o](a)}}(t,s);return n?e=>a(X(t[0],t[o-1],e)):a}const Kt=t=>e=>1-t(1-e),Qt=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,te=t=>e=>e*e*((t+1)*e-t),ee=4/11,ne=8/11,re=t=>t,ie=(oe=2,t=>Math.pow(t,oe));var oe;const se=Kt(ie),ae=Qt(ie),le=t=>1-Math.sin(Math.acos(t)),ce=Kt(le),ue=Qt(ce),pe=te(1.525),fe=Kt(pe),de=Qt(pe),ye=(t=>{const e=te(t);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))})(1.525),me=4356/361,he=35442/1805,ve=16061/1805,be=t=>{if(1===t||0===t)return t;const e=t*t;return t<ee?7.5625*e:t<ne?9.075*e-9.9*t+3.4:t<.9?me*e-he*t+ve:10.8*t*t-20.52*t+10.72},ge=Kt(be);function Oe(t,e){return t.map(()=>e||ae).splice(0,t.length-1)}function je({from:t=0,to:e=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:t},s=Array.isArray(e)?e:[t,e],a=function(t,e){return t.map(t=>t*e)}(r&&r.length===s.length?r:function(t){const e=t.length;return t.map((t,n)=>0!==n?n/(e-1):0)}(s),i);function l(){return Jt(a,s,{ease:Array.isArray(n)?n:Oe(s,n)})}let c=l();return{next:t=>(o.value=c(t),o.done=t>=i,o),flipTarget:()=>{s.reverse(),c=l()}}}const xe={keyframes:je,spring:Q,decay:function({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const s={done:!1,value:e};let a=n*t;const l=e+a,c=void 0===o?l:o(l);return c!==l&&(a=c-e),{next:t=>{const e=-a*Math.exp(-t/r);return s.done=!(e>i||e<-i),s.value=s.done?c:c+e,s},flipTarget:()=>{}}}};function we(t,e,n=0){return t-e-n}const Me=t=>{const e=({delta:e})=>t(e);return{start:()=>L.update(e,!0),stop:()=>F.update(e)}};function Ae(t){var e,n,{from:r,autoplay:i=!0,driver:o=Me,elapsed:s=0,repeat:a=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:p,onComplete:f,onRepeat:d,onUpdate:y}=t,m=W(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let h,v,b,{to:g}=m,O=0,j=m.duration,x=!1,w=!0;const M=function(t){if(Array.isArray(t.to))return je;if(xe[t.type])return xe[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?je:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Q:je}(m);(null===(n=(e=M).needsInterpolation)||void 0===n?void 0:n.call(e,r,g))&&(b=Jt([0,100],[r,g],{clamp:!1}),r=0,g=100);const A=M(Object.assign(Object.assign({},m),{from:r,to:g}));function k(){O++,"reverse"===l?(w=O%2==0,s=function(t,e,n=0,r=!0){return r?we(e+-t,e,n):e-(t-e)+n}(s,j,c,w)):(s=we(s,j,c),"mirror"===l&&A.flipTarget()),x=!1,d&&d()}function S(t){if(w||(t=-t),s+=t,!x){const t=A.next(Math.max(0,s));v=t.value,b&&(v=b(v)),x=w?t.done:s<=0}null==y||y(v),x&&(0===O&&(null!=j||(j=s)),O<a?function(t,e,n,r){return r?t>=e+n:t<=-n}(s,j,c,w)&&k():(h.stop(),f&&f()))}return i&&(null==u||u(),h=o(S),h.start()),{stop:()=>{null==p||p(),h.stop()}}}function ke(t,e){return e?t*(1e3/e):0}const Se=(t,e)=>1-3*e+3*t,Te=(t,e)=>3*e-6*t,Ve=t=>3*t,Ce=(t,e,n)=>((Se(e,n)*t+Te(e,n))*t+Ve(e))*t,Ne=(t,e,n)=>3*Se(e,n)*t*t+2*Te(e,n)*t+Ve(e);const Re=.1;function Pe(t,e,n,r){if(t===e&&n===r)return re;const i=new Float32Array(11);for(let s=0;s<11;++s)i[s]=Ce(s*Re,t,n);function o(e){let r=0,o=1;for(;10!==o&&i[o]<=e;++o)r+=Re;--o;const s=r+(e-i[o])/(i[o+1]-i[o])*Re,a=Ne(s,t,n);return a>=.001?function(t,e,n,r){for(let i=0;i<8;++i){const i=Ne(e,n,r);if(0===i)return e;e-=(Ce(e,n,r)-t)/i}return e}(e,s,t,n):0===a?s:function(t,e,n,r,i){let o,s,a=0;do{s=e+(n-e)/2,o=Ce(s,r,i)-t,o>0?n=s:e=s}while(Math.abs(o)>1e-7&&++a<10);return s}(e,r,r+Re,t,n)}return t=>0===t||1===t?t:Ce(o(t),e,r)}const Ie={},De={};class qe{constructor(){u(this,"subscriptions",new Set)}add(t){return this.subscriptions.add(t),()=>this.subscriptions.delete(t)}notify(t,e,n){if(this.subscriptions.size)for(const r of this.subscriptions)r(t,e,n)}clear(){this.subscriptions.clear()}}function Ee(t){return!Number.isNaN(Number.parseFloat(t))}class Le{constructor(t){u(this,"current"),u(this,"prev"),u(this,"timeDelta",0),u(this,"lastUpdated",0),u(this,"updateSubscribers",new qe),u(this,"stopAnimation"),u(this,"canTrackVelocity",!1),u(this,"updateAndNotify",t=>{this.prev=this.current,this.current=t;const{delta:e,timestamp:n}=$();this.lastUpdated!==n&&(this.timeDelta=e,this.lastUpdated=n),L.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)}),u(this,"scheduleVelocityCheck",()=>L.postRender(this.velocityCheck)),u(this,"velocityCheck",({timestamp:t})=>{this.canTrackVelocity||(this.canTrackVelocity=Ee(this.current)),t!==this.lastUpdated&&(this.prev=this.current)}),this.prev=this.current=t,this.canTrackVelocity=Ee(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}set(t){this.updateAndNotify(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ke(Number.parseFloat(this.current)-Number.parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(e=>{const{stop:n}=t(e);this.stopAnimation=n}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}const{isArray:Fe}=Array;function ze(){const t=g({}),e=e=>{const n=e=>{t.value[e]&&(t.value[e].stop(),t.value[e].destroy(),delete t.value[e])};e?Fe(e)?e.forEach(n):n(e):Object.keys(t.value).forEach(n)};return k(e),{motionValues:t,get:(e,n,r)=>{if(t.value[e])return t.value[e];const i=new Le(n);return i.onChange(t=>r[e]=t),t.value[e]=i,i},stop:e}}function Be(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function Ue(t){return{type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function $e(){return{type:"keyframes",ease:"linear",duration:300}}function We(t){return{type:"keyframes",duration:800,values:t}}const Xe={default:function(t){return{type:"spring",stiffness:550,damping:0===t?100:30,restDelta:.01,restSpeed:10}},x:Be,y:Be,z:Be,rotate:Be,rotateX:Be,rotateY:Be,rotateZ:Be,scaleX:Ue,scaleY:Ue,scale:Ue,backgroundColor:$e,color:$e,opacity:$e};function Ye(t,e){let n;var r;return r=e,n=Array.isArray(r)?We:Xe[t]||Xe.default,a({to:e},n(e))}const Ze=l(a({},ct),{transform:Math.round}),He={color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,size:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,rotate:dt,rotateX:dt,rotateY:dt,rotateZ:dt,scale:pt,scaleX:pt,scaleY:pt,scaleZ:pt,skew:dt,skewX:dt,skewY:dt,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:ut,originX:ht,originY:ht,originZ:mt,zIndex:Ze,filter:Dt,WebkitFilter:Dt,fillOpacity:ut,strokeOpacity:ut,numOctaves:Ze},Ge=t=>He[t];function _e(t,e){return e&&"number"==typeof t&&e.transform?e.transform(t):t}const Je={linear:re,easeIn:ie,easeInOut:ae,easeOut:se,circIn:le,circInOut:ue,circOut:ce,backIn:pe,backInOut:de,backOut:fe,anticipate:ye,bounceIn:ge,bounceInOut:t=>t<.5?.5*(1-be(1-2*t)):.5*be(2*t-1)+.5,bounceOut:be};function Ke(t){if(Array.isArray(t)){const[e,n,r,i]=t;return Pe(e,n,r,i)}return"string"==typeof t?Je[t]:t}function Qe(t,e){return"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Nt.test(e)||e.startsWith("url(")))}function tn(t){var e=t,{ease:n,times:r,delay:i}=e,o=c(e,["ease","times","delay"]);const s=a({},o);return r&&(s.offset=r),n&&(s.ease=function(t){return Array.isArray(t)&&"number"!=typeof t[0]}(n)?n.map(Ke):Ke(n)),i&&(s.elapsed=-i),s}function en(t,e,n){return Array.isArray(e.to)&&(t.duration||(t.duration=800)),function(t){Array.isArray(t.to)&&null===t.to[0]&&(t.to=[...t.to],t.to[0]=t.from)}(e),function(t){var e=t,{delay:n,repeat:r,repeatType:i,repeatDelay:o,from:s}=e,a=c(e,["delay","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(a).length}(t)||(t=a(a({},t),Ye(n,e.to))),a(a({},e),tn(t))}function nn(t,e,n,r,i){const o=function(t,e){return t[e]||t.default||t}(r,t);let s=null===o.from||void 0===o.from?e.get():o.from;const c=Qe(t,n);"none"===s&&c&&"string"==typeof n&&(s=function(t,e){let n=Ge(t);return n!==Dt&&(n=Nt),n.getAnimatableNone?n.getAnimatableNone(e):void 0}(t,n));return Qe(t,s)&&c&&!1!==o.type?function(c){const u={from:s,to:n,velocity:r.velocity?r.velocity:e.getVelocity(),onUpdate:t=>e.set(t)};return"inertia"===o.type||"decay"===o.type?function({from:t=0,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:p,onComplete:f,onStop:d}){let y;function m(t){return void 0!==n&&t<n||void 0!==r&&t>r}function h(t){return void 0===n?r:void 0===r||Math.abs(n-t)<Math.abs(r-t)?n:r}function v(t){null==y||y.stop(),y=Ae(Object.assign(Object.assign({},t),{driver:u,onUpdate:e=>{var n;null==p||p(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:f,onStop:d}))}function b(t){v(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:l},t))}if(m(t))b({from:t,velocity:e,to:h(t)});else{let r=i*e+t;void 0!==c&&(r=c(r));const s=h(r),a=s===n?-1:1;let u,p;const f=t=>{u=p,p=t,e=ke(t-u,$().delta),(1===a&&t>s||-1===a&&t<s)&&b({from:t,to:s,velocity:e})};v({type:"decay",from:t,velocity:e,timeConstant:o,power:i,restDelta:l,modifyTarget:c,onUpdate:m(r)?f:void 0})}return{stop:()=>null==y?void 0:y.stop()}}(a(a({},u),o)):Ae(l(a({},en(o,u,t)),{onUpdate:t=>{u.onUpdate(t),o.onUpdate&&o.onUpdate(t)},onComplete:()=>{i&&i(),c&&c()}}))}:function(t){return e.set(n),i&&i(),t&&t(),{stop:()=>{}}}}function rn(t,e={},{motionValues:n,push:r,stop:i}=function(){const{motionValues:t,stop:e,get:n}=ze();return{motionValues:t,stop:e,push:(t,e,r,i={},o)=>{const s=r[t],a=n(t,s,r);if(i&&i.immediate)return void a.set(e);const l=nn(t,a,e,i,o);a.start(l)}}}()){const o=d(e),s=g(!1);A(n,t=>{s.value=Object.values(t).filter(t=>t.isAnimating()).length>0},{immediate:!0,deep:!0});const a=t=>{if(!o||!o[t])throw new Error(`The variant ${t} does not exist.`);return o[t]},l=e=>{"string"==typeof e&&(e=a(e));const n=Object.entries(e).map(([n,i])=>{if("transition"!==n)return new Promise(o=>r(n,i,t,e.transition||Ye(n,e[n]),o))}).filter(Boolean);return Promise.all([function(){return p(this,null,function*(){var t,r;yield Promise.all(n),null==(r=null==(t=e.transition)?void 0:t.onComplete)||r.call(t)})}()])};return{isAnimating:s,apply:l,set:e=>{const n=M(e)?e:a(e);Object.entries(n).forEach(([e,n])=>{"transition"!==e&&r(e,n,t,{immediate:!0})})},leave:t=>p(null,null,function*(){let e;o&&(o.leave&&(e=o.leave),!o.leave&&o.initial&&(e=o.initial)),e?(yield l(e),t()):t()}),stop:i}}const on="undefined"!=typeof window;function sn({target:t,state:e,variants:n,apply:r}){const i=d(n),o=g(!1),s=g(!1),a=g(!1),l=j(()=>{let t=[...Object.keys(e.value||{})];return i?(i.hovered&&(t=[...t,...Object.keys(i.hovered)]),i.tapped&&(t=[...t,...Object.keys(i.tapped)]),i.focused&&(t=[...t,...Object.keys(i.focused)]),t):t}),c=j(()=>{const t={};Object.assign(t,e.value),o.value&&i.hovered&&Object.assign(t,i.hovered),s.value&&i.tapped&&Object.assign(t,i.tapped),a.value&&i.focused&&Object.assign(t,i.focused);for(const e in t)l.value.includes(e)||delete t[e];return t});i.hovered&&(S(t,"mouseenter",()=>o.value=!0),S(t,"mouseleave",()=>{o.value=!1,s.value=!1})),i.tapped&&(on&&(null===window.onmousedown||(null==Ie?void 0:Ie.TEST))&&(S(t,"mousedown",()=>s.value=!0),S(t,"mouseup",()=>s.value=!1)),on&&(null===window.onpointerdown||(null==Ie?void 0:Ie.TEST))&&(S(t,"pointerdown",()=>s.value=!0),S(t,"pointerup",()=>s.value=!1)),on&&(null===window.ontouchstart||(null==Ie?void 0:Ie.TEST))&&(S(t,"touchstart",()=>s.value=!0),S(t,"touchend",()=>s.value=!1))),i.focused&&(S(t,"focus",()=>a.value=!0),S(t,"blur",()=>a.value=!1)),A([o,s,a],()=>{r(c.value)})}function an({target:t,variants:e,variant:n}){const r=d(e);r&&(r.visible||r.visibleOnce)&&w(t,([{isIntersecting:t}])=>{r.visible?n.value=t?"visible":"initial":r.visibleOnce&&(t&&"visibleOnce"!==n.value?n.value="visibleOnce":n.value||(n.value="initial"))})}function ln(t,e={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){e.lifeCycleHooks&&function({set:t,target:e,variants:n,variant:r}){const i=d(n);A(()=>e,()=>{i&&(i.initial&&(t("initial"),r.value="initial"),i.enter&&(r.value="enter"))},{immediate:!0,flush:"pre"})}(t),e.syncVariants&&function({state:t,apply:e}){A(t,t=>{t&&e(t)},{immediate:!0})}(t),e.visibilityHooks&&an(t),e.eventListeners&&sn(t)}function cn(t={}){const e=O(a({},t)),n=g({});return A(e,()=>{const t={};for(const[n,r]of Object.entries(e)){const e=_e(r,Ge(n));t[n]=e}n.value=t},{immediate:!0,deep:!0}),{state:e,style:n}}function un(t,e){A(()=>T(t),t=>{t&&e(t)},{immediate:!0})}const pn={x:"translateX",y:"translateY",z:"translateZ"};function fn(t={},e=!0){const n=O(a({},t)),r=g("");return A(n,t=>{let n="",i=!1;if(e&&(t.x||t.y||t.z)){n+=`translate3d(${[t.x||0,t.y||0,t.z||0].map(t=>_e(t,mt)).join(",")}) `,i=!0}for(const[r,o]of Object.entries(t)){if(e&&("x"===r||"y"===r||"z"===r))continue;const t=_e(o,Ge(r));n+=`${pn[r]||r}(${t}) `}e&&!i&&(n+="translateZ(0px) "),r.value=n.trim()},{immediate:!0,deep:!0}),{state:n,transform:r}}const dn=["","X","Y","Z"],yn=["transformPerspective","x","y","z"];["perspective","translate","scale","rotate","skew"].forEach(t=>{dn.forEach(e=>{const n=t+e;yn.push(n)})});const mn=new Set(yn);function hn(t){return mn.has(t)}const vn=new Set(["originX","originY","originZ"]);function bn(t){return vn.has(t)}function gn(t){const{transform:e,style:n}=function(t){const e={},n={};return Object.entries(t).forEach(([t,r])=>{hn(t)||bn(t)?e[t]=r:n[t]=r}),{transform:e,style:n}}(t),{transform:r}=fn(e),{style:i}=cn(n);return r.value&&(i.value.transform=r.value),i.value}function On(t){const e=t.trim().split(/\) |\)/);if(1===e.length)return{};return e.reduce((t,e)=>{if(!e)return t;const[n,r]=e.split("("),i=r.split(",").map(t=>(t=>t.endsWith("px")||t.endsWith("deg")?Number.parseFloat(t):Number.isNaN(Number(t))?Number(t):t)(t.endsWith(")")?t.replace(")",""):t.trim())),o=1===i.length?i[0]:i;return l(a({},t),{[n]:o})},{})}function jn(t,e){let n,r;const{state:i,transform:o}=fn();return un(t,t=>{r=t,t.style.transform&&function(t,e){Object.entries(On(e)).forEach(([e,n])=>{const r=["x","y","z"];if("translate3d"===e)return 0===n?void r.forEach(e=>t[e]=0):void n.forEach((e,n)=>t[r[n]]=e);n=Number.parseFloat(`${n}`),"translateX"!==e?"translateY"!==e?"translateZ"!==e?t[e]=n:t.z=n:t.y=n:t.x=n})}(i,t.style.transform),n&&(t.style.transform=n),e&&e(i)}),A(o,t=>{r?r.style.transform=t:n=t},{immediate:!0}),{transform:i}}function xn(t,e){const n=O({}),r=t=>Object.entries(t).forEach(([t,e])=>n[t]=e),{style:i}=function(t,e){let n,r;const{state:i,style:o}=cn();return un(t,t=>{r=t;for(const e of Object.keys(He))null===t.style[e]||""===t.style[e]||hn(e)||bn(e)||(i[e]=t.style[e]);n&&Object.entries(n).forEach(([e,n])=>t.style[e]=n),e&&e(i)}),A(o,t=>{if(r)for(const e in t)r.style[e]=t[e];else n=t},{immediate:!0}),{style:i}}(t,r),{transform:o}=jn(t,r);return A(n,t=>{var e;(e=t,Object.entries(e)).forEach(([t,e])=>{const n=hn(t)?o:i;n[t]&&n[t]===e||(n[t]=e)})},{immediate:!0,deep:!0}),un(t,()=>e),{motionProperties:n,style:i,transform:o}}function wn(t,e={},n){const{motionProperties:r}=xn(t),{variant:i,state:o}=function(t={}){const e=d(t),n=g();return{state:j(()=>{if(n.value)return e[n.value]}),variant:n}}(e),s=rn(r,e),l=a({target:t,variant:i,variants:e,state:o,motionProperties:r},s);return ln(l,n),l}const Mn=["delay","duration"],An=["initial","enter","leave","visible","visible-once","visibleOnce","hovered","tapped","focused",...Mn];function kn(t){return Mn.includes(t)}function Sn(t,e=!1){return{created:(n,r,i)=>{const o=r.value&&"string"==typeof r.value?r.value:i.key;o&&De[o]&&De[o].stop();const s=e?structuredClone(b(t)||{}):t||{},l=g(s);"object"==typeof r.value&&(l.value=r.value),function(t,e){const n=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};if(n){n.variants&&M(n.variants)&&(e.value=a(a({},e.value),n.variants));for(let t of An)if(n&&n[t])if(kn(t)&&"number"==typeof n[t])for(const r of["enter","visible","visibleOnce"]){const i=e.value[r];null!=i&&(null!=i.transition||(i.transition={}),i.transition[t]=n[t])}else if(M(n[t])){const r=n[t];"visible-once"===t&&(t="visibleOnce"),e.value[t]=r}}}(i,l);const c=wn(n,l,{eventListeners:!0,lifeCycleHooks:!0,syncVariants:!0,visibilityHooks:!1});n.motionInstance=c,o&&(De[o]=c)},mounted:(t,e,n)=>{t.motionInstance&&an(t.motionInstance)},getSSRProps(e,n){let{initial:r}=e.value||n&&(null==n?void 0:n.props)||{};r=d(r);const i=y({},(null==t?void 0:t.initial)||{},r||{});if(!i||0===Object.keys(i).length)return;return{style:gn(i)}}}}const Tn={__proto__:null,fade:{initial:{opacity:0},enter:{opacity:1}},fadeVisible:{initial:{opacity:0},visible:{opacity:1}},fadeVisibleOnce:{initial:{opacity:0},visibleOnce:{opacity:1}},pop:{initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},popVisible:{initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},popVisibleOnce:{initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},rollBottom:{initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},rollLeft:{initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},rollRight:{initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},rollTop:{initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},rollVisibleBottom:{initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},rollVisibleLeft:{initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},rollVisibleOnceBottom:{initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},rollVisibleOnceLeft:{initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},rollVisibleOnceRight:{initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},rollVisibleOnceTop:{initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},rollVisibleRight:{initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},rollVisibleTop:{initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},slideBottom:{initial:{y:100,opacity:0},enter:{y:0,opacity:1}},slideLeft:{initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},slideRight:{initial:{x:100,opacity:0},enter:{x:0,opacity:1}},slideTop:{initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},slideVisibleBottom:{initial:{y:100,opacity:0},visible:{y:0,opacity:1}},slideVisibleLeft:{initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},slideVisibleOnceBottom:{initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},slideVisibleOnceLeft:{initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},slideVisibleOnceRight:{initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},slideVisibleOnceTop:{initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},slideVisibleRight:{initial:{x:100,opacity:0},visible:{x:0,opacity:1}},slideVisibleTop:{initial:{y:-100,opacity:0},visible:{y:0,opacity:1}}};function Vn(t){const e="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",n=new RegExp(e.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,t=>`-${t}`).toLowerCase().replace(/\s+/g,"-").replace(n,t=>"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(e.indexOf(t))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/-{2,}/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const Cn=Symbol(""),Nn={preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1},duration:{type:[Number,String],required:!1}};function Rn(t){if(Array.isArray(t))return t.map(Rn);if(e=t,"[object Object]"===Object.prototype.toString.call(e)){const e={};for(const n in t)e[n]=Rn(t[n]);return e}var e;return t}function Pn(t){const e=O({}),n=x(Cn,{}),r=j(()=>null==t.preset?{}:null!=n&&t.preset in n?structuredClone(b(n)[t.preset]):t.preset in Tn?structuredClone(Tn[t.preset]):{}),i=j(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused}));function o(t,e){for(const n of["delay","duration"]){if(null==e[n])continue;const r=Number.parseInt(e[n]);for(const e of["enter","visible","visibleOnce"]){const i=t[e];null!=i&&(null!=i.transition||(i.transition={}),i.transition[n]=r)}}return t}const s=j(()=>{const e=y({},i.value,r.value,t.variants||{});return o(a({},e),t)});return{motionConfig:s,setNodeInstance:function(t,n,r){var i;null!=t.props||(t.props={}),null!=(i=t.props).style||(i.style={}),t.props.style=a(a({},t.props.style),r);const l=o(Rn(s.value),t.props);return t.props.onVnodeMounted=({el:t})=>{e[n]=wn(t,l)},t.props.onVnodeUpdated=({el:t})=>{const r=gn(e[n].state);for(const[e,n]of Object.entries(r))t.style[e]=n},t}}}const In=f({name:"Motion",props:l(a({},Nn),{is:{type:[String,Object],default:"div"}}),setup(t){const e=m(),{motionConfig:n,setNodeInstance:r}=Pn(t);return()=>{const i=gn(n.value.initial||{}),o=h(t.is,void 0,e);return r(o,0,i),o}}}),Dn=f({name:"MotionGroup",props:l(a({},Nn),{is:{type:[String,Object],required:!1}}),setup(t){const e=m(),{motionConfig:n,setNodeInstance:r}=Pn(t);return()=>{var i;const o=gn(n.value.initial||{}),s=(null==(i=e.default)?void 0:i.call(e))||[];for(let t=0;t<s.length;t++){const e=s[t];e.type===v&&Array.isArray(e.children)?e.children.forEach(function t(e,n){null!=e&&(Array.isArray(e)?t(e,n):"object"==typeof e&&r(e,n,o))}):r(e,t,o)}return t.is?h(t.is,void 0,s):s}}}),qn={install(t,e){if(t.directive("motion",Sn()),!e||e&&!e.excludePresets)for(const n in Tn){const e=Tn[n];t.directive(`motion-${Vn(n)}`,Sn(e,!0))}if(e&&e.directives)for(const n in e.directives){const r=e.directives[n];r.initial,0,t.directive(`motion-${n}`,Sn(r,!0))}t.provide(Cn,null==e?void 0:e.directives),t.component("Motion",In),t.component("MotionGroup",Dn)}};export{In as Motion,Sn as MotionDirective,Dn as MotionGroup,qn as MotionPlugin};
