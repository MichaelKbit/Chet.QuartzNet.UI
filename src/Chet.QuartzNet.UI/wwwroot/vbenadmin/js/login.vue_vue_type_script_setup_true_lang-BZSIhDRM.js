var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,i=(e,t)=>{for(var o in t||(t={}))a.call(t,o)&&l(e,o,t[o]);if(n)for(var o of n(t))s.call(t,o)&&l(e,o,t[o]);return e},r=(e,n)=>t(e,o(n)),u=(e,t)=>{var o={};for(var l in e)a.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&n)for(var l of n(e))t.indexOf(l)<0&&s.call(e,l)&&(o[l]=e[l]);return o},c=(e,t,o)=>new Promise((n,a)=>{var s=e=>{try{i(o.next(e))}catch(t){a(t)}},l=e=>{try{i(o.throw(e))}catch(t){a(t)}},i=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,l);i((o=o.apply(e,t)).next())});import{bv as d,bC as p,bf as f,aq as m,bD as g,bE as y,a$ as h,bF as v,X as b,bG as _,bB as x,bH as w,bI as k,bu as C,b0 as P,bh as B,bJ as L,bK as $,b2 as D,bL as T,bM as A,bN as S,bO as I,bP as M,b1 as R,bQ as q,bs as E,bR as O}from"./bootstrap-Dknk63fm.js";import{a1 as j,ai as F,aj as z,ak as V,al as W,av as U,aw as N,a9 as K,L as Q,ag as X,V as G,aa as J,ap as H,E as Y,p as Z,an as ee,am as te,aS as oe,bt as ne,aR as ae,ax as se,ay as le,aW as ie,aX as re,P as ue,U as ce,a6 as de,bD as pe,b0 as fe,f as me,az as ge,ar as ye,a as he,bE as ve,M as be}from"../jse/index-index-BjsohvV2.js";import{T as _e}from"./auth-title-DvjaOEJC.js";import{S as xe,a as we,b as ke,c as Ce,d as Pe}from"./index-reEJ308n.js";import{C as Be,a as Le,u as $e,s as De,b as Te}from"./use-vben-form-Cffh3qgp.js";import{D as Ae,a as Se,b as Ie,c as Me,d as Re,C as qe,X as Ee,u as Oe}from"./use-modal-DdvXY5DY.js";import{_ as je}from"./render-content.vue_vue_type_script_lang-DYk6QFkF.js";var Fe=j({__name:"AlertDialogAction",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;return d(),(e,o)=>(z(),F(K(Ae),U(N(t)),{default:V(()=>[W(e.$slots,"default")]),_:3},16))}});const[ze,Ve]=f("AlertDialogContent");var We=j({__name:"AlertDialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=e,n=p(t);d();const a=Q();return Ve({onCancelElementChange:e=>{a.value=e}}),(e,t)=>(z(),F(K(Se),X(i(i({},o),K(n)),{role:"alertdialog",onPointerDownOutside:t[0]||(t[0]=m(()=>{},["prevent"])),onInteractOutside:t[1]||(t[1]=m(()=>{},["prevent"])),onOpenAutoFocus:t[2]||(t[2]=()=>{G(()=>{var e;null==(e=a.value)||e.focus({preventScroll:!0})})})}),{default:V(()=>[W(e.$slots,"default")]),_:3},16))}}),Ue=j({__name:"AlertDialogCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,o=ze(),{forwardRef:n,currentElement:a}=d();return J(()=>{o.onCancelElementChange(a.value)}),(e,o)=>(z(),F(K(Ae),X(t,{ref:K(n)}),{default:V(()=>[W(e.$slots,"default")]),_:3},16))}}),Ne=j({__name:"AlertDialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(e){const t=e;return d(),(e,o)=>(z(),F(K(Ie),U(N(t)),{default:V(()=>[W(e.$slots,"default")]),_:3},16))}}),Ke=j({__name:"AlertDialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(e,o)=>(z(),F(K(g),U(N(t)),{default:V(()=>[W(e.$slots,"default")]),_:3},16))}}),Qe=j({__name:"AlertDialogRoot",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const o=y(e,t);return d(),(e,t)=>(z(),F(K(Me),X(K(o),{modal:!0}),{default:V(t=>[W(e.$slots,"default",U(N(t)))]),_:3},16))}}),Xe=j({__name:"AlertDialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const t=e;return d(),(e,o)=>(z(),F(K(Re),U(N(t)),{default:V(()=>[W(e.$slots,"default")]),_:3},16))}});const Ge=h("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Je=j({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const o=y(e,t);return(e,t)=>(z(),F(K(Qe),U(N(K(o))),{default:V(()=>[W(e.$slots,"default")]),_:3},16))}}),He=j({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(e,o)=>(z(),F(K(Fe),U(N(t)),{default:V(()=>[W(e.$slots,"default")]),_:3},16))}}),Ye=j({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(e,o)=>(z(),F(K(Ue),U(N(t)),{default:V(()=>[W(e.$slots,"default")]),_:3},16))}}),Ze={class:"z-popup inset-0 bg-overlay"},et=j({__name:"AlertDialogOverlay",setup:e=>(v(),(e,t)=>(z(),H("div",Ze)))}),tt=j({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},centered:{type:Boolean},class:{},modal:{type:Boolean,default:!0},open:{type:Boolean},overlayBlur:{},zIndex:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","close","closed","opened"],setup(e,{expose:t,emit:o}){const n=e,a=o,s=Y(()=>{const e=n,{class:t,modal:o,open:a}=e;return u(e,["class","modal","open"])}),l=y(s,a),c=Q(null);function d(e){var t;e.target===(null==(t=c.value)?void 0:t.$el)&&(n.open?a("opened"):a("closed"))}return t({getContentRef:()=>c.value}),(t,o)=>(z(),F(K(Ke),null,{default:V(()=>[Z(b,{name:"fade",appear:""},{default:V(()=>[e.open&&e.modal?(z(),F(et,{key:0,style:te(r(i({},e.zIndex?{zIndex:e.zIndex}:{}),{position:"fixed",backdropFilter:e.overlayBlur&&e.overlayBlur>0?`blur(${e.overlayBlur}px)`:"none"})),onClick:o[0]||(o[0]=()=>a("close"))},null,8,["style"])):ee("",!0)]),_:1}),Z(K(We),X({ref_key:"contentRef",ref:c,style:r(i({},e.zIndex?{zIndex:e.zIndex}:{}),{position:"fixed"}),onAnimationend:d},K(l),{class:K(oe)("z-popup bg-background p-6 shadow-lg outline-none sm:rounded-xl","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",{"data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%]":!e.centered,"data-[state=closed]:slide-out-to-top-[148%] data-[state=open]:slide-in-from-top-[98%]":e.centered,"top-[10vh]":!e.centered,"top-1/2 -translate-y-1/2":e.centered},n.class)}),{default:V(()=>[W(t.$slots,"default")]),_:3},16,["style","class"])]),_:3}))}}),ot=j({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=Y(()=>{const e=t,{class:o}=e;return u(e,["class"])}),n=_(o);return(e,o)=>(z(),F(K(Ne),X(K(n),{class:K(oe)("text-sm text-muted-foreground",t.class)}),{default:V(()=>[W(e.$slots,"default")]),_:3},16,["class"]))}}),nt=j({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=Y(()=>{const e=t,{class:o}=e;return u(e,["class"])}),n=_(o);return(e,o)=>(z(),F(K(Xe),X(K(n),{class:K(oe)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:V(()=>[W(e.$slots,"default")]),_:3},16,["class"]))}}),at=j({__name:"spine-text",props:{animationDuration:{default:2},animationIterationCount:{default:"infinite"}},setup(e){const t=Y(()=>({animation:`shine ${e.animationDuration}s linear ${e.animationIterationCount}`}));return(e,o)=>(z(),H("div",{style:te(t.value),class:"vben-spine-text !bg-clip-text text-transparent"},[W(e.$slots,"default")],4))}}),st=j({__name:"slider-captcha-action",props:{actionStyle:{},isPassing:{type:Boolean},toLeft:{type:Boolean}},setup(e,{expose:t}){const o=e,n=ne("actionRef"),a=Q("0"),s=Y(()=>{const{actionStyle:e}=o;return r(i({},e),{left:a.value})}),l=Y(()=>Number.parseInt(a.value)>10&&!o.isPassing);return t({getEl:()=>n.value,getStyle:()=>{var e;return null==(e=null==n?void 0:n.value)?void 0:e.style},setLeft:e=>{a.value=e}}),(t,o)=>(z(),H("div",{ref_key:"actionRef",ref:n,class:ae([{"transition-width !left-0 duration-300":e.toLeft,"rounded-md":l.value},"bg-background dark:bg-accent absolute left-0 top-0 flex h-full cursor-move items-center justify-center px-3.5 shadow-md"]),style:te(s.value),name:"captcha-action"},[Z(K(x),{"is-passing":e.isPassing,class:"text-foreground/60 size-4"},{default:V(()=>[W(t.$slots,"icon",{},()=>[e.isPassing?(z(),F(K(k),{key:1})):(z(),F(K(w),{key:0}))])]),_:3},8,["is-passing"])],6))}}),lt=j({__name:"slider-captcha-bar",props:{barStyle:{},toLeft:{type:Boolean}},setup(e,{expose:t}){const o=e,n=ne("barRef"),a=Q("0"),s=Y(()=>{const{barStyle:e}=o;return r(i({},e),{width:a.value})});return t({getEl:()=>n.value,setWidth:e=>{a.value=e}}),(t,o)=>(z(),H("div",{ref_key:"barRef",ref:n,class:ae([e.toLeft&&"transition-width !w-0 duration-300","bg-success absolute h-full"]),style:te(s.value)},null,6))}}),it=C(j({__name:"slider-captcha-content",props:{contentStyle:{},isPassing:{type:Boolean},successText:{},text:{}},setup(e,{expose:t}){const o=e,n=ne("contentRef"),a=Y(()=>{const{contentStyle:e}=o;return i({},e)});return t({getEl:()=>n.value}),(t,o)=>(z(),H("div",{ref_key:"contentRef",ref:n,class:ae([{[t.$style.success]:e.isPassing},"absolute top-0 flex size-full select-none items-center justify-center text-xs"]),style:te(a.value)},[W(t.$slots,"text",{},()=>[Z(K(at),{class:"flex h-full items-center"},{default:V(()=>[se(le(e.isPassing?e.successText:e.text),1)]),_:1})])],6))}}),[["__cssModules",{$style:{success:"_success_fwxn1_2"}}]]),rt=j({__name:"index",props:ie({class:{},actionStyle:{default:()=>({})},barStyle:{default:()=>({})},contentStyle:{default:()=>({})},wrapperStyle:{default:()=>({})},isSlot:{type:Boolean,default:!1},successText:{default:""},text:{default:""}},{modelValue:i({type:Boolean},{default:!1}),modelModifiers:{}}),emits:ie(["end","move","start","success"],["update:modelValue"]),setup(e,{expose:t,emit:o}){const n=e,a=o,s=re(e,"modelValue"),l=ue({endTime:0,isMoving:!1,isPassing:!1,moveDistance:0,startTime:0,toLeft:!1});t({resume:h});const i=ne("wrapperRef"),r=ne("barRef"),u=ne("contentRef"),c=ne("actionRef");function d(e){return"pageX"in e?e.pageX:"touches"in e&&e.touches[0]?e.touches[0].pageX:0}function p(e){l.isPassing||c.value&&(a("start",e),l.moveDistance=d(e)-Number.parseInt(c.value.getStyle().left.replace("px","")||"0",10),l.startTime=Date.now(),l.isMoving=!0)}function f(e){var t,o,n;const a=null!=(o=null==(t=i.value)?void 0:t.offsetWidth)?o:220,s=null!=(n=null==e?void 0:e.offsetWidth)?n:40;return{actionWidth:s,offset:a-s-6,wrapperWidth:a}}function m(e){const{isMoving:t,moveDistance:o}=l;if(t){const t=K(c),s=K(r);if(!t||!s)return;const{actionWidth:l,offset:i,wrapperWidth:u}=f(t.getEl()),p=d(e)-o;a("move",{event:e,moveDistance:o,moveX:p}),p>0&&p<=i?(t.setLeft(`${p}px`),s.setWidth(`${p+l/2}px`)):p>i&&(t.setLeft(u-l+"px"),s.setWidth(u-l/2+"px"),n.isSlot||y())}}function g(e){const{isMoving:t,isPassing:o,moveDistance:i}=l;if(t&&!o){a("end",e);const t=c.value,o=K(r);if(!t||!o)return;const p=d(e)-i,{actionWidth:m,offset:g,wrapperWidth:v}=f(t.getEl());p<g?n.isSlot?setTimeout(()=>{if(s.value){const e=K(u);e&&(e.getEl().style.width=`${Number.parseInt(o.getEl().style.width)}px`)}else h()},0):h():(t.setLeft(v-m+"px"),o.setWidth(v-m/2+"px"),y()),l.isMoving=!1}}function y(){n.isSlot?h():(l.endTime=Date.now(),l.isPassing=!0,l.isMoving=!1)}function h(){l.isMoving=!1,l.isPassing=!1,l.moveDistance=0,l.toLeft=!1,l.startTime=0,l.endTime=0;const e=K(c),t=K(r),o=K(u);e&&t&&o&&(o.getEl().style.width="100%",l.toLeft=!0,pe(()=>{l.toLeft=!1,e.setLeft("0"),t.setWidth("0")},300))}return ce(()=>l.isPassing,e=>{if(e){const{endTime:t,startTime:o}=l;a("success",{isPassing:e,time:((t-o)/1e3).toFixed(1)}),s.value=e}}),de(()=>{l.isPassing=!!s.value}),(t,o)=>(z(),H("div",{ref_key:"wrapperRef",ref:i,class:ae(K(oe)("border-border bg-background-deep relative flex h-10 w-full items-center overflow-hidden rounded-md border text-center",n.class)),style:te(e.wrapperStyle),onMouseleave:g,onMousemove:m,onMouseup:g,onTouchend:g,onTouchmove:m},[Z(lt,{ref_key:"barRef",ref:r,"bar-style":e.barStyle,"to-left":l.toLeft},null,8,["bar-style","to-left"]),Z(it,{ref_key:"contentRef",ref:u,"content-style":e.contentStyle,"is-passing":l.isPassing,"success-text":e.successText||K(P)("ui.captcha.sliderSuccessText"),text:e.text||K(P)("ui.captcha.sliderDefaultText")},fe({_:2},[t.$slots.text?{name:"text",fn:V(()=>[W(t.$slots,"text",{isPassing:l.isPassing})]),key:"0"}:void 0]),1032,["content-style","is-passing","success-text","text"]),Z(st,{ref_key:"actionRef",ref:c,"action-style":e.actionStyle,"is-passing":l.isPassing,"to-left":l.toLeft,onMousedown:p,onTouchstart:p},fe({_:2},[t.$slots.actionIcon?{name:"icon",fn:V(()=>[W(t.$slots,"actionIcon",{isPassing:l.isPassing})]),key:"0"}:void 0]),1032,["action-style","is-passing","to-left"])],38))}}),[ut,ct]=f("VbenAlertContext"),dt={class:"flex items-center"},pt={class:"flex-auto"},ft={class:"m-4 min-h-[30px]"},mt=j({__name:"alert",props:ie({beforeClose:{},bordered:{type:Boolean,default:!0},buttonAlign:{default:"end"},cancelText:{},centered:{type:Boolean,default:!0},confirmText:{},containerClass:{},content:{},contentClass:{},contentMasking:{type:Boolean},footer:{},icon:{},overlayBlur:{},showCancel:{type:Boolean},title:{}},{open:i({type:Boolean},{default:!1}),openModifiers:{}}),emits:ie(["closed","confirm","opened"],["update:open"]),setup(e,{emit:t}){const o=e,n=t,a=re(e,"open"),{$t:s}=B(),l=L.getComponents(),i=Q(!1);function r(){n("closed",i.value),i.value=!1}function u(){i.value=!1}const d=Y(()=>{var e;let t=null;if(o.icon){if("string"==typeof o.icon)switch(o.icon){case"error":t=me($,{style:{color:"hsl(var(--destructive))"}});break;case"info":t=me(Ge,{style:{color:"hsl(var(--info))"}});break;case"question":t=Le;break;case"success":t=me(qe,{style:{color:"hsl(var(--success))"}});break;case"warning":t=me(Be,{style:{color:"hsl(var(--warning))"}});break;default:t=null}}else t=null!=(e=o.icon)?e:null;return t});function p(){i.value=!0,n("confirm")}function f(){i.value=!1}ct({doCancel:function(){f(),g(!1)},doConfirm:function(){p(),g(!1)}});const m=Q(!1);function g(e){return c(this,null,function*(){if(yield G(),!e&&o.beforeClose){m.value=!0;try{!1!==(yield o.beforeClose({isConfirm:i.value}))&&(a.value=!1)}finally{m.value=!1}}else a.value=e})}return(t,o)=>(z(),F(K(Je),{open:a.value,"onUpdate:open":g},{default:V(()=>[Z(K(tt),{open:a.value,centered:e.centered,"overlay-blur":e.overlayBlur,onOpened:o[0]||(o[0]=e=>n("opened")),onClosed:r,onEscapeKeyDown:u,class:ae(K(oe)(e.containerClass,"left-0 right-0 mx-auto flex max-h-[80%] flex-col p-0 duration-300 sm:w-[520px] sm:max-w-[80%] sm:rounded-[var(--radius)]",{"border border-border":e.bordered,"shadow-3xl":!e.bordered}))},{default:V(()=>[ge("div",{class:ae(K(oe)("relative flex-1 overflow-y-auto p-3",e.contentClass))},[e.title?(z(),F(K(nt),{key:0},{default:V(()=>[ge("div",dt,[(z(),F(ye(d.value),{class:"mr-2"})),ge("span",pt,le(K(s)(e.title)),1),e.showCancel?(z(),F(K(Ye),{key:0,"as-child":""},{default:V(()=>[Z(K(D),{variant:"ghost",size:"icon",class:"rounded-full",disabled:m.value,onClick:f},{default:V(()=>[Z(K(Ee),{class:"size-4 text-muted-foreground"})]),_:1},8,["disabled"])]),_:1})):ee("",!0)])]),_:1})):ee("",!0),Z(K(ot),null,{default:V(()=>[ge("div",ft,[Z(K(je),{content:e.content,"render-br":""},null,8,["content"])]),m.value&&e.contentMasking?(z(),F(K(T),{key:0,spinning:m.value},null,8,["spinning"])):ee("",!0)]),_:1}),ge("div",{class:ae(["flex items-center justify-end gap-x-2",`justify-${e.buttonAlign}`])},[Z(K(je),{content:e.footer},null,8,["content"]),e.showCancel?(z(),F(K(Ye),{key:0,"as-child":""},{default:V(()=>[(z(),F(ye(K(l).DefaultButton||K(D)),{disabled:m.value,variant:"ghost",onClick:f},{default:V(()=>[se(le(e.cancelText||K(s)("cancel")),1)]),_:1},8,["disabled"]))]),_:1})):ee("",!0),Z(K(He),{"as-child":""},{default:V(()=>[(z(),F(ye(K(l).PrimaryButton||K(D)),{loading:m.value,onClick:p},{default:V(()=>[se(le(e.confirmText||K(s)("confirm")),1)]),_:1},8,["loading"]))]),_:1})],2)],2)]),_:1},8,["open","centered","overlay-blur","class"])]),_:1},8,["open"]))}}),gt=Q([]),{$t:yt}=B();const ht=j({__name:"dingding-login",props:{clientId:{},corpId:{},redirectUri:{},isQrCode:{type:Boolean}},setup(e){const t=e,o=S(),[n,a]=Oe({header:!1,footer:!1,fullscreenButton:!1,class:"w-[302px] h-[302px] dingding-qrcode-login-modal",onOpened(){l()}}),s=()=>{const{redirectUri:e}=t;return e||window.location.origin+o.fullPath},l=()=>c(null,null,function*(){const{clientId:e,corpId:o}=t;window.DTFrameLogin||(yield ve("https://g.alicdn.com/dingding/h5-dingtalk-login/0.21.0/ddlogin.js")),window.DTFrameLogin({id:"dingding_qrcode_login_element",width:300,height:300},{redirect_uri:encodeURIComponent(s()),client_id:e,scope:"openid corpid",response_type:"code",state:"1",prompt:"consent",corpId:o},e=>{const{redirectUrl:t}=e;window.location.href=t},e=>{var t;t=`Login Error: ${e}`,new Promise((e,o)=>{var n,a;const s=he(t)?{content:t}:i({},t),l=document.createElement("div");document.body.append(l);const u={container:l,instance:null},c=r(i({onClosed:t=>{gt.value=gt.value.filter(e=>e!==u),A(null,l),l.parentNode&&l.remove(),t?e():o(new Error("dialog cancelled"))}},s),{open:!0,title:null!=(n=s.title)?n:yt.value("prompt")}),d=me(mt,c);A(d,l),u.instance=null==(a=d.component)?void 0:a.proxy,gt.value.push(u)})})}),u=()=>{const{clientId:e,corpId:o,isQrCode:n}=t;n?a.open():window.location.href=`https://login.dingtalk.com/oauth2/auth?redirect_uri=${encodeURIComponent(s())}&response_type=code&client_id=${e}&scope=openid&corpid=${o}&prompt=consent`};return(e,t)=>(z(),H("div",null,[Z(K(I),{onClick:u,tooltip:K(P)("authentication.dingdingLogin"),"tooltip-side":"top"},{default:V(()=>[Z(K(xe))]),_:1},8,["tooltip"]),Z(K(n),null,{default:V(()=>[...t[0]||(t[0]=[ge("div",{id:"dingding_qrcode_login_element"},null,-1)])]),_:1})]))}}),vt={VITE_GLOB_API_URL:"/"},bt={class:"w-full sm:mx-auto md:max-w-md"},_t={class:"mt-4 flex items-center justify-between"},xt={class:"text-muted-foreground text-center text-xs uppercase"},wt={class:"mt-4 flex flex-wrap justify-center"},kt=j(r(i({},{name:"ThirdPartyLogin"}),{__name:"third-party-login",setup(e){const{auth:{dingding:t}}=M(vt,!0);return(e,o)=>(z(),H("div",bt,[ge("div",_t,[o[0]||(o[0]=ge("span",{class:"border-input w-[35%] border-b dark:border-gray-600"},null,-1)),ge("span",xt,le(K(P)("authentication.thirdPartyLogin")),1),o[1]||(o[1]=ge("span",{class:"border-input w-[35%] border-b dark:border-gray-600"},null,-1))]),ge("div",wt,[Z(K(I),{tooltip:K(P)("authentication.wechatLogin"),"tooltip-side":"top",class:"mb-3"},{default:V(()=>[Z(K(we))]),_:1},8,["tooltip"]),Z(K(I),{tooltip:K(P)("authentication.qqLogin"),"tooltip-side":"top",class:"mb-3"},{default:V(()=>[Z(K(ke))]),_:1},8,["tooltip"]),Z(K(I),{tooltip:K(P)("authentication.githubLogin"),"tooltip-side":"top",class:"mb-3"},{default:V(()=>[Z(K(Ce))]),_:1},8,["tooltip"]),Z(K(I),{tooltip:K(P)("authentication.googleLogin"),"tooltip-side":"top",class:"mb-3"},{default:V(()=>[Z(K(Pe))]),_:1},8,["tooltip"]),K(t)?(z(),F(ht,{key:0,"corp-id":K(t).corpId,"client-id":K(t).clientId,class:"mb-3"},null,8,["corp-id","client-id"])):ee("",!0)])]))}})),Ct=["onKeydown"],Pt={class:"text-muted-foreground"},Bt={key:0,class:"mb-6 flex justify-between"},Lt={class:"flex-center"},$t={key:1,class:"mb-2 mt-4 flex items-center justify-between"},Dt={key:0,class:"mt-3 text-center text-sm"},Tt=j(r(i({},{name:"AuthenticationLogin"}),{__name:"login",props:{formSchema:{default:()=>[]},codeLoginPath:{default:"/auth/code-login"},forgetPasswordPath:{default:"/auth/forget-password"},loading:{type:Boolean,default:!1},qrCodeLoginPath:{default:"/auth/qrcode-login"},registerPath:{default:"/auth/register"},showCodeLogin:{type:Boolean,default:!0},showForgetPassword:{type:Boolean,default:!0},showQrcodeLogin:{type:Boolean,default:!0},showRegister:{type:Boolean,default:!0},showRememberMe:{type:Boolean,default:!0},showThirdPartyLogin:{type:Boolean,default:!0},subTitle:{default:""},title:{default:""},submitButtonText:{default:""}},emits:["submit"],setup(e,{expose:t,emit:o}){const n=e,a=o,[s,l]=$e(ue({commonConfig:{hideLabel:!0,hideRequiredMark:!0},schema:Y(()=>n.formSchema),showDefaultActions:!1})),i=R(),r=`REMEMBER_ME_USERNAME_${location.hostname}`,u=localStorage.getItem(r)||"",d=Q(!!u);function p(){return c(this,null,function*(){const{valid:e}=yield l.validate(),t=yield l.getValues();e&&(localStorage.setItem(r,d.value?null==t?void 0:t.username:""),a("submit",t))})}function f(e){i.push(e)}return J(()=>{u&&l.setFieldValue("username",u)}),t({getFormApi:()=>l}),(t,o)=>(z(),H("div",{onKeydown:E(m(p,["prevent"]),["enter"])},[W(t.$slots,"title",{},()=>[Z(_e,null,{desc:V(()=>[ge("span",Pt,[W(t.$slots,"subTitle",{},()=>[se(le(e.subTitle||K(P)("authentication.loginSubtitle")),1)])])]),default:V(()=>[W(t.$slots,"title",{},()=>[se(le(e.title||`${K(P)("authentication.welcomeBack")} ðŸ‘‹ðŸ»`),1)])]),_:3})]),Z(K(s)),e.showRememberMe||e.showForgetPassword?(z(),H("div",Bt,[ge("div",Lt,[e.showRememberMe?(z(),F(K(q),{key:0,modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=e=>d.value=e),name:"rememberMe"},{default:V(()=>[se(le(K(P)("authentication.rememberMe")),1)]),_:1},8,["modelValue"])):ee("",!0)]),e.showForgetPassword?(z(),H("span",{key:0,class:"vben-link text-sm font-normal",onClick:o[1]||(o[1]=t=>f(e.forgetPasswordPath))},le(K(P)("authentication.forgetPassword")),1)):ee("",!0)])):ee("",!0),Z(K(D),{class:ae([{"cursor-wait":e.loading},"w-full"]),loading:e.loading,"aria-label":"login",onClick:p},{default:V(()=>[se(le(e.submitButtonText||K(P)("common.login")),1)]),_:1},8,["class","loading"]),e.showCodeLogin||e.showQrcodeLogin?(z(),H("div",$t,[e.showCodeLogin?(z(),F(K(D),{key:0,class:"w-1/2",variant:"outline",onClick:o[2]||(o[2]=t=>f(e.codeLoginPath))},{default:V(()=>[se(le(K(P)("authentication.mobileLogin")),1)]),_:1})):ee("",!0),e.showQrcodeLogin?(z(),F(K(D),{key:1,class:"ml-4 w-1/2",variant:"outline",onClick:o[3]||(o[3]=t=>f(e.qrCodeLoginPath))},{default:V(()=>[se(le(K(P)("authentication.qrcodeLogin")),1)]),_:1})):ee("",!0)])):ee("",!0),W(t.$slots,"third-party-login",{},()=>[e.showThirdPartyLogin?(z(),F(kt,{key:0})):ee("",!0)]),W(t.$slots,"to-register",{},()=>[e.showRegister?(z(),H("div",Dt,[se(le(K(P)("authentication.accountTip"))+" ",1),ge("span",{class:"vben-link text-sm font-normal",onClick:o[4]||(o[4]=t=>f(e.registerPath))},le(K(P)("authentication.createAccount")),1)])):ee("",!0)])],40,Ct))}})),At=j(r(i({},{name:"Login"}),{__name:"login",setup(e){const t=O(),o=[{label:"Super",value:"vben"},{label:"Admin",value:"admin"},{label:"User",value:"jack"}],n=Y(()=>[{component:"VbenSelect",componentProps:{options:o,placeholder:P("authentication.selectAccount")},fieldName:"selectAccount",label:P("authentication.selectAccount"),rules:De().min(1,{message:P("authentication.selectAccount")}).optional().default("vben")},{component:"VbenInput",componentProps:{placeholder:P("authentication.usernameTip")},dependencies:{trigger(e,t){if(e.selectAccount){const n=o.find(t=>t.value===e.selectAccount);n&&t.setValues({password:"123456",username:n.value})}},triggerFields:["selectAccount"]},fieldName:"username",label:P("authentication.username"),rules:De().min(1,{message:P("authentication.usernameTip")})},{component:"VbenInputPassword",componentProps:{placeholder:P("authentication.password")},fieldName:"password",label:P("authentication.password"),rules:De().min(1,{message:P("authentication.passwordTip")})},{component:be(rt),fieldName:"captcha",rules:Te().refine(e=>e,{message:P("authentication.verifyRequiredTip")})}]);return(e,o)=>(z(),F(K(Tt),{"form-schema":n.value,loading:K(t).loginLoading,onSubmit:K(t).authLogin},null,8,["form-schema","loading","onSubmit"]))}}));export{At as _};
