var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=Math.pow,o=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,l=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&o(e,n,t[n]);if(s)for(var n of s(t))r.call(t,n)&&o(e,n,t[n]);return e},u=(e,s)=>t(e,n(s)),d=(e,t,n)=>o(e,"symbol"!=typeof t?t+"":t,n),c=(e,t,n)=>new Promise((s,a)=>{var r=e=>{try{o(n.next(e))}catch(t){a(t)}},i=e=>{try{o(n.throw(e))}catch(t){a(t)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,i);o((n=n.apply(e,t)).next())});import{a1 as p,ai as h,aj as f,a9 as m,a5 as v,ak as y,al as g,p as _,aR as b,aS as k,aW as x,aX as w,ap as C,az as O,ax as S,ay as T,L as j,U as A,a4 as N,m as F,bu as Z,bh as R,Q as E,i as P,bv as $,bw as I,bx as V,j as M,by as L,bz as B,aA as z,E as D,a as q,an as U,F as W,ar as K,ag as H,bA as Y,bB as J,bt as X,ad as G,aU as Q,am as ee,b0 as te,aq as ne,av as se,aw as ae,V as re,bC as ie,aa as oe,aL as le,aP as ue,a0 as de,aJ as ce,R as pe,a8 as he,f as fe}from"../jse/index-index-BjsohvV2.js";import{b7 as me,b8 as ve,b9 as ye,ba as ge,bb as _e,a$ as be,bc as ke,bd as xe,be as we,bf as Ce,bg as Oe,bh as Se,bi as Te,bj as je,bk as Ae,bl as Ne,bm as Fe,bn as Ze,Y as Re,X as Ee,bo as Pe,bp as $e,bq as Ie,br as Ve,bs as Me,bt as Le}from"./bootstrap-Dknk63fm.js";import{u as Be,_ as ze,a as De,b as qe,c as Ue}from"./FormLabel.vue_vue_type_script_setup_true_lang-CKyOmHKZ.js";import{_ as We}from"./render-content.vue_vue_type_script_lang-DYk6QFkF.js";function Ke(e){return null!==e&&("object"==typeof e||"function"==typeof e)}const He=/^(?:0|[1-9]\d*)$/;function Ye(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return He.test(e)}}const Je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xe=/^\w*$/;function Ge(e,t){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!function(e){return"symbol"==typeof e||e instanceof Symbol}(e))||("string"==typeof e&&(Xe.test(e)||!Je.test(e))||null!=t&&Object.hasOwn(t,e)))}const Qe=(e,t,n)=>{const s=e[t];Object.hasOwn(e,t)&&me(s,n)&&(void 0!==n||t in e)||(e[t]=n)};function et(e,t,n){return function(e,t,n,s){if(null==e&&!Ke(e))return e;const a=Ge(t,e)?[t]:Array.isArray(t)?t:"string"==typeof t?ve(t):[t],r=n(ye(e,a));let i=e;for(let o=0;o<a.length&&null!=i;o++){const t=ge(a[o]);if(_e(t))continue;let n;if(o===a.length-1)n=r;else{const r=i[t],l=null==s?void 0:s(r,t,e);n=void 0!==l?l:Ke(r)?r:Ye(a[o+1])?[]:{}}Qe(i,t,n),i=i[t]}return e}(e,t,()=>n,()=>{})}const tt=be("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),nt=be("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),st=p({__name:"FormMessage",setup(e){const{formMessageId:t,name:n}=Be();return(e,s)=>(f(),h(m(ke),{id:m(t),name:v(m(n)),as:"p",class:"text-[0.8rem] text-destructive"},null,8,["id","name"]))}}),at=p(u(l({},{inheritAttrs:!1}),{__name:"help-tooltip",props:{triggerClass:{}},setup:e=>(t,n)=>(f(),h(xe,{"delay-duration":300,side:"right"},{trigger:y(()=>[g(t.$slots,"trigger",{},()=>[_(m(nt),{class:b(m(k)("inline-flex size-5 cursor-pointer text-foreground/80 hover:text-foreground",e.triggerClass))},null,8,["class"])])]),default:y(()=>[g(t.$slots,"default")]),_:3}))})),rt=p({__name:"expandable-arrow",props:x({class:{}},{modelValue:{default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=w(e,"modelValue");return(e,s)=>(f(),C("div",{class:b(m(k)("vben-link inline-flex items-center",t.class)),onClick:s[0]||(s[0]=e=>n.value=!n.value)},[g(e.$slots,"default",{isExpanded:n.value},()=>[S(T(n.value),1)]),O("div",{class:b([{"rotate-180":!n.value},"transition-transform duration-300"])},[g(e.$slots,"icon",{},()=>[_(m(we),{class:"size-4"})])],2)],2))}}),it=new WeakMap,ot=new WeakMap,lt={current:[]};let ut=!1;const dt=new Set,ct=new Map;function pt(e){for(const t of e){if(lt.current.includes(t))continue;lt.current.push(t),t.recompute();const e=ot.get(t);if(e)for(const t of e){const e=it.get(t);(null==e?void 0:e.length)&&pt(e)}}}function ht(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function ft(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}class mt{constructor(e,t){this.listeners=new Set,this.subscribe=e=>{var t,n;this.listeners.add(e);const s=null==(n=null==(t=this.options)?void 0:t.onSubscribe)?void 0:n.call(t,e,this);return()=>{this.listeners.delete(e),null==s||s()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,n,s;this.prevState=this.state,(null==(t=this.options)?void 0:t.updateFn)?this.state=this.options.updateFn(this.prevState)(e):!function(e){return"function"==typeof e}(e)?this.state=e:this.state=e(this.prevState),null==(s=null==(n=this.options)?void 0:n.onUpdate)||s.call(n),function(e){var t;if(dt.add(e),!ut)try{for(ut=!0;dt.size>0;){const e=Array.from(dt);dt.clear();for(const n of e){const e=null!=(t=ct.get(n))?t:n.prevState;n.prevState=e,ht(n)}for(const t of e){const e=it.get(t);e&&(lt.current.push(t),pt(e))}for(const t of e){const e=it.get(t);if(e)for(const t of e)ft(t)}}}finally{ut=!1,lt.current=[],ct.clear()}}(this)}}function vt(e,t=e=>e,n={}){var s;const a=j(t(e.state)),r=null!=(s=n.equal)?s:yt;return A(()=>e,(e,n,s)=>{const i=e.subscribe(()=>{const n=t(e.state);r(F(a.value),n)||(a.value=n)});s(()=>{i()})},{immediate:!0}),N(a)}function yt(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,s]of e)if(!t.has(n)||!Object.is(s,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Object.is(e[n[s]],t[n[s]]))return!1;return!0}class gt{constructor(e={}){d(this,"form",{}),d(this,"isMounted",!1),d(this,"state",null),d(this,"stateHandler"),d(this,"store"),d(this,"componentRefMap",new Map),d(this,"latestSubmissionValues",null),d(this,"prevState",null),d(this,"handleMultiFields",e=>{var t;const n=null==(t=this.state)?void 0:t.arrayToStringFields;if(!n||!Array.isArray(n))return;const s=(t,n=",")=>{this.processFields(t,n,e,(e,t)=>{if(Array.isArray(e))return e.join(t);if("string"==typeof e){if(""===e)return[];const n=t.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`);return e.split(new RegExp(n))}return e})};if(n.every(e=>"string"==typeof e)){const e=n[n.length-1]||"",t=1===e.length?n.slice(0,-1):n,a=1===e.length?e:",";return void s(t,a)}n.forEach(e=>{if(Array.isArray(e)){const[t,n=","]=e;if(!Array.isArray(t))return void console.warn("Invalid field configuration: fields should be an array of strings, got "+typeof t);s(t,n)}})}),d(this,"handleRangeTimeValue",e=>{var t;const n=l({},e),s=null==(t=this.state)?void 0:t.fieldMappingTime;return this.handleMultiFields(n),s&&Array.isArray(s)?(s.forEach(([e,[t,s],a="YYYY-MM-DD"])=>{if(t&&s&&null===n[e]&&(Reflect.deleteProperty(n,t),Reflect.deleteProperty(n,s)),!n[e])return void Reflect.deleteProperty(n,e);const[r,i]=n[e];if(null===a)n[t]=r,n[s]=i;else if(P(a))n[t]=a(r,t),n[s]=a(i,s);else{const[e,o]=Array.isArray(a)?a:[a,a];n[t]=r?V(r,e):void 0,n[s]=i?V(i,o):void 0}Reflect.deleteProperty(n,e)}),n):n}),d(this,"processFields",(e,t,n,s)=>{e.forEach(e=>{const a=n[e];null!=a&&(n[e]=s(a,t))})});const t=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&s)for(var i of s(e))t.indexOf(i)<0&&r.call(e,i)&&(n[i]=e[i]);return n})(e,[]),n={actionWrapperClass:"",collapsed:!1,collapsedRows:1,collapseTriggerResize:!1,commonConfig:{},handleReset:void 0,handleSubmit:void 0,handleValuesChange:void 0,handleCollapsedChange:void 0,layout:"horizontal",resetButtonOptions:{},schema:[],scrollToFirstError:!1,showCollapseButton:!1,showDefaultActions:!0,submitButtonOptions:{},submitOnChange:!1,submitOnEnter:!1,wrapperClass:"grid-cols-1"};this.store=new mt(l(l({},n),t),{onUpdate:()=>{this.prevState=this.state,this.state=this.store.state,this.updateState()}}),this.state=this.store.state,this.stateHandler=new Z,R(this)}getFieldComponentRef(e){var t,n;let s=this.componentRefMap.has(e)?this.componentRefMap.get(e):void 0;return s&&"AsyncComponentWrapper"===s.$.type.name&&s.$.subTree.ref&&(Array.isArray(s.$.subTree.ref)?s.$.subTree.ref.length>0&&E(null==(t=s.$.subTree.ref[0])?void 0:t.r)&&(s=null==(n=s.$.subTree.ref[0])?void 0:n.r.value):E(s.$.subTree.ref.r)&&(s=s.$.subTree.ref.r.value)),s}getFocusedField(){for(const e of this.componentRefMap.keys()){const t=this.getFieldComponentRef(e);if(t){let n=null;if(t instanceof HTMLElement?n=t:t.$el instanceof HTMLElement&&(n=t.$el),!n)continue;if(n===document.activeElement||n.contains(document.activeElement))return e}}}getLatestSubmissionValues(){return this.latestSubmissionValues||{}}getState(){return this.state}getValues(){return c(this,null,function*(){const e=yield this.getForm();return e.values?this.handleRangeTimeValue(e.values):{}})}isFieldValid(e){return c(this,null,function*(){return(yield this.getForm()).isFieldValid(e)})}merge(e){const t=[this,e],n=new Proxy(e,{get:(e,s)=>"merge"===s?e=>(t.push(e),n):"submitAllForm"===s?(e=!0)=>c(null,null,function*(){try{const n=yield Promise.all(t.map(e=>c(null,null,function*(){if(!(yield e.validate()).valid)return;return F((yield e.getValues())||{})})));if(e){return Object.assign({},...n)}return n}catch(n){console.error("Validation error:",n)}}):e[s]});return n}mount(e,t){this.isMounted||(Object.assign(this.form,e),this.stateHandler.setConditionTrue(),this.setLatestSubmissionValues(l({},F(this.handleRangeTimeValue(this.form.values)))),this.componentRefMap=t,this.isMounted=!0)}removeSchemaByFields(e){return c(this,null,function*(){var t,n;const s=new Set(e),a=(null!=(n=null==(t=this.state)?void 0:t.schema)?n:[]).filter(e=>!s.has(e.fieldName));this.setState({schema:a})})}resetForm(e,t){return c(this,null,function*(){return(yield this.getForm()).resetForm(e,t)})}resetValidate(){return c(this,null,function*(){const e=yield this.getForm();Object.keys(e.errors.value).forEach(t=>{e.setFieldError(t,void 0)})})}scrollToFirstError(e){const t="string"==typeof e?e:Object.keys(e)[0];if(!t)return;let n=document.querySelector(`[name="${t}"]`);if(!n){const e=this.getFieldComponentRef(t);e&&e.$el instanceof HTMLElement&&(n=e.$el)}n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}setFieldValue(e,t,n){return c(this,null,function*(){(yield this.getForm()).setFieldValue(e,t,n)})}setLatestSubmissionValues(e){this.latestSubmissionValues=l({},F(e))}setState(e){P(e)?this.store.setState(t=>$(e(t),t)):this.store.setState(t=>$(e,t))}setValues(e,t=!0,n=!1){return c(this,null,function*(){const s=yield this.getForm();if(!t)return void s.setValues(e,n);const a=I((e,t,n)=>(t in e&&(e[t]=Array.isArray(e[t])||!M(e[t])||L(e[t])||B(e[t])?n:a(n,e[t])),!0)),r=a(e,s.values);s.setValues(r,n)})}submitForm(e){return c(this,null,function*(){var t,n;null==e||e.preventDefault(),null==e||e.stopPropagation();const s=yield this.getForm();yield s.submitForm();const a=F(yield this.getValues());return yield null==(n=null==(t=this.state)?void 0:t.handleSubmit)?void 0:n.call(t,a),a})}unmount(){var e,t;null==(t=null==(e=this.form)?void 0:e.resetForm)||t.call(e),this.latestSubmissionValues=null,this.isMounted=!1,this.stateHandler.reset()}updateSchema(e){var t,n;const s=[...e];if(!s.every(e=>Reflect.has(e,"fieldName")&&e.fieldName))return void console.error("All items in the schema array must have a valid `fieldName` property to be updated");const a=[...null!=(n=null==(t=this.state)?void 0:t.schema)?n:[]],r={};s.forEach(e=>{e.fieldName&&(r[e.fieldName]=e)}),a.forEach((e,t)=>{const n=r[e.fieldName];n&&(a[t]=$(n,e))}),this.setState({schema:a})}validate(e){return c(this,null,function*(){var t,n;const s=yield this.getForm(),a=yield s.validate(e);return Object.keys(null!=(t=null==a?void 0:a.errors)?t:{}).length>0&&(console.error("validate error",null==a?void 0:a.errors),(null==(n=this.state)?void 0:n.scrollToFirstError)&&this.scrollToFirstError(a.errors)),a})}validateAndSubmitForm(){return c(this,null,function*(){var e;const t=yield this.getForm(),{valid:n,errors:s}=yield t.validate();if(n)return yield this.submitForm();(null==(e=this.state)?void 0:e.scrollToFirstError)&&this.scrollToFirstError(s)})}validateField(e,t){return c(this,null,function*(){var n,s;const a=yield this.getForm(),r=yield a.validateField(e,t);return Object.keys(null!=(n=null==r?void 0:r.errors)?n:{}).length>0&&(console.error("validate error",null==r?void 0:r.errors),(null==(s=this.state)?void 0:s.scrollToFirstError)&&this.scrollToFirstError(e)),r})}getForm(){return c(this,null,function*(){var e;if(this.isMounted||(yield this.stateHandler.waitForCondition()),!(null==(e=this.form)?void 0:e.meta))throw new Error("<VbenForm /> is not mounted");return this.form})}updateState(){var e,t,n,s,a,r;const i=null!=(t=null==(e=this.state)?void 0:e.schema)?t:[],o=null!=(s=null==(n=this.prevState)?void 0:n.schema)?s:[];if(i.length<o.length){const e=new Set(i.map(e=>e.fieldName)),t=o.filter(t=>!e.has(t.fieldName));for(const n of t)null==(r=null==(a=this.form)?void 0:a.setFieldValue)||r.call(a,n.fieldName,void 0)}}}var _t,bt,kt;(bt=_t||(_t={})).assertEqual=e=>{},bt.assertIs=function(e){},bt.assertNever=function(e){throw new Error},bt.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},bt.getValidEnumValues=e=>{const t=bt.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(const s of t)n[s]=e[s];return bt.objectValues(n)},bt.objectValues=e=>bt.objectKeys(e).map(function(t){return e[t]}),bt.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},bt.find=(e,t)=>{for(const n of e)if(t(n))return n},bt.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,bt.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},bt.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(kt||(kt={})).mergeShapes=(e,t)=>l(l({},e),t);const xt=_t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wt=e=>{switch(typeof e){case"undefined":return xt.undefined;case"string":return xt.string;case"number":return Number.isNaN(e)?xt.nan:xt.number;case"boolean":return xt.boolean;case"function":return xt.function;case"bigint":return xt.bigint;case"symbol":return xt.symbol;case"object":return Array.isArray(e)?xt.array:null===e?xt.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?xt.promise:"undefined"!=typeof Map&&e instanceof Map?xt.map:"undefined"!=typeof Set&&e instanceof Set?xt.set:"undefined"!=typeof Date&&e instanceof Date?xt.date:xt.object;default:return xt.unknown}},Ct=_t.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ot extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},s=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(s);else if("invalid_return_type"===a.code)s(a.returnTypeError);else if("invalid_arguments"===a.code)s(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,s=0;for(;s<a.path.length;){const n=a.path[s];s===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],s++}}};return s(this),n}static assert(e){if(!(e instanceof Ot))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_t.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const s of this.issues)if(s.path.length>0){const n=s.path[0];t[n]=t[n]||[],t[n].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Ot.create=e=>new Ot(e);const St=(e,t)=>{let n;switch(e.code){case Ct.invalid_type:n=e.received===xt.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Ct.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,_t.jsonStringifyReplacer)}`;break;case Ct.unrecognized_keys:n=`Unrecognized key(s) in object: ${_t.joinValues(e.keys,", ")}`;break;case Ct.invalid_union:n="Invalid input";break;case Ct.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${_t.joinValues(e.options)}`;break;case Ct.invalid_enum_value:n=`Invalid enum value. Expected ${_t.joinValues(e.options)}, received '${e.received}'`;break;case Ct.invalid_arguments:n="Invalid function arguments";break;case Ct.invalid_return_type:n="Invalid function return type";break;case Ct.invalid_date:n="Invalid date";break;case Ct.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:_t.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Ct.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Ct.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Ct.custom:n="Invalid input";break;case Ct.invalid_intersection_types:n="Intersection results could not be merged";break;case Ct.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ct.not_finite:n="Number must be finite";break;default:n=t.defaultError,_t.assertNever(e)}return{message:n}};let Tt=St;function jt(e,t){const n=Tt,s=(e=>{const{data:t,path:n,errorMaps:s,issueData:a}=e,r=[...n,...a.path||[]],i=u(l({},a),{path:r});if(void 0!==a.message)return u(l({},a),{path:r,message:a.message});let o="";const d=s.filter(e=>!!e).slice().reverse();for(const l of d)o=l(i,{data:t,defaultError:o}).message;return u(l({},a),{path:r,message:o})})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===St?void 0:St].filter(e=>!!e)});e.common.issues.push(s)}class At{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if("aborted"===s.status)return Nt;"dirty"===s.status&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static mergeObjectAsync(e,t){return c(this,null,function*(){const n=[];for(const e of t){const t=yield e.key,s=yield e.value;n.push({key:t,value:s})}return At.mergeObjectSync(e,n)})}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:t,value:a}=s;if("aborted"===t.status)return Nt;if("aborted"===a.status)return Nt;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||void 0===a.value&&!s.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const Nt=Object.freeze({status:"aborted"}),Ft=e=>({status:"dirty",value:e}),Zt=e=>({status:"valid",value:e}),Rt=e=>"aborted"===e.status,Et=e=>"dirty"===e.status,Pt=e=>"valid"===e.status,$t=e=>"undefined"!=typeof Promise&&e instanceof Promise;var It,Vt;(Vt=It||(It={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},Vt.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class Mt{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lt=(e,t)=>{if(Pt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ot(e.common.issues);return this._error=t,this._error}}};function Bt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:a}=e;if(t&&(n||s))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var r,i;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:a.defaultError}:void 0===a.data?{message:null!=(r=null!=o?o:s)?r:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!=(i=null!=o?o:n)?i:a.defaultError}},description:a}}class zt{get description(){return this._def.description}_getType(e){return wt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:wt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new At,ctx:{common:e.parent.common,data:e.data,parsedType:wt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if($t(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const s={common:{issues:[],async:null!=(n=null==t?void 0:t.async)&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wt(e)},a=this._parseSync({data:e,path:s.path,parent:s});return Lt(s,a)}"~validate"(e){var t,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wt(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:s});return Pt(t)?{value:t.value}:{issues:s.common.issues}}catch(a){(null==(n=null==(t=null==a?void 0:a.message)?void 0:t.toLowerCase())?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(e=>Pt(e)?{value:e.value}:{issues:s.common.issues})}parseAsync(e,t){return c(this,null,function*(){const n=yield this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error})}safeParseAsync(e,t){return c(this,null,function*(){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wt(e)},s=this._parse({data:e,path:n.path,parent:n}),a=yield $t(s)?s:Promise.resolve(s);return Lt(n,a)})}refine(e,t){return this._refinement((n,s)=>{const a=e(n),r=()=>s.addIssue(l({code:Ct.custom},(e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t)(n)));return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(r(),!1)):!!a||(r(),!1)})}refinement(e,t){return this._refinement((n,s)=>!!e(n)||(s.addIssue("function"==typeof t?t(n,s):t),!1))}_refinement(e){return new zn({schema:this,typeName:Xn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Dn.create(this,this._def)}nullable(){return qn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sn.create(this)}promise(){return Bn.create(this,this._def)}or(e){return An.create([this,e],this._def)}and(e){return Fn.create(this,e,this._def)}transform(e){return new zn(u(l({},Bt(this._def)),{schema:this,typeName:Xn.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"==typeof e?e:()=>e;return new Un(u(l({},Bt(this._def)),{innerType:this,defaultValue:t,typeName:Xn.ZodDefault}))}brand(){return new Hn(l({typeName:Xn.ZodBranded,type:this},Bt(this._def)))}catch(e){const t="function"==typeof e?e:()=>e;return new Wn(u(l({},Bt(this._def)),{innerType:this,catchValue:t,typeName:Xn.ZodCatch}))}describe(e){return new(0,this.constructor)(u(l({},this._def),{description:e}))}pipe(e){return Yn.create(this,e)}readonly(){return Jn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Dt=/^c[^\s-]{8,}$/i,qt=/^[0-9a-z]+$/,Ut=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Wt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Kt=/^[a-z0-9_-]{21}$/i,Ht=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Yt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Xt;const Gt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,en=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sn=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,an="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rn=new RegExp(`^${an}$`);function on(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function ln(e){return new RegExp(`^${on(e)}$`)}function un(e){let t=`${an}T${on(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function dn(e,t){return!("v4"!==t&&t||!Gt.test(e))||!("v6"!==t&&t||!en.test(e))}function cn(e,t){if(!Ht.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return"object"==typeof a&&null!==a&&((!("typ"in a)||"JWT"===(null==a?void 0:a.typ))&&(!!a.alg&&(!t||a.alg===t)))}catch(n){return!1}}function pn(e,t){return!("v4"!==t&&t||!Qt.test(e))||!("v6"!==t&&t||!tn.test(e))}class hn extends zt{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==xt.string){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.string,received:t.parsedType}),Nt}const t=new At;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const s=e.data.length>a.value,r=e.data.length<a.value;(s||r)&&(n=this._getOrReturnCtx(e,n),s?jt(n,{code:Ct.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):r&&jt(n,{code:Ct.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)Jt.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"email",code:Ct.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)Xt||(Xt=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Xt.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"emoji",code:Ct.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)Wt.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"uuid",code:Ct.invalid_string,message:a.message}),t.dirty());else if("nanoid"===a.kind)Kt.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"nanoid",code:Ct.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)Dt.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"cuid",code:Ct.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)qt.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"cuid2",code:Ct.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)Ut.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"ulid",code:Ct.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(s){n=this._getOrReturnCtx(e,n),jt(n,{validation:"url",code:Ct.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"regex",code:Ct.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){un(a).test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else if("date"===a.kind){rn.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.invalid_string,validation:"date",message:a.message}),t.dirty())}else if("time"===a.kind){ln(a).test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.invalid_string,validation:"time",message:a.message}),t.dirty())}else"duration"===a.kind?Yt.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"duration",code:Ct.invalid_string,message:a.message}),t.dirty()):"ip"===a.kind?dn(e.data,a.version)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"ip",code:Ct.invalid_string,message:a.message}),t.dirty()):"jwt"===a.kind?cn(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"jwt",code:Ct.invalid_string,message:a.message}),t.dirty()):"cidr"===a.kind?pn(e.data,a.version)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"cidr",code:Ct.invalid_string,message:a.message}),t.dirty()):"base64"===a.kind?nn.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"base64",code:Ct.invalid_string,message:a.message}),t.dirty()):"base64url"===a.kind?sn.test(e.data)||(n=this._getOrReturnCtx(e,n),jt(n,{validation:"base64url",code:Ct.invalid_string,message:a.message}),t.dirty()):_t.assertNever(a);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),l({validation:t,code:Ct.invalid_string},It.errToObj(n)))}_addCheck(e){return new hn(u(l({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(l({kind:"email"},It.errToObj(e)))}url(e){return this._addCheck(l({kind:"url"},It.errToObj(e)))}emoji(e){return this._addCheck(l({kind:"emoji"},It.errToObj(e)))}uuid(e){return this._addCheck(l({kind:"uuid"},It.errToObj(e)))}nanoid(e){return this._addCheck(l({kind:"nanoid"},It.errToObj(e)))}cuid(e){return this._addCheck(l({kind:"cuid"},It.errToObj(e)))}cuid2(e){return this._addCheck(l({kind:"cuid2"},It.errToObj(e)))}ulid(e){return this._addCheck(l({kind:"ulid"},It.errToObj(e)))}base64(e){return this._addCheck(l({kind:"base64"},It.errToObj(e)))}base64url(e){return this._addCheck(l({kind:"base64url"},It.errToObj(e)))}jwt(e){return this._addCheck(l({kind:"jwt"},It.errToObj(e)))}ip(e){return this._addCheck(l({kind:"ip"},It.errToObj(e)))}cidr(e){return this._addCheck(l({kind:"cidr"},It.errToObj(e)))}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(l({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,local:null!=(n=null==e?void 0:e.local)&&n},It.errToObj(null==e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(l({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},It.errToObj(null==e?void 0:e.message)))}duration(e){return this._addCheck(l({kind:"duration"},It.errToObj(e)))}regex(e,t){return this._addCheck(l({kind:"regex",regex:e},It.errToObj(t)))}includes(e,t){return this._addCheck(l({kind:"includes",value:e,position:null==t?void 0:t.position},It.errToObj(null==t?void 0:t.message)))}startsWith(e,t){return this._addCheck(l({kind:"startsWith",value:e},It.errToObj(t)))}endsWith(e,t){return this._addCheck(l({kind:"endsWith",value:e},It.errToObj(t)))}min(e,t){return this._addCheck(l({kind:"min",value:e},It.errToObj(t)))}max(e,t){return this._addCheck(l({kind:"max",value:e},It.errToObj(t)))}length(e,t){return this._addCheck(l({kind:"length",value:e},It.errToObj(t)))}nonempty(e){return this.min(1,It.errToObj(e))}trim(){return new hn(u(l({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new hn(u(l({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new hn(u(l({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function fn(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=n>s?n:s;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/i(10,a)}hn.create=e=>{var t;return new hn(l({checks:[],typeName:Xn.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t},Bt(e)))};class mn extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==xt.number){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.number,received:t.parsedType}),Nt}let t;const n=new At;for(const s of this._def.checks)if("int"===s.kind)_t.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),jt(t,{code:Ct.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty());else if("min"===s.kind){(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),jt(t,{code:Ct.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty())}else if("max"===s.kind){(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),jt(t,{code:Ct.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty())}else"multipleOf"===s.kind?0!==fn(e.data,s.value)&&(t=this._getOrReturnCtx(e,t),jt(t,{code:Ct.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):"finite"===s.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),jt(t,{code:Ct.not_finite,message:s.message}),n.dirty()):_t.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,It.toString(t))}gt(e,t){return this.setLimit("min",e,!1,It.toString(t))}lte(e,t){return this.setLimit("max",e,!0,It.toString(t))}lt(e,t){return this.setLimit("max",e,!1,It.toString(t))}setLimit(e,t,n,s){return new mn(u(l({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:It.toString(s)}]}))}_addCheck(e){return new mn(u(l({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:It.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:It.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:It.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:It.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:It.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:It.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:It.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:It.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:It.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&_t.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}mn.create=e=>new mn(l({checks:[],typeName:Xn.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},Bt(e)));class vn extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(s){return this._getInvalidInput(e)}if(this._getType(e)!==xt.bigint)return this._getInvalidInput(e);let t;const n=new At;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),jt(t,{code:Ct.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),jt(t,{code:Ct.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),jt(t,{code:Ct.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):_t.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.bigint,received:t.parsedType}),Nt}gte(e,t){return this.setLimit("min",e,!0,It.toString(t))}gt(e,t){return this.setLimit("min",e,!1,It.toString(t))}lte(e,t){return this.setLimit("max",e,!0,It.toString(t))}lt(e,t){return this.setLimit("max",e,!1,It.toString(t))}setLimit(e,t,n,s){return new vn(u(l({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:It.toString(s)}]}))}_addCheck(e){return new vn(u(l({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:It.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:It.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:It.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:It.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:It.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}vn.create=e=>{var t;return new vn(l({checks:[],typeName:Xn.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t},Bt(e)))};class yn extends zt{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==xt.boolean){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.boolean,received:t.parsedType}),Nt}return Zt(e.data)}}yn.create=e=>new yn(l({typeName:Xn.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},Bt(e)));class gn extends zt{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==xt.date){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.date,received:t.parsedType}),Nt}if(Number.isNaN(e.data.getTime())){return jt(this._getOrReturnCtx(e),{code:Ct.invalid_date}),Nt}const t=new At;let n;for(const s of this._def.checks)"min"===s.kind?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),t.dirty()):"max"===s.kind?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),jt(n,{code:Ct.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),t.dirty()):_t.assertNever(s);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gn(u(l({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:It.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:It.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}gn.create=e=>new gn(l({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Xn.ZodDate},Bt(e)));class _n extends zt{_parse(e){if(this._getType(e)!==xt.symbol){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.symbol,received:t.parsedType}),Nt}return Zt(e.data)}}_n.create=e=>new _n(l({typeName:Xn.ZodSymbol},Bt(e)));class bn extends zt{_parse(e){if(this._getType(e)!==xt.undefined){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.undefined,received:t.parsedType}),Nt}return Zt(e.data)}}bn.create=e=>new bn(l({typeName:Xn.ZodUndefined},Bt(e)));class kn extends zt{_parse(e){if(this._getType(e)!==xt.null){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.null,received:t.parsedType}),Nt}return Zt(e.data)}}kn.create=e=>new kn(l({typeName:Xn.ZodNull},Bt(e)));class xn extends zt{constructor(){super(...arguments),this._any=!0}_parse(e){return Zt(e.data)}}xn.create=e=>new xn(l({typeName:Xn.ZodAny},Bt(e)));class wn extends zt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zt(e.data)}}wn.create=e=>new wn(l({typeName:Xn.ZodUnknown},Bt(e)));class Cn extends zt{_parse(e){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.never,received:t.parsedType}),Nt}}Cn.create=e=>new Cn(l({typeName:Xn.ZodNever},Bt(e)));class On extends zt{_parse(e){if(this._getType(e)!==xt.undefined){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.void,received:t.parsedType}),Nt}return Zt(e.data)}}On.create=e=>new On(l({typeName:Xn.ZodVoid},Bt(e)));class Sn extends zt{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==xt.array)return jt(t,{code:Ct.invalid_type,expected:xt.array,received:t.parsedType}),Nt;if(null!==s.exactLength){const e=t.data.length>s.exactLength.value,a=t.data.length<s.exactLength.value;(e||a)&&(jt(t,{code:e?Ct.too_big:Ct.too_small,minimum:a?s.exactLength.value:void 0,maximum:e?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(null!==s.minLength&&t.data.length<s.minLength.value&&(jt(t,{code:Ct.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),null!==s.maxLength&&t.data.length>s.maxLength.value&&(jt(t,{code:Ct.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>s.type._parseAsync(new Mt(t,e,t.path,n)))).then(e=>At.mergeArray(n,e));const a=[...t.data].map((e,n)=>s.type._parseSync(new Mt(t,e,t.path,n)));return At.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Sn(u(l({},this._def),{minLength:{value:e,message:It.toString(t)}}))}max(e,t){return new Sn(u(l({},this._def),{maxLength:{value:e,message:It.toString(t)}}))}length(e,t){return new Sn(u(l({},this._def),{exactLength:{value:e,message:It.toString(t)}}))}nonempty(e){return this.min(1,e)}}function Tn(e){if(e instanceof jn){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=Dn.create(Tn(s))}return new jn(u(l({},e._def),{shape:()=>t}))}return e instanceof Sn?new Sn(u(l({},e._def),{type:Tn(e.element)})):e instanceof Dn?Dn.create(Tn(e.unwrap())):e instanceof qn?qn.create(Tn(e.unwrap())):e instanceof Zn?Zn.create(e.items.map(e=>Tn(e))):e}Sn.create=(e,t)=>new Sn(l({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Xn.ZodArray},Bt(t)));class jn extends zt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=_t.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==xt.object){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.object,received:t.parsedType}),Nt}const{status:t,ctx:n}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),r=[];if(!(this._def.catchall instanceof Cn&&"strip"===this._def.unknownKeys))for(const o in n.data)a.includes(o)||r.push(o);const i=[];for(const o of a){const e=s[o],t=n.data[o];i.push({key:{status:"valid",value:o},value:e._parse(new Mt(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof Cn){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of r)i.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)r.length>0&&(jt(n,{code:Ct.unrecognized_keys,keys:r}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of r){const s=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new Mt(n,s,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(()=>c(this,null,function*(){const e=[];for(const t of i){const n=yield t.key,s=yield t.value;e.push({key:n,value:s,alwaysSet:t.alwaysSet})}return e})).then(e=>At.mergeObjectSync(t,e)):At.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return It.errToObj,new jn(l(u(l({},this._def),{unknownKeys:"strict"}),void 0!==e?{errorMap:(t,n)=>{var s,a,r,i;const o=null!=(r=null==(a=(s=this._def).errorMap)?void 0:a.call(s,t,n).message)?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!=(i=It.errToObj(e).message)?i:o}:{message:o}}}:{}))}strip(){return new jn(u(l({},this._def),{unknownKeys:"strip"}))}passthrough(){return new jn(u(l({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new jn(u(l({},this._def),{shape:()=>l(l({},this._def.shape()),e)}))}merge(e){return new jn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>l(l({},this._def.shape()),e._def.shape()),typeName:Xn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new jn(u(l({},this._def),{catchall:e}))}pick(e){const t={};for(const n of _t.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new jn(u(l({},this._def),{shape:()=>t}))}omit(e){const t={};for(const n of _t.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new jn(u(l({},this._def),{shape:()=>t}))}deepPartial(){return Tn(this)}partial(e){const t={};for(const n of _t.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}return new jn(u(l({},this._def),{shape:()=>t}))}required(e){const t={};for(const n of _t.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Dn;)e=e._def.innerType;t[n]=e}return new jn(u(l({},this._def),{shape:()=>t}))}keyof(){return Vn(_t.objectKeys(this.shape))}}jn.create=(e,t)=>new jn(l({shape:()=>e,unknownKeys:"strip",catchall:Cn.create(),typeName:Xn.ZodObject},Bt(t))),jn.strictCreate=(e,t)=>new jn(l({shape:()=>e,unknownKeys:"strict",catchall:Cn.create(),typeName:Xn.ZodObject},Bt(t))),jn.lazycreate=(e,t)=>new jn(l({shape:e,unknownKeys:"strip",catchall:Cn.create(),typeName:Xn.ZodObject},Bt(t)));class An extends zt{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(e=>c(this,null,function*(){const n=u(l({},t),{common:u(l({},t.common),{issues:[]}),parent:null});return{result:yield e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const s of e)if("dirty"===s.result.status)return t.common.issues.push(...s.ctx.common.issues),s.result;const n=e.map(e=>new Ot(e.ctx.common.issues));return jt(t,{code:Ct.invalid_union,unionErrors:n}),Nt});{let e;const s=[];for(const r of n){const n=u(l({},t),{common:u(l({},t.common),{issues:[]}),parent:null}),a=r._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&s.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=s.map(e=>new Ot(e));return jt(t,{code:Ct.invalid_union,unionErrors:a}),Nt}}get options(){return this._def.options}}function Nn(e,t){const n=wt(e),s=wt(t);if(e===t)return{valid:!0,data:e};if(n===xt.object&&s===xt.object){const n=_t.objectKeys(t),s=_t.objectKeys(e).filter(e=>-1!==n.indexOf(e)),a=l(l({},e),t);for(const r of s){const n=Nn(e[r],t[r]);if(!n.valid)return{valid:!1};a[r]=n.data}return{valid:!0,data:a}}if(n===xt.array&&s===xt.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let s=0;s<e.length;s++){const a=Nn(e[s],t[s]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===xt.date&&s===xt.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}An.create=(e,t)=>new An(l({options:e,typeName:Xn.ZodUnion},Bt(t)));class Fn extends zt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(e,s)=>{if(Rt(e)||Rt(s))return Nt;const a=Nn(e.value,s.value);return a.valid?((Et(e)||Et(s))&&t.dirty(),{status:t.value,value:a.data}):(jt(n,{code:Ct.invalid_intersection_types}),Nt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>s(e,t)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Fn.create=(e,t,n)=>new Fn(l({left:e,right:t,typeName:Xn.ZodIntersection},Bt(n)));class Zn extends zt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.array)return jt(n,{code:Ct.invalid_type,expected:xt.array,received:n.parsedType}),Nt;if(n.data.length<this._def.items.length)return jt(n,{code:Ct.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Nt;!this._def.rest&&n.data.length>this._def.items.length&&(jt(n,{code:Ct.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...n.data].map((e,t)=>{const s=this._def.items[t]||this._def.rest;return s?s._parse(new Mt(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(s).then(e=>At.mergeArray(t,e)):At.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Zn(u(l({},this._def),{rest:e}))}}Zn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zn(l({items:e,typeName:Xn.ZodTuple,rest:null},Bt(t)))};class Rn extends zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.object)return jt(n,{code:Ct.invalid_type,expected:xt.object,received:n.parsedType}),Nt;const s=[],a=this._def.keyType,r=this._def.valueType;for(const i in n.data)s.push({key:a._parse(new Mt(n,i,n.path,i)),value:r._parse(new Mt(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?At.mergeObjectAsync(t,s):At.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return new Rn(t instanceof zt?l({keyType:e,valueType:t,typeName:Xn.ZodRecord},Bt(n)):l({keyType:hn.create(),valueType:e,typeName:Xn.ZodRecord},Bt(t)))}}class En extends zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.map)return jt(n,{code:Ct.invalid_type,expected:xt.map,received:n.parsedType}),Nt;const s=this._def.keyType,a=this._def.valueType,r=[...n.data.entries()].map(([e,t],r)=>({key:s._parse(new Mt(n,e,n.path,[r,"key"])),value:a._parse(new Mt(n,t,n.path,[r,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(()=>c(this,null,function*(){for(const n of r){const s=yield n.key,a=yield n.value;if("aborted"===s.status||"aborted"===a.status)return Nt;"dirty"!==s.status&&"dirty"!==a.status||t.dirty(),e.set(s.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of r){const s=n.key,a=n.value;if("aborted"===s.status||"aborted"===a.status)return Nt;"dirty"!==s.status&&"dirty"!==a.status||t.dirty(),e.set(s.value,a.value)}return{status:t.value,value:e}}}}En.create=(e,t,n)=>new En(l({valueType:t,keyType:e,typeName:Xn.ZodMap},Bt(n)));class Pn extends zt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.set)return jt(n,{code:Ct.invalid_type,expected:xt.set,received:n.parsedType}),Nt;const s=this._def;null!==s.minSize&&n.data.size<s.minSize.value&&(jt(n,{code:Ct.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),null!==s.maxSize&&n.data.size>s.maxSize.value&&(jt(n,{code:Ct.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function r(e){const n=new Set;for(const s of e){if("aborted"===s.status)return Nt;"dirty"===s.status&&t.dirty(),n.add(s.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map((e,t)=>a._parse(new Mt(n,e,n.path,t)));return n.common.async?Promise.all(i).then(e=>r(e)):r(i)}min(e,t){return new Pn(u(l({},this._def),{minSize:{value:e,message:It.toString(t)}}))}max(e,t){return new Pn(u(l({},this._def),{maxSize:{value:e,message:It.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Pn.create=(e,t)=>new Pn(l({valueType:e,minSize:null,maxSize:null,typeName:Xn.ZodSet},Bt(t)));class $n extends zt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}$n.create=(e,t)=>new $n(l({getter:e,typeName:Xn.ZodLazy},Bt(t)));class In extends zt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return jt(t,{received:t.data,code:Ct.invalid_literal,expected:this._def.value}),Nt}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Vn(e,t){return new Mn(l({values:e,typeName:Xn.ZodEnum},Bt(t)))}In.create=(e,t)=>new In(l({value:e,typeName:Xn.ZodLiteral},Bt(t)));class Mn extends zt{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return jt(t,{expected:_t.joinValues(n),received:t.parsedType,code:Ct.invalid_type}),Nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return jt(t,{received:t.data,code:Ct.invalid_enum_value,options:n}),Nt}return Zt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Mn.create(e,l(l({},this._def),t))}exclude(e,t=this._def){return Mn.create(this.options.filter(t=>!e.includes(t)),l(l({},this._def),t))}}Mn.create=Vn;class Ln extends zt{_parse(e){const t=_t.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==xt.string&&n.parsedType!==xt.number){const e=_t.objectValues(t);return jt(n,{expected:_t.joinValues(e),received:n.parsedType,code:Ct.invalid_type}),Nt}if(this._cache||(this._cache=new Set(_t.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=_t.objectValues(t);return jt(n,{received:n.data,code:Ct.invalid_enum_value,options:e}),Nt}return Zt(e.data)}get enum(){return this._def.values}}Ln.create=(e,t)=>new Ln(l({values:e,typeName:Xn.ZodNativeEnum},Bt(t)));class Bn extends zt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==xt.promise&&!1===t.common.async)return jt(t,{code:Ct.invalid_type,expected:xt.promise,received:t.parsedType}),Nt;const n=t.parsedType===xt.promise?t.data:Promise.resolve(t.data);return Zt(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Bn.create=(e,t)=>new Bn(l({type:e,typeName:Xn.ZodPromise},Bt(t)));class zn extends zt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:e=>{jt(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===s.type){const e=s.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then(e=>c(this,null,function*(){if("aborted"===t.value)return Nt;const s=yield this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===s.status?Nt:"dirty"===s.status||"dirty"===t.value?Ft(s.value):s}));{if("aborted"===t.value)return Nt;const s=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===s.status?Nt:"dirty"===s.status||"dirty"===t.value?Ft(s.value):s}}if("refinement"===s.type){const e=e=>{const t=s.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===s.status?Nt:("dirty"===s.status&&t.dirty(),e(s.value),{status:t.value,value:s.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?Nt:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===s.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Pt(e))return Nt;const r=s.transform(e.value,a);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>Pt(e)?Promise.resolve(s.transform(e.value,a)).then(e=>({status:t.value,value:e})):Nt)}_t.assertNever(s)}}zn.create=(e,t,n)=>new zn(l({schema:e,typeName:Xn.ZodEffects,effect:t},Bt(n))),zn.createWithPreprocess=(e,t,n)=>new zn(l({schema:t,effect:{type:"preprocess",transform:e},typeName:Xn.ZodEffects},Bt(n)));class Dn extends zt{_parse(e){return this._getType(e)===xt.undefined?Zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dn.create=(e,t)=>new Dn(l({innerType:e,typeName:Xn.ZodOptional},Bt(t)));class qn extends zt{_parse(e){return this._getType(e)===xt.null?Zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qn.create=(e,t)=>new qn(l({innerType:e,typeName:Xn.ZodNullable},Bt(t)));class Un extends zt{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===xt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Un.create=(e,t)=>new Un(l({innerType:e,typeName:Xn.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default},Bt(t)));class Wn extends zt{_parse(e){const{ctx:t}=this._processInputParams(e),n=u(l({},t),{common:u(l({},t.common),{issues:[]})}),s=this._def.innerType._parse({data:n.data,path:n.path,parent:l({},n)});return $t(s)?s.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Ot(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===s.status?s.value:this._def.catchValue({get error(){return new Ot(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Wn.create=(e,t)=>new Wn(l({innerType:e,typeName:Xn.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch},Bt(t)));class Kn extends zt{_parse(e){if(this._getType(e)!==xt.nan){const t=this._getOrReturnCtx(e);return jt(t,{code:Ct.invalid_type,expected:xt.nan,received:t.parsedType}),Nt}return{status:"valid",value:e.data}}}Kn.create=e=>new Kn(l({typeName:Xn.ZodNaN},Bt(e)));class Hn extends zt{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Yn extends zt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(()=>c(this,null,function*(){const e=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Nt:"dirty"===e.status?(t.dirty(),Ft(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})}))()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Nt:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Yn({in:e,out:t,typeName:Xn.ZodPipeline})}}class Jn extends zt{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Pt(e)&&(e.value=Object.freeze(e.value)),e);return $t(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}var Xn,Gn;Jn.create=(e,t)=>new Jn(l({innerType:e,typeName:Xn.ZodReadonly},Bt(t))),jn.lazycreate,(Gn=Xn||(Xn={})).ZodString="ZodString",Gn.ZodNumber="ZodNumber",Gn.ZodNaN="ZodNaN",Gn.ZodBigInt="ZodBigInt",Gn.ZodBoolean="ZodBoolean",Gn.ZodDate="ZodDate",Gn.ZodSymbol="ZodSymbol",Gn.ZodUndefined="ZodUndefined",Gn.ZodNull="ZodNull",Gn.ZodAny="ZodAny",Gn.ZodUnknown="ZodUnknown",Gn.ZodNever="ZodNever",Gn.ZodVoid="ZodVoid",Gn.ZodArray="ZodArray",Gn.ZodObject="ZodObject",Gn.ZodUnion="ZodUnion",Gn.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Gn.ZodIntersection="ZodIntersection",Gn.ZodTuple="ZodTuple",Gn.ZodRecord="ZodRecord",Gn.ZodMap="ZodMap",Gn.ZodSet="ZodSet",Gn.ZodFunction="ZodFunction",Gn.ZodLazy="ZodLazy",Gn.ZodLiteral="ZodLiteral",Gn.ZodEnum="ZodEnum",Gn.ZodEffects="ZodEffects",Gn.ZodNativeEnum="ZodNativeEnum",Gn.ZodOptional="ZodOptional",Gn.ZodNullable="ZodNullable",Gn.ZodDefault="ZodDefault",Gn.ZodCatch="ZodCatch",Gn.ZodPromise="ZodPromise",Gn.ZodBranded="ZodBranded",Gn.ZodPipeline="ZodPipeline",Gn.ZodReadonly="ZodReadonly";const Qn=hn.create,es=yn.create;Cn.create,Sn.create;const ts=jn.create;jn.strictCreate,An.create,Fn.create,Zn.create,Mn.create,Bn.create,zn.create,Dn.create,qn.create,zn.createWithPreprocess;const ns=(e,t)=>e.constructor.name===t.name,ss=new Map;function as(e){const t=e.constructor.name;if(ss.has(t))return ss.get(t)(e);console.warn("getSchemaDefaultForField: Unhandled type",e.constructor.name)}function rs(e){if(ns(e,Rn))return{};if(ns(e,zn))return rs(e._def.schema);if(ns(e,Fn))return l(l({},rs(e._def.left)),rs(e._def.right));if(ns(e,An)){for(const t of e._def.options)if(ns(t,jn))return rs(t);return console.warn("getSchemaDefaultObject: No object found in union, returning empty object"),{}}return ns(e,jn)?Object.fromEntries(Object.entries(e.shape).map(([e,t])=>[e,as(t)]).filter(e=>void 0!==e[1])):(console.warn(`getSchemaDefaultObject: Expected object schema, got ${e.constructor.name}`),{})}ss.set(yn.name,()=>!1),ss.set(mn.name,()=>0),ss.set(hn.name,()=>""),ss.set(Sn.name,()=>[]),ss.set(Rn.name,()=>({})),ss.set(Un.name,e=>e._def.defaultValue()),ss.set(zn.name,e=>as(e._def.schema)),ss.set(Dn.name,e=>ns(e._def.innerType,Un)?e._def.innerType._def.defaultValue():void 0),ss.set(Zn.name,e=>{const t=[];for(const n of e._def.items)t.push(as(n));return t}),ss.set(zn.name,e=>as(e._def.schema)),ss.set(An.name,e=>as(e._def.options[0])),ss.set(jn.name,e=>rs(e)),ss.set(Rn.name,e=>rs(e)),ss.set(Fn.name,e=>rs(e));const[is,os]=Ce("VbenFormProps"),[ls,us]=Ce("ComponentRefMap");function ds(e){var t;const n=z(),s=function(){const t={},n={};(m(e).schema||[]).forEach(e=>{if(Reflect.has(e,"defaultValue"))et(t,e.fieldName,e.defaultValue);else if(e.rules&&!q(e.rules)){const s=r(e.rules);n[e.fieldName]=e.rules,void 0!==s&&(t[e.fieldName]=s)}});const s=(i=ts(n),rs(i)),a={};var i;for(const e in s)et(a,e,s[e]);return $(t,a)}(),a=Oe(l({},(null==(t=Object.keys(s))?void 0:t.length)?{initialValues:s}:{}));function r(e){if(e instanceof hn)return"";if(e instanceof mn)return null;if(e instanceof jn){const t={};for(const[n,s]of Object.entries(e.shape))t[n]=r(s);return t}if(e instanceof Fn){const t=r(e._def.left),n=r(e._def.right);return"object"==typeof t&&"object"==typeof n?l(l({},t),n):null!=t?t:n}}return{delegatedSlots:D(()=>{const e=[];for(const t of Object.keys(n))"default"!==t&&e.push(t);return e}),form:a}}const cs=p({__name:"form-actions",props:{modelValue:{default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(e,{expose:t}){const{$t:n}=Se(),[s,a]=is(),r=w(e,"modelValue"),i=D(()=>l({content:`${n.value("reset")}`,show:!0},m(s).resetButtonOptions)),o=D(()=>l({content:`${n.value("submit")}`,show:!0},m(s).submitButtonOptions));function u(e){return c(this,null,function*(){var t,n;null==e||e.preventDefault(),null==e||e.stopPropagation();const a=m(s);if(!a.formApi)return;const{valid:r}=yield a.formApi.validate();if(!r)return;const i=null!=(t=F(yield a.formApi.getValues()))?t:{};yield null==(n=a.handleSubmit)?void 0:n.call(a,i)})}function d(e){return c(this,null,function*(){var t,n,r;null==e||e.preventDefault(),null==e||e.stopPropagation();const i=m(s),o=null!=(n=F(yield null==(t=i.formApi)?void 0:t.getValues()))?n:{};P(i.handleReset)?yield null==(r=i.handleReset)?void 0:r.call(i,o):a.resetForm()})}A(()=>r.value,()=>{m(s).collapseTriggerResize&&Y()});const p=D(()=>{const e=m(s),t=e.actionLayout||"rowEnd",n=e.actionPosition||"right",a=["flex","items-center","gap-3",e.compact?"pb-2":"pb-4","vertical"===e.layout?"self-end":"self-center","inline"===e.layout?"":"w-full",e.actionWrapperClass];switch(t){case"newLine":a.push("col-span-full");break;case"rowEnd":a.push("col-[-2/-1]")}switch(n){case"center":a.push("justify-center");break;case"left":a.push("justify-start");break;default:a.push("justify-end")}return a.join(" ")});return t({handleReset:d,handleSubmit:u}),(e,t)=>(f(),C("div",{class:b(m(k)(p.value))},[m(s).actionButtonsReverse?(f(),C(W,{key:0},[g(e.$slots,"submit-before"),o.value.show?(f(),h(K(m(Te).PrimaryButton),H({key:0,type:"button",onClick:u},o.value),{default:y(()=>[S(T(o.value.content),1)]),_:1},16)):U("",!0)],64)):U("",!0),g(e.$slots,"reset-before"),i.value.show?(f(),h(K(m(Te).DefaultButton),H({key:1,type:"button",onClick:d},i.value),{default:y(()=>[S(T(i.value.content),1)]),_:1},16)):U("",!0),m(s).actionButtonsReverse?U("",!0):(f(),C(W,{key:2},[g(e.$slots,"submit-before"),o.value.show?(f(),h(K(m(Te).PrimaryButton),H({key:0,type:"button",onClick:u},o.value),{default:y(()=>[S(T(o.value.content),1)]),_:1},16)):U("",!0)],64)),g(e.$slots,"expand-before"),m(s).showCollapseButton?(f(),h(m(rt),{key:3,class:"ml-[-0.3em]","model-value":r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e)},{default:y(()=>[O("span",null,T(r.value?m(n)("expand"):m(n)("collapse")),1)]),_:1},8,["model-value"])):U("",!0),g(e.$slots,"expand-after")],2))}}),ps=e=>null!==e&&!!e&&"object"==typeof e&&!Array.isArray(e);function hs(e){return Number(e)>=0}function fs(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!==function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ms(e,t){return Object.keys(t).forEach(n=>{if(fs(t[n])&&fs(e[n]))return e[n]||(e[n]={}),void ms(e[n],t[n]);e[n]=t[n]}),e}function vs(e,t){return{__type:"VVTypedSchema",parse(n){return c(this,null,function*(){const s=yield e.safeParseAsync(n,t);if(s.success)return{value:s.data,errors:[]};const a={};return ys(s.error.issues,a),{errors:Object.values(a)}})},cast(t){try{return e.parse(t)}catch(n){const s=gs(e);return ps(s)&&ps(t)?ms(s,t):t}},describe(t){try{if(!t)return{required:!e.isOptional(),exists:!0};const n=function(e,t){if(!ks(t))return null;if(je(e))return t.shape[Ae(e)];const n=(e||"").split(/\.|\[(\d+)\]/).filter(Boolean);let s=t;for(let a=0;a<=n.length;a++){const e=n[a];if(!e||!s)return s;ks(s)?s=s.shape[e]||null:hs(e)&&bs(s)&&(s=s._def.type)}return null}(t,e);return n?{required:!n.isOptional(),exists:!0}:{required:!1,exists:!1}}catch(n){return{required:!1,exists:!1}}}}}function ys(e,t){e.forEach(e=>{const n=function(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let s=1;s<t.length;s++)hs(t[s])?n+=`[${t[s]}]`:n+=`.${t[s]}`;return n}(e.path.join("."));("invalid_union"!==e.code||(ys(e.unionErrors.flatMap(e=>e.issues),t),n))&&(t[n]||(t[n]={errors:[],path:n}),t[n].errors.push(e.message))})}function gs(e){if(e instanceof jn)return Object.fromEntries(Object.entries(e.shape).map(([e,t])=>t instanceof Un?[e,t._def.defaultValue()]:t instanceof jn?[e,gs(t)]:[e,void 0]))}function _s(e){return e._def.typeName}function bs(e){return _s(e)===Xn.ZodArray}function ks(e){return _s(e)===Xn.ZodObject}const[xs,ws]=Ce("FormRenderProps");function Cs(e){const t=Ne(),n=xs().form;if(!t)throw new Error("useDependencies should be used within <VbenForm>");const s=j(!0),a=j(!1),r=j(!0),i=j(!1),o=j({}),l=j(),u=D(()=>{var n,s;return(null!=(s=null==(n=e())?void 0:n.triggerFields)?s:[]).map(e=>t.value[e])});return A([u,e],e=>c(null,[e],function*([e,u]){var d;if(!u||!(null==(d=null==u?void 0:u.triggerFields)?void 0:d.length))return;a.value=!1,s.value=!0,r.value=!0,i.value=!1,l.value=void 0,o.value={};const{componentProps:c,disabled:p,if:h,required:f,rules:m,show:v,trigger:y}=u,g=t.value;if(P(h)){if(s.value=!!(yield h(g,n)),!s.value)return}else if(J(h)&&(s.value=h,!s.value))return;if(P(v)){if(r.value=!!(yield v(g,n)),!r.value)return}else if(J(v)&&(r.value=v,!r.value))return;P(c)&&(o.value=yield c(g,n)),P(m)&&(l.value=yield m(g,n)),P(p)?a.value=!!(yield p(g,n)):J(p)&&(a.value=p),P(f)&&(i.value=!!(yield f(g,n))),P(y)&&(yield y(g,n))}),{deep:!0,immediate:!0}),{dynamicComponentProps:o,dynamicRules:l,isDisabled:a,isIf:s,isRequired:i,isShow:r}}const Os={key:0,class:"mr-[2px] text-destructive"},Ss={key:2,class:"ml-[2px]"},Ts=p({__name:"form-label",props:{class:{},colon:{type:Boolean},help:{type:[Function,String]},label:{type:[Function,String]},required:{type:Boolean}},setup(e){const t=e;return(n,s)=>(f(),h(m(ze),{class:b(m(k)("flex items-center",t.class))},{default:y(()=>[e.required?(f(),C("span",Os,"*")):U("",!0),g(n.$slots,"default"),e.help?(f(),h(m(at),{key:1,"trigger-class":"size-3.5 ml-1"},{default:y(()=>[_(m(We),{content:e.help},null,8,["content"])]),_:1})):U("",!0),e.colon&&e.label?(f(),C("span",Ss,":")):U("",!0)]),_:3},8,["class"]))}});function js(e){return!e||q(e)?null:"innerType"in e._def?js(e._def.innerType):"schema"in e._def?js(e._def.schema):e}function As(e){if(!e||q(e))return;const t=e;return"ZodDefault"===t._def.typeName?t._def.defaultValue():"innerType"in t._def?As(t._def.innerType):"schema"in t._def?As(t._def.schema):void 0}function Ns(e){return!(!e||!M(e))&&(Reflect.has(e,"target")&&Reflect.has(e,"stopPropagation"))}const Fs={class:"flex-auto overflow-hidden p-[1px]"},Zs={key:0,class:"ml-1"},Rs=p({__name:"form-field",props:{component:{},componentProps:{type:Function},defaultValue:{},dependencies:{},description:{type:[Function,String]},fieldName:{},help:{type:[Function,String]},hide:{type:Boolean},label:{type:[Function,String]},renderComponentContent:{type:Function},rules:{},suffix:{type:[Function,String]},colon:{type:Boolean},controlClass:{},disabled:{type:Boolean},disabledOnChangeListener:{type:Boolean},disabledOnInputListener:{type:Boolean},emptyStateValue:{},formFieldProps:{},formItemClass:{type:[Function,String]},hideLabel:{type:Boolean},hideRequiredMark:{type:Boolean},labelClass:{},labelWidth:{},modelPropName:{},wrapperClass:{},commonComponentProps:{}},setup(e){const{componentBindEventMap:t,componentMap:n,isVertical:s}=(()=>{const e=xs(),t=D(()=>"vertical"===e.layout),n=D(()=>e.componentMap);return{componentBindEventMap:D(()=>e.componentBindEventMap),componentMap:n,isVertical:t}})(),a=xs(),r=Ne(),i=Fe(e.fieldName),o=X("fieldComponentRef"),d=a.form,c=D(()=>a.compact),p=D(()=>{var e;return(null==(e=i.value)?void 0:e.length)>0}),v=D(()=>{const t=q(e.component)?n.value[e.component]:e.component;return t||console.warn(`Component ${e.component} is not registered`),t}),{dynamicComponentProps:x,dynamicRules:w,isDisabled:S,isIf:T,isRequired:j,isShow:N}=Cs(()=>e.dependencies),F=D(()=>{var t;return(null==(t=e.labelClass)?void 0:t.includes("w-"))||s.value?{}:{width:`${e.labelWidth}px`}}),Z=D(()=>w.value||e.rules),R=D(()=>!e.hide&&T.value&&N.value),E=D(()=>{var e,t,n,s,a,r;if(!R.value)return!1;if(!Z.value)return j.value;if(j.value)return!0;if(q(Z.value))return["required","selectRequired"].includes(Z.value);let i=null==(t=null==(e=null==Z?void 0:Z.value)?void 0:e.isOptional)?void 0:t.call(e);if("ZodDefault"===(null==(s=null==(n=null==Z?void 0:Z.value)?void 0:n._def)?void 0:s.typeName)){const e=null==(a=null==Z?void 0:Z.value)?void 0:a._def.innerType;e&&(i=null==(r=e.isOptional)?void 0:r.call(e))}return!i}),$=D(()=>{var e;if(!R.value)return null;let t=Z.value;if(!t)return j.value?"required":null;if(q(t))return t;if(!!E.value){const n=null==(e=null==t?void 0:t.unwrap)?void 0:e.call(t);n&&(t=n)}return vs(t)}),I=D(()=>{const t=P(e.componentProps)?e.componentProps(r.value,d):e.componentProps;return l(l(l({},e.commonComponentProps),t),x.value)});A(()=>{var e;return null==(e=I.value)?void 0:e.autofocus},e=>{!0===e&&re(()=>{var e,t;o.value&&P(o.value.focus)&&document.activeElement!==o.value&&(null==(t=null==(e=o.value)?void 0:e.focus)||t.call(e))})},{immediate:!0});const V=D(()=>{var t;return S.value||e.disabled||(null==(t=I.value)?void 0:t.disabled)}),L=D(()=>P(e.renderComponentContent)?e.renderComponentContent(r.value,d):{}),B=D(()=>Object.keys(L.value)),z=D(()=>{const t=$.value;return l(l({keepValue:!0,label:q(e.label)?e.label:""},t?{rules:t}:{}),e.formFieldProps)});function W(n){const s=function(n){var s,a,r;const i=n.componentField.modelValue,o=n.componentField["onUpdate:modelValue"],u=e.modelPropName||(q(e.component)?null==(s=t.value)?void 0:s[e.component]:null);let d=i;return i&&M(i)&&u&&(d=Ns(i)?null==(a=null==i?void 0:i.target)?void 0:a[u]:null!=(r=null==i?void 0:i[u])?r:i),u?l({[`onUpdate:${u}`]:o,[u]:void 0===d?e.emptyStateValue:d,onChange:e.disabledOnChangeListener?void 0:e=>{var t,s,a;const r=Ns(e),i=null==(t=null==n?void 0:n.componentField)?void 0:t.onChange;return r?null==i?void 0:i(null!=(a=null==(s=null==e?void 0:e.target)?void 0:s[u])?a:e):null==i?void 0:i(e)}},e.disabledOnInputListener?{onInput:void 0}:{}):l(l({},e.disabledOnInputListener?{onInput:void 0}:{}),e.disabledOnChangeListener?{onChange:void 0}:{})}(n);return l(l(l(l(l({},n.componentField),I.value),s),Reflect.has(I.value,"onChange")?{onChange:I.value.onChange}:{}),Reflect.has(I.value,"onInput")?{onInput:I.value.onInput}:{})}const Y=ls();return A(o,t=>{null==Y||Y.set(e.fieldName,t)}),G(()=>{(null==Y?void 0:Y.has(e.fieldName))&&Y.delete(e.fieldName)}),(t,n)=>!e.hide&&m(T)?(f(),h(m(Ze),H({key:0},z.value,{name:e.fieldName}),{default:y(n=>[Q(_(m(Ue),H({class:[{"form-valid-error":p.value,"form-is-required":E.value,"flex-col":m(s),"flex-row items-center":!m(s),"pb-4":!c.value,"pb-2":c.value},"relative flex"]},t.$attrs),{default:y(()=>[e.hideLabel?U("",!0):(f(),h(Ts,{key:0,class:b(m(k)("flex leading-6",{"mr-2 flex-shrink-0 justify-end":!m(s),"mb-1 flex-row":m(s)},e.labelClass)),help:e.help,colon:e.colon,label:e.label,required:E.value&&!e.hideRequiredMark,style:ee(F.value)},{default:y(()=>[e.label?(f(),h(m(We),{key:0,content:e.label},null,8,["content"])):U("",!0)]),_:1},8,["class","help","colon","label","required","style"])),O("div",Fs,[O("div",{class:b(m(k)("relative flex w-full items-center",e.wrapperClass))},[_(m(De),{class:b(m(k)(e.controlClass))},{default:y(()=>[g(t.$slots,"default",se(ae(u(l(l({},n),W(n)),{disabled:V.value,isInValid:p.value}))),()=>[(f(),h(K(v.value),H({ref_key:"fieldComponentRef",ref:o,class:{"border-destructive hover:border-destructive/80 focus:border-destructive focus:shadow-[0_0_0_2px_rgba(255,38,5,0.06)]":p.value}},W(n),{disabled:V.value}),te({_:2},[ne(B.value,e=>({name:e,fn:y(t=>[_(m(We),H({content:L.value[e]},u(l({},t),{formContext:n})),null,16,["content"])])}))]),1040,["class","disabled"])),c.value&&p.value?(f(),h(m(xe),{key:0,"delay-duration":300,side:"left"},{trigger:y(()=>[g(t.$slots,"trigger",{},()=>[_(m(tt),{class:b(m(k)("inline-flex size-5 cursor-pointer text-foreground/80 hover:text-foreground"))},null,8,["class"])])]),default:y(()=>[_(m(st))]),_:3})):U("",!0)])]),_:2},1032,["class"]),e.suffix?(f(),C("div",Zs,[_(m(We),{content:e.suffix},null,8,["content"])])):U("",!0),e.description?(f(),h(m(qe),{key:1,class:"ml-1"},{default:y(()=>[_(m(We),{content:e.description},null,8,["content"])]),_:1})):U("",!0)],2),c.value?U("",!0):(f(),h(Ee,{key:0,name:"slide-up"},{default:y(()=>[_(m(st),{class:"absolute"})]),_:1}))])]),_:2},1040,["class"]),[[Re,m(N)]])]),_:3},16,["name"])):U("",!0)}});const Es=p({__name:"form",props:{arrayToStringFields:{},collapsed:{type:Boolean},collapsedRows:{default:1},collapseTriggerResize:{type:Boolean},commonConfig:{default:()=>({})},compact:{type:Boolean},componentBindEventMap:{},componentMap:{},fieldMappingTime:{},form:{},layout:{},schema:{},showCollapseButton:{type:Boolean,default:!1},wrapperClass:{default:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"},globalCommonConfig:{default:()=>({})}},emits:["submit"],setup(e,{emit:t}){const n=e,s=t,a=D(()=>{const e=["flex"];return"inline"===n.layout?e.push("flex-wrap gap-x-2"):e.push(n.compact?"gap-x-2":"gap-x-4","flex-col grid"),k(...e,n.wrapperClass)});ws(n);const{isCalculated:r,keepFormItemIndex:i,wrapperRef:o}=function(e){const t=X("wrapperRef"),n=ie(t),s=j({}),a=j(!1),r=le(ue),i=D(()=>{var t,n;const a=null!=(t=e.collapsedRows)?t:1,r=s.value;let i=0;for(let e=1;e<=a;e++)i+=null!=(n=null==r?void 0:r[e])?n:0;return i-1||1});function o(){return c(this,null,function*(){if(!e.showCollapseButton)return;if(yield re(),!t.value)return;const n=[...t.value.children],r=t.value,i=window.getComputedStyle(r).getPropertyValue("grid-template-rows").split(" "),o=null==r?void 0:r.getBoundingClientRect();n.forEach(t=>{var n,r;const l=t.getBoundingClientRect().top-o.top;let u=0,d=0;for(const[e,s]of i.entries())if(d+=Number.parseFloat(s),l<d){u=e+1;break}u>(null!=(n=null==e?void 0:e.collapsedRows)?n:1)||(s.value[u]=(null!=(r=s.value[u])?r:0)+1,a.value=!0)})})}return A([()=>e.showCollapseButton,()=>r.active().value,()=>{var t;return null==(t=e.schema)?void 0:t.length},()=>n.value],e=>c(null,[e],function*([e]){e&&(yield re(),s.value={},a.value=!1,yield o())})),oe(()=>{o()}),{isCalculated:a,keepFormItemIndex:i,wrapperRef:t}}(n),d=D(()=>{var e;const t=[];return null==(e=n.schema)||e.forEach(e=>{const{fieldName:n}=e,s=e.rules;let a="";s&&!q(s)&&(a=s._def.typeName);const r=js(s);t.push({default:As(s),fieldName:n,required:!["ZodNullable","ZodOptional"].includes(a),rules:r})}),t}),p=D(()=>n.form?"form":Pe),m=D(()=>n.form?{onSubmit:n.form.handleSubmit(e=>s("submit",e))}:{onSubmit:e=>s("submit",e)}),v=D(()=>n.collapsed&&r.value),_=D(()=>{const{colon:e=!1,componentProps:t={},controlClass:s="",disabled:a,disabledOnChangeListener:r=!0,disabledOnInputListener:o=!0,emptyStateValue:d,formFieldProps:c={},formItemClass:p="",hideLabel:h=!1,hideRequiredMark:f=!1,labelClass:m="",labelWidth:y=100,modelPropName:g="",wrapperClass:_=""}=$(n.commonConfig,n.globalCommonConfig);return(n.schema||[]).map((b,x)=>{const w=i.value,C=!!(n.showCollapseButton&&v.value&&w)&&w<=x;let O=b.formItemClass;if(P(b.formItemClass))try{O=b.formItemClass()}catch(S){console.error("Error calling formItemClass function:",S),O=""}return u(l({colon:e,disabled:a,disabledOnChangeListener:r,disabledOnInputListener:o,emptyStateValue:d,hideLabel:h,hideRequiredMark:f,labelWidth:y,modelPropName:g,wrapperClass:_},b),{commonComponentProps:t,componentProps:b.componentProps,controlClass:k(s,b.controlClass),formFieldProps:l(l({},c),b.formFieldProps),formItemClass:k("flex-shrink-0",{hidden:C},p,O),labelClass:k(m,b.labelClass)})})});return(e,t)=>(f(),h(K(p.value),se(ae(m.value)),{default:y(()=>[O("div",{ref_key:"wrapperRef",ref:o,class:b(a.value)},[(f(!0),C(W,null,ne(_.value,t=>(f(),h(Rs,H({key:t.fieldName,ref_for:!0},t,{class:t.formItemClass,rules:t.rules}),{default:y(n=>[g(e.$slots,t.fieldName,H({ref_for:!0},n))]),_:2},1040,["class","rules"]))),128)),g(e.$slots,"default",{shapes:d.value})],2)]),_:3},16))}}),Ps=p({__name:"vben-use-form",props:{formApi:{},actionButtonsReverse:{type:Boolean},actionLayout:{},actionPosition:{},actionWrapperClass:{},arrayToStringFields:{},fieldMappingTime:{},handleCollapsedChange:{type:Function},handleReset:{type:Function},handleSubmit:{type:Function},handleValuesChange:{type:Function},resetButtonOptions:{},scrollToFirstError:{type:Boolean},showDefaultActions:{type:Boolean},submitButtonOptions:{},submitOnChange:{type:Boolean},submitOnEnter:{type:Boolean},collapsed:{type:Boolean},collapsedRows:{},collapseTriggerResize:{type:Boolean},commonConfig:{},compact:{type:Boolean},layout:{},schema:{},showCollapseButton:{type:Boolean},wrapperClass:{}},setup(e){var t,n,s,a;const r=e,i=null==(n=null==(t=r.formApi)?void 0:t.useStore)?void 0:n.call(t),o=$e(r,i),l=new Map,{delegatedSlots:u,form:d}=ds(o);os([o,d]),us(l),null==(a=null==(s=r.formApi)?void 0:s.mount)||a.call(s,d,l);const p=e=>{var t,n,s;null==(t=r.formApi)||t.setState({collapsed:e}),null==(s=(n=o.value).handleCollapsedChange)||s.call(n,e)};function v(e){var t,n;(null==i?void 0:i.value.submitOnEnter)&&(null==(t=o.value.formApi)?void 0:t.isMounted)&&(e.target instanceof HTMLTextAreaElement||(e.preventDefault(),null==(n=o.value.formApi)||n.validateAndSubmitForm()))}const _=ce(()=>c(null,null,function*(){var e;(null==i?void 0:i.value.submitOnChange)&&(null==(e=o.value.formApi)||e.validateAndSubmitForm())}),300),b={};return oe(()=>c(null,null,function*(){yield re(),A(()=>d.values,e=>c(null,null,function*(){var t,n;if(o.value.handleValuesChange){const s=null==(t=null==i?void 0:i.value.schema)?void 0:t.map(e=>e.fieldName);if(s&&s.length>0){const t=[];if(s.forEach(n=>{const s=ye(e,n),a=ye(b,n);Le(s,a)||(t.push(n),et(b,n,s))}),t.length>0){const e=yield null==(n=o.value.formApi)?void 0:n.getValues();o.value.handleValuesChange(de(null!=e?e:{}),t)}}}_()}),{deep:!0})})),(e,t)=>{var n;return f(),h(m(Es),H({onKeydown:Me(v,["enter"])},m(o),{collapsed:null==(n=m(i))?void 0:n.collapsed,"component-bind-event-map":m(Ve),"component-map":m(Te),form:m(d),"global-common-config":m(Ie)}),te({default:y(t=>[g(e.$slots,"default",se(ae(t)),()=>{var t;return[m(o).showDefaultActions?(f(),h(cs,{key:0,"model-value":null==(t=m(i))?void 0:t.collapsed,"onUpdate:modelValue":p},{"reset-before":y(t=>[g(e.$slots,"reset-before",se(ae(t)))]),"submit-before":y(t=>[g(e.$slots,"submit-before",se(ae(t)))]),"expand-before":y(t=>[g(e.$slots,"expand-before",se(ae(t)))]),"expand-after":y(t=>[g(e.$slots,"expand-after",se(ae(t)))]),_:3},8,["model-value"])):U("",!0)]})]),_:2},[ne(m(u),t=>({name:t,fn:y(n=>[g(e.$slots,t,se(ae(n)))])}))]),1040,["collapsed","component-bind-event-map","component-map","form","global-common-config"])}}});function $s(e){const t=pe(e),n=new gt(e),s=n;s.useStore=e=>vt(n.store,e);const a=p((e,{attrs:t,slots:a})=>(he(()=>{n.unmount()}),n.setState(l(l({},e),t)),()=>fe(Ps,u(l(l({},e),t),{formApi:s}),a)),{name:"VbenUseForm",inheritAttrs:!1});return t&&A(()=>e.schema,()=>{n.setState({schema:e.schema})},{immediate:!0}),[a,s]}export{tt as C,mt as S,at as _,nt as a,es as b,vt as c,Qn as s,$s as u};
