var O=Object.defineProperty;var E=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var N=(t,e,a)=>e in t?O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,y=(t,e)=>{for(var a in e||(e={}))U.call(e,a)&&N(t,a,e[a]);if(E)for(var a of E(e))Z.call(e,a)&&N(t,a,e[a]);return t};var w=(t,e,a)=>new Promise((n,u)=>{var c=d=>{try{v(a.next(d))}catch(s){u(s)}},f=d=>{try{v(a.throw(d))}catch(s){u(s)}},v=d=>d.done?n(d.value):Promise.resolve(d.value).then(c,f);v((a=a.apply(t,e)).next())});import{a$ as q,bB as j,b0 as b,b1 as D,c5 as G,bR as H,cL as Q,b4 as F,b3 as P}from"./bootstrap-SVCeOZ28.js";import{c as X}from"./index-DkHGKBTe.js";import{_ as J}from"./login.vue_vue_type_script_setup_true_lang-BSm-xUPi.js";import{L as B,ad as K,a4 as Y,V as ee,_ as ae,a1 as $,aW as te,aX as oe,U as T,E as R,ap as se,aj as W,p,ak as g,a9 as i,al as ne,bM as L,Z as M,ai as re}from"../jse/index-index-Bt_MP_ox.js";import{_ as ie,N as le,a as ue,b as de}from"./layout.vue_vue_type_script_setup_true_lang-lW7XK2b3.js";import{u as ce}from"./use-modal-BAP-UKjg.js";import{_ as me}from"./avatar.vue_vue_type_script_setup_true_lang-BXp47W8g.js";import{a as pe}from"./use-vben-form-C7HFiPQQ.js";import"./index-B2mgTVyZ.js";import"./auth-title-Sv5ghiYc.js";import"./render-content.vue_vue_type_script_lang-D6mFGk_5.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-qoTWou1A.js";import"./TabsList.vue_vue_type_script_setup_true_lang-VN6o_CHu.js";import"./TabsContent.vue_vue_type_script_setup_true_lang-DJuh2bCh.js";import"./Switch.vue_vue_type_script_setup_true_lang-L7TlOFZp.js";import"./rotate-cw-Dwhom0Dv.js";import"./FormLabel.vue_vue_type_script_setup_true_lang-1llEcIJS.js";const fe=q("book-open-text",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),m=B(),A=B(!1),_=B({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function ve(){function t(n){return w(this,null,function*(){var c;const{Watermark:u}=yield ae(()=>w(null,null,function*(){const{Watermark:f}=yield import("./index.esm-j49SPltB.js");return{Watermark:f}}),[]);_.value=y(y({},_.value),n),m.value=new u(_.value),yield(c=m.value)==null?void 0:c.create()})}function e(n){return w(this,null,function*(){var u;m.value?(yield ee(),yield(u=m.value)==null?void 0:u.changeOptions(y(y({},_.value),n))):yield t(n)})}function a(){m.value&&(m.value.destroy(),m.value=void 0)}return A.value||(A.value=!0,K(()=>{a()})),{destroyWatermark:a,updateWatermark:e,watermark:Y(m)}}const he=$({name:"LoginExpiredModal",__name:"login-expired-modal",props:te({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(t){const e=t,a=oe(t,"open"),[n,u]=ce();T(()=>a.value,s=>{u.setState({isOpen:s})});const c=R(()=>e.zIndex||d()),f=["ant-message","loading"];function v(s){return f.some(h=>s.classList.contains(h))}function d(){let s=0;return[...document.querySelectorAll("*")].forEach(x=>{const k=window.getComputedStyle(x).getPropertyValue("z-index");k&&!Number.isNaN(Number.parseInt(k))&&!v(x)&&(s=Math.max(s,Number.parseInt(k)))}),s+1}return(s,h)=>(W(),se("div",null,[p(i(n),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":c.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:g(()=>[p(i(me),{src:t.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),p(i(j),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":i(b)("authentication.loginAgainSubTitle"),title:i(b)("authentication.loginAgainTitle")},{default:g(()=>[ne(s.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}}),$e=$({__name:"basic",setup(t){const e=B([{id:1,avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{id:2,avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{id:3,avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{id:4,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"},{id:5,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"跳转Workspace示例",link:"/workspace"},{id:6,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"跳转外部链接示例",link:"https://doc.vben.pro"}]),a=D(),n=G(),u=H(),c=Q(),{destroyWatermark:f,updateWatermark:v}=ve(),d=R(()=>e.value.some(r=>!r.isRead)),s=R(()=>[{handler:()=>{a.push({name:"Profile"})},icon:"lucide:user",text:b("page.auth.profile")},{handler:()=>{L(F,{target:"_blank"})},icon:fe,text:b("ui.widgets.document")},{handler:()=>{L(P,{target:"_blank"})},icon:X,text:"GitHub"},{handler:()=>{L(`${P}/issues`,{target:"_blank"})},icon:pe,text:b("ui.widgets.qa")}]),h=R(()=>{var r,o;return(o=(r=n.userInfo)==null?void 0:r.avatar)!=null?o:M.app.defaultAvatar});function x(){return w(this,null,function*(){yield u.logout(!1)})}function I(){e.value=[]}function k(r){const o=e.value.find(l=>l.id===r);o&&(o.isRead=!0)}function z(r){e.value=e.value.filter(o=>o.id!==r)}function V(){e.value.forEach(r=>r.isRead=!0)}return T(()=>({enable:M.app.watermark,content:M.app.watermarkContent}),l=>w(null,[l],function*({enable:r,content:o}){var S,C;r?yield v({content:o||`${(S=n.userInfo)==null?void 0:S.username} - ${(C=n.userInfo)==null?void 0:C.realName}`}):f()}),{immediate:!0}),(r,o)=>(W(),re(i(de),{onClearPreferencesAndLogout:x},{"user-dropdown":g(()=>{var l;return[p(i(ue),{avatar:h.value,menus:s.value,text:(l=i(n).userInfo)==null?void 0:l.realName,description:"ann.vben@gmail.com","tag-text":"Pro",onLogout:x},null,8,["avatar","menus","text"])]}),notification:g(()=>[p(i(le),{dot:d.value,notifications:e.value,onClear:I,onRead:o[0]||(o[0]=l=>l.id&&k(l.id)),onRemove:o[1]||(o[1]=l=>l.id&&z(l.id)),onMakeAll:V},null,8,["dot","notifications"])]),extra:g(()=>[p(i(he),{open:i(c).loginExpired,"onUpdate:open":o[2]||(o[2]=l=>i(c).loginExpired=l),avatar:h.value},{default:g(()=>[p(J)]),_:1},8,["open","avatar"])]),"lock-screen":g(()=>[p(i(ie),{avatar:h.value,onToLogin:x},null,8,["avatar"])]),_:1}))}});export{$e as default};
