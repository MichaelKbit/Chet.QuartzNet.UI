var e=(e,a,t)=>new Promise((s,n)=>{var o=e=>{try{r(t.next(e))}catch(a){n(a)}},l=e=>{try{r(t.throw(e))}catch(a){n(a)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,l);r((t=t.apply(e,a)).next())});import{b2 as a,bs as t,aq as s,c4 as n}from"./bootstrap-Dknk63fm.js";import{a1 as o,P as l,E as r,ap as i,aj as m,p as u,a9 as c,ak as p,ax as f,L as d,aa as b,ai as v}from"../jse/index-index-BjsohvV2.js";import{u as h}from"./use-vben-form-Cffh3qgp.js";const y=["onKeydown"],g=o({__name:"base-setting",props:{formSchema:{default:()=>[]}},emits:["submit"],setup(n,{expose:o,emit:d}){const b=n,v=d,[g,x]=h(l({commonConfig:{componentProps:{class:"w-full"}},layout:"horizontal",schema:r(()=>b.formSchema),showDefaultActions:!1}));function _(){return e(this,null,function*(){const{valid:e}=yield x.validate(),a=yield x.getValues();e&&v("submit",a)})}return o({getFormApi:()=>x}),(e,n)=>(m(),i("div",{onKeydown:t(s(_,["prevent"]),["enter"])},[u(c(g)),u(c(a),{type:"submit",class:"mt-4",onClick:_},{default:p(()=>[...n[0]||(n[0]=[f(" 更新基本信息 ",-1)])]),_:1})],40,y))}});const x=o({__name:"base-setting",setup(a){const t=d(),s=[{label:"管理员",value:"super"},{label:"用户",value:"user"},{label:"测试",value:"test"}],o=r(()=>[{fieldName:"realName",component:"Input",label:"姓名"},{fieldName:"username",component:"Input",label:"用户名"},{fieldName:"roles",component:"Select",componentProps:{mode:"tags",options:s},label:"角色"},{fieldName:"introduction",component:"Textarea",label:"个人简介"}]);return b(()=>e(null,null,function*(){const a=yield function(){return e(this,null,function*(){return n.get("/user/info")})}();t.value.getFormApi().setValues(a)})),(e,a)=>(m(),v(c(g),{ref_key:"profileBaseSettingRef",ref:t,"form-schema":o.value},null,8,["form-schema"]))}});export{x as _};
