var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,r=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&i(e,a,t[a]);if(n)for(var a of n(t))s.call(t,a)&&i(e,a,t[a]);return e},l=(e,n)=>t(e,a(n));import{b1 as u,b0 as c,b2 as m}from"./bootstrap-Dknk63fm.js";import{T as p}from"./auth-title-DvjaOEJC.js";import{a1 as d,P as h,E as f,ap as g,aj as b,p as w,az as v,ak as y,al as P,ax as _,ay as T,a9 as x,aR as j,L as O,f as C,ai as k}from"../jse/index-index-BjsohvV2.js";import{u as S,s as A,b as F}from"./use-vben-form-Cffh3qgp.js";import"./FormLabel.vue_vue_type_script_setup_true_lang-CKyOmHKZ.js";import"./render-content.vue_vue_type_script_lang-DYk6QFkF.js";const V={class:"mt-4 text-center text-sm"},$=d(l(r({},{name:"RegisterForm"}),{__name:"register",props:{formSchema:{default:()=>[]},loading:{type:Boolean,default:!1},loginPath:{default:"/auth/login"},title:{default:""},subTitle:{default:""},submitButtonText:{default:""}},emits:["submit"],setup(e,{expose:t,emit:a}){const n=e,o=a,[s,i]=S(h({commonConfig:{hideLabel:!0,hideRequiredMark:!0},schema:f(()=>n.formSchema),showDefaultActions:!1})),r=u();function l(){return e=this,t=null,a=function*(){const{valid:e}=yield i.validate(),t=yield i.getValues();e&&o("submit",t)},new Promise((n,o)=>{var s=e=>{try{r(a.next(e))}catch(t){o(t)}},i=e=>{try{r(a.throw(e))}catch(t){o(t)}},r=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,i);r((a=a.apply(e,t)).next())});var e,t,a}return t({getFormApi:()=>i}),(t,a)=>(b(),g("div",null,[w(p,null,{desc:y(()=>[P(t.$slots,"subTitle",{},()=>[_(T(e.subTitle||x(c)("authentication.signUpSubtitle")),1)])]),default:y(()=>[P(t.$slots,"title",{},()=>[_(T(e.title||x(c)("authentication.createAnAccount"))+" ðŸš€ ",1)])]),_:3}),w(x(s)),w(x(m),{class:j([{"cursor-wait":e.loading},"mt-2 w-full"]),loading:e.loading,"aria-label":"register",onClick:l},{default:y(()=>[P(t.$slots,"submitButtonText",{},()=>[_(T(e.submitButtonText||x(c)("authentication.signUp")),1)])]),_:3},8,["class","loading"]),v("div",V,[_(T(x(c)("authentication.alreadyHaveAccount"))+" ",1),v("span",{class:"vben-link text-sm font-normal",onClick:a[0]||(a[0]=e=>{r.push(n.loginPath)})},T(x(c)("authentication.goToLogin")),1)])]))}})),B=d(l(r({},{name:"Register"}),{__name:"register",setup(e){const t=O(!1),a=f(()=>[{component:"VbenInput",componentProps:{placeholder:c("authentication.usernameTip")},fieldName:"username",label:c("authentication.username"),rules:A().min(1,{message:c("authentication.usernameTip")})},{component:"VbenInputPassword",componentProps:{passwordStrength:!0,placeholder:c("authentication.password")},fieldName:"password",label:c("authentication.password"),renderComponentContent:()=>({strengthText:()=>c("authentication.passwordStrength")}),rules:A().min(1,{message:c("authentication.passwordTip")})},{component:"VbenInputPassword",componentProps:{placeholder:c("authentication.confirmPassword")},dependencies:{rules(e){const{password:t}=e;return A({required_error:c("authentication.passwordTip")}).min(1,{message:c("authentication.passwordTip")}).refine(e=>e===t,{message:c("authentication.confirmPasswordTip")})},triggerFields:["password"]},fieldName:"confirmPassword",label:c("authentication.confirmPassword")},{component:"VbenCheckbox",fieldName:"agreePolicy",renderComponentContent:()=>({default:()=>C("span",[c("authentication.agree"),C("a",{class:"vben-link ml-1 ",href:""},`${c("authentication.privacyPolicy")} & ${c("authentication.terms")}`)])}),rules:F().refine(e=>!!e,{message:c("authentication.agreeTip")})}]);function n(e){console.log("register submit:",e)}return(e,o)=>(b(),k(x($),{"form-schema":a.value,loading:t.value,onSubmit:n},null,8,["form-schema","loading"]))}}));export{B as default};
