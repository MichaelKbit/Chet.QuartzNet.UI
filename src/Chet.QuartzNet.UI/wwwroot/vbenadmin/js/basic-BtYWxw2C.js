var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,i=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&s(e,a,t[a]);if(r)for(var a of r(t))n.call(t,a)&&s(e,a,t[a]);return e},l=(e,t,a)=>new Promise((r,o)=>{var n=e=>{try{i(a.next(e))}catch(t){o(t)}},s=e=>{try{i(a.throw(e))}catch(t){o(t)}},i=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,s);i((a=a.apply(e,t)).next())});import{a$ as u,bB as p,b0 as d,b1 as c,c5 as v,bR as m,cL as _,b4 as h,b3 as g}from"./bootstrap-Dknk63fm.js";import{c as f}from"./index-reEJ308n.js";import{_ as y}from"./login.vue_vue_type_script_setup_true_lang-BZSIhDRM.js";import{L as b,ad as x,a4 as w,V as k,_ as j,a1 as P,aW as L,aX as R,U as O,E as M,ap as B,aj as I,p as T,ak as E,a9 as S,al as W,bM as A,Z as N,ai as z}from"../jse/index-index-BjsohvV2.js";import{_ as C,N as V,a as $,b as q}from"./layout.vue_vue_type_script_setup_true_lang-Cv_fU17k.js";import{u as F}from"./use-modal-DdvXY5DY.js";import{_ as D}from"./avatar.vue_vue_type_script_setup_true_lang-BdBUrBe8.js";import{a as G}from"./use-vben-form-Cffh3qgp.js";import"./index-ChWni96s.js";import"./auth-title-DvjaOEJC.js";import"./render-content.vue_vue_type_script_lang-DYk6QFkF.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-UJUjIjMq.js";import"./TabsList.vue_vue_type_script_setup_true_lang-BBpc-34w.js";import"./TabsContent.vue_vue_type_script_setup_true_lang-Baai3NAY.js";import"./Switch.vue_vue_type_script_setup_true_lang-BxhXvk2j.js";import"./rotate-cw-kw21yymj.js";import"./FormLabel.vue_vue_type_script_setup_true_lang-CKyOmHKZ.js";const H=u("book-open-text",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),U=b(),J=b(!1),K=b({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function Q(){function e(){U.value&&(U.value.destroy(),U.value=void 0)}return J.value||(J.value=!0,x(()=>{e()})),{destroyWatermark:e,updateWatermark:function(e){return l(this,null,function*(){var t;U.value?(yield k(),yield null==(t=U.value)?void 0:t.changeOptions(i(i({},K.value),e))):yield function(e){return l(this,null,function*(){var t;const{Watermark:a}=yield j(()=>l(null,null,function*(){const{Watermark:e}=yield import("./index.esm-DGqylJ0j.js");return{Watermark:e}}),[]);K.value=i(i({},K.value),e),U.value=new a(K.value),yield null==(t=U.value)?void 0:t.create()})}(e)})},watermark:w(U)}}const X=P((Z=i({},{name:"LoginExpiredModal"}),Y={__name:"login-expired-modal",props:L({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(e){const t=e,a=R(e,"open"),[r,o]=F();O(()=>a.value,e=>{o.setState({isOpen:e})});const n=M(()=>t.zIndex||function(){let e=0;return[...document.querySelectorAll("*")].forEach(t=>{const a=window.getComputedStyle(t).getPropertyValue("z-index");!a||Number.isNaN(Number.parseInt(a))||function(e){return s.some(t=>e.classList.contains(t))}(t)||(e=Math.max(e,Number.parseInt(a)))}),e+1}()),s=["ant-message","loading"];return(t,a)=>(I(),B("div",null,[T(S(r),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":n.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:E(()=>[T(S(D),{src:e.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),T(S(p),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":S(d)("authentication.loginAgainSubTitle"),title:S(d)("authentication.loginAgainTitle")},{default:E(()=>[W(t.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}},t(Z,a(Y))));var Z,Y;const ee=P({__name:"basic",setup(e){const t=b([{id:1,avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{id:2,avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{id:3,avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{id:4,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"},{id:5,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"跳转Workspace示例",link:"/workspace"},{id:6,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"跳转外部链接示例",link:"https://doc.vben.pro"}]),a=c(),r=v(),o=m(),n=_(),{destroyWatermark:s,updateWatermark:i}=Q(),u=M(()=>t.value.some(e=>!e.isRead)),p=M(()=>[{handler:()=>{a.push({name:"Profile"})},icon:"lucide:user",text:d("page.auth.profile")},{handler:()=>{A(h,{target:"_blank"})},icon:H,text:d("ui.widgets.document")},{handler:()=>{A(g,{target:"_blank"})},icon:f,text:"GitHub"},{handler:()=>{A(`${g}/issues`,{target:"_blank"})},icon:G,text:d("ui.widgets.qa")}]),x=M(()=>{var e,t;return null!=(t=null==(e=r.userInfo)?void 0:e.avatar)?t:N.app.defaultAvatar});function w(){return l(this,null,function*(){yield o.logout(!1)})}function k(){t.value=[]}function j(){t.value.forEach(e=>e.isRead=!0)}return O(()=>({enable:N.app.watermark,content:N.app.watermarkContent}),e=>l(null,[e],function*({enable:e,content:t}){var a,o;e?yield i({content:t||`${null==(a=r.userInfo)?void 0:a.username} - ${null==(o=r.userInfo)?void 0:o.realName}`}):s()}),{immediate:!0}),(e,a)=>(I(),z(S(q),{onClearPreferencesAndLogout:w},{"user-dropdown":E(()=>{var e;return[T(S($),{avatar:x.value,menus:p.value,text:null==(e=S(r).userInfo)?void 0:e.realName,description:"ann.vben@gmail.com","tag-text":"Pro",onLogout:w},null,8,["avatar","menus","text"])]}),notification:E(()=>[T(S(V),{dot:u.value,notifications:t.value,onClear:k,onRead:a[0]||(a[0]=e=>e.id&&function(e){const a=t.value.find(t=>t.id===e);a&&(a.isRead=!0)}(e.id)),onRemove:a[1]||(a[1]=e=>{return e.id&&(a=e.id,void(t.value=t.value.filter(e=>e.id!==a)));var a}),onMakeAll:j},null,8,["dot","notifications"])]),extra:E(()=>[T(S(X),{open:S(n).loginExpired,"onUpdate:open":a[2]||(a[2]=e=>S(n).loginExpired=e),avatar:x.value},{default:E(()=>[T(y)]),_:1},8,["open","avatar"])]),"lock-screen":E(()=>[T(S(C),{avatar:x.value,onToLogin:w},null,8,["avatar"])]),_:1}))}});export{ee as default};
