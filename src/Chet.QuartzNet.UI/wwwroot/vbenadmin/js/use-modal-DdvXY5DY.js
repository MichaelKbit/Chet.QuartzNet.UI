var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,r=(e,t)=>{for(var o in t||(t={}))n.call(t,o)&&l(e,o,t[o]);if(a)for(var o of a(t))s.call(t,o)&&l(e,o,t[o]);return e},i=(e,a)=>t(e,o(a)),u=(e,t)=>{var o={};for(var l in e)n.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&a)for(var l of a(e))t.indexOf(l)<0&&s.call(e,l)&&(o[l]=e[l]);return o},d=(e,t,o)=>l(e,"symbol"!=typeof t?t+"":t,o),p=(e,t,o)=>new Promise((a,n)=>{var s=e=>{try{r(o.next(e))}catch(t){n(t)}},l=e=>{try{r(o.throw(e))}catch(t){n(t)}},r=e=>e.done?a(e.value):Promise.resolve(e.value).then(s,l);r((o=o.apply(e,t)).next())});import{bf as c,bT as f,bv as v,bw as m,bU as y,bV as h,bW as b,bX as g,bY as C,bC as O,bZ as x,b_ as B,a$ as _,bE as D,bF as k,X as w,bG as M,bJ as A,bh as $,b$ as E,c0 as q,c1 as I,c2 as F,bL as P,bO as T,b2 as z}from"./bootstrap-Dknk63fm.js";import{a1 as S,L as j,W as L,al as R,a9 as V,ai as K,aj as X,ak as Y,ag as U,aa as H,p as N,av as W,aw as G,N as J,ap as Z,E as Q,ao as ee,an as te,am as oe,aR as ae,aS as ne,P as se,a6 as le,a8 as re,bp as ie,ae as ue,U as de,bF as pe,az as ce,ax as fe,ay as ve,ar as me,V as ye,a2 as he,bh as be,i as ge,f as Ce}from"../jse/index-index-BjsohvV2.js";import{_ as Oe,S as xe,c as Be}from"./use-vben-form-Cffh3qgp.js";const[_e,De]=c("DialogRoot");var ke=S({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const o=e,a=f(o,"open",t,{defaultValue:o.defaultOpen,passive:void 0===o.open}),n=j(),s=j(),{modal:l}=L(o);return De({open:a,modal:l,openModal:()=>{a.value=!0},onOpenChange:e=>{a.value=e},onOpenToggle:()=>{a.value=!a.value},contentId:"",titleId:"",descriptionId:"",triggerElement:n,contentElement:s}),(e,t)=>R(e.$slots,"default",{open:V(a),close:()=>a.value=!1})}}),we=S({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;v();const o=_e();return(e,a)=>(X(),K(V(m),U(t,{type:"button"===e.as?"button":void 0,onClick:a[0]||(a[0]=e=>V(o).onOpenChange(!1))}),{default:Y(()=>[R(e.$slots,"default")]),_:3},16,["type"]))}}),Me=S({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=e,a=t,n=_e(),{forwardRef:s,currentElement:l}=v();return n.titleId||(n.titleId=y(void 0,"reka-dialog-title")),n.descriptionId||(n.descriptionId=y(void 0,"reka-dialog-description")),H(()=>{n.contentElement=l,h()!==document.body&&(n.triggerElement.value=h())}),(e,t)=>(X(),K(V(C),{"as-child":"",loop:"",trapped:o.trapFocus,onMountAutoFocus:t[5]||(t[5]=e=>a("openAutoFocus",e)),onUnmountAutoFocus:t[6]||(t[6]=e=>a("closeAutoFocus",e))},{default:Y(()=>[N(V(b),U({id:V(n).contentId,ref:V(s),as:e.as,"as-child":e.asChild,"disable-outside-pointer-events":e.disableOutsidePointerEvents,role:"dialog","aria-describedby":V(n).descriptionId,"aria-labelledby":V(n).titleId,"data-state":V(g)(V(n).open.value)},e.$attrs,{onDismiss:t[0]||(t[0]=e=>V(n).onOpenChange(!1)),onEscapeKeyDown:t[1]||(t[1]=e=>a("escapeKeyDown",e)),onFocusOutside:t[2]||(t[2]=e=>a("focusOutside",e)),onInteractOutside:t[3]||(t[3]=e=>a("interactOutside",e)),onPointerDownOutside:t[4]||(t[4]=e=>a("pointerDownOutside",e))}),{default:Y(()=>[R(e.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Ae=S({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=e,a=t,n=_e(),s=O(a),{forwardRef:l,currentElement:i}=v();return x(i),(e,t)=>(X(),K(Me,U(r(r({},o),V(s)),{ref:V(l),"trap-focus":V(n).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:t[0]||(t[0]=e=>{var t;e.defaultPrevented||(e.preventDefault(),null==(t=V(n).triggerElement.value)||t.focus())}),onPointerDownOutside:t[1]||(t[1]=e=>{const t=e.detail.originalEvent,o=0===t.button&&!0===t.ctrlKey;(2===t.button||o)&&e.preventDefault()}),onFocusOutside:t[2]||(t[2]=e=>{e.preventDefault()})}),{default:Y(()=>[R(e.$slots,"default")]),_:3},16,["trap-focus"]))}}),$e=S({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=e,a=O(t);v();const n=_e(),s=j(!1),l=j(!1);return(e,t)=>(X(),K(Me,U(r(r({},o),V(a)),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:t[0]||(t[0]=e=>{var t;e.defaultPrevented||(s.value||null==(t=V(n).triggerElement.value)||t.focus(),e.preventDefault()),s.value=!1,l.value=!1}),onInteractOutside:t[1]||(t[1]=e=>{var t;e.defaultPrevented||(s.value=!0,"pointerdown"===e.detail.originalEvent.type&&(l.value=!0));const o=e.target;(null==(t=V(n).triggerElement.value)?void 0:t.contains(o))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&l.value&&e.preventDefault()})}),{default:Y(()=>[R(e.$slots,"default")]),_:3},16))}}),Ee=S({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=e,a=t,n=_e(),s=O(a),{forwardRef:l}=v();return(e,t)=>(X(),K(V(B),{present:e.forceMount||V(n).open.value},{default:Y(()=>[V(n).modal.value?(X(),K(Ae,U({key:0,ref:V(l)},r(r(r({},o),V(s)),e.$attrs)),{default:Y(()=>[R(e.$slots,"default")]),_:3},16)):(X(),K($e,U({key:1,ref:V(l)},r(r(r({},o),V(s)),e.$attrs)),{default:Y(()=>[R(e.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),qe=S({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(e){const t=e;v();const o=_e();return(e,a)=>(X(),K(V(m),U(t,{id:V(o).descriptionId}),{default:Y(()=>[R(e.$slots,"default")]),_:3},16,["id"]))}}),Ie=S({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const t=e,o=_e();return v(),(e,a)=>(X(),K(V(m),U(t,{id:V(o).titleId}),{default:Y(()=>[R(e.$slots,"default")]),_:3},16,["id"]))}});const Fe=_("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Pe=_("expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]),Te=_("shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]),ze=_("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Se=S({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const o=D(e,t);return(e,t)=>(X(),K(V(ke),W(G(V(o))),{default:Y(()=>[R(e.$slots,"default")]),_:3},16))}}),je=["data-dismissable-modal"],Le=S({__name:"DialogOverlay",setup(e){k();const t=J("DISMISSABLE_MODAL_ID");return(e,o)=>(X(),Z("div",{"data-dismissable-modal":V(t),class:"z-popup inset-0 bg-overlay"},null,8,je))}}),Re=S({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},animationType:{default:"slide"},appendTo:{default:"body"},class:{},closeClass:{},closeDisabled:{type:Boolean,default:!1},modal:{type:Boolean},open:{type:Boolean},overlayBlur:{},showClose:{type:Boolean,default:!0},zIndex:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","close","closed","opened"],setup(e,{expose:t,emit:o}){const a=e,n=o,s=Q(()=>{const e=a,{class:t,modal:o,open:n,showClose:s,animationType:l}=e;return u(e,["class","modal","open","showClose","animationType"])});const l=Q(()=>"body"!==a.appendTo&&a.appendTo!==document.body&&a.appendTo?"absolute":"fixed"),d=D(s,n),p=j(null);function c(e){var t;e.target===(null==(t=p.value)?void 0:t.$el)&&(a.open?n("opened"):n("closed"))}return t({getContentRef:()=>p.value}),(t,o)=>(X(),K(ee,{defer:"",to:e.appendTo},[N(w,{name:"fade"},{default:Y(()=>[e.open&&e.modal?(X(),K(Le,{key:0,style:oe(i(r({},e.zIndex?{zIndex:e.zIndex}:{}),{position:l.value,backdropFilter:e.overlayBlur&&e.overlayBlur>0?`blur(${e.overlayBlur}px)`:"none"})),onClick:o[0]||(o[0]=()=>n("close"))},null,8,["style"])):te("",!0)]),_:1}),N(V(Ee),U({ref_key:"contentRef",ref:p,style:i(r({},e.zIndex?{zIndex:e.zIndex}:{}),{position:l.value}),onAnimationend:c},V(d),{class:V(ne)("z-popup w-full bg-background p-6 shadow-lg outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-xl",{"data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%]":"slide"===e.animationType},a.class)}),{default:Y(()=>[R(t.$slots,"default"),e.showClose?(X(),K(V(we),{key:0,disabled:e.closeDisabled,class:ae(V(ne)("flex-center absolute right-3 top-3 h-6 w-6 rounded-full px-1 text-lg text-foreground/80 opacity-70 transition-opacity hover:bg-accent hover:text-accent-foreground hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",a.closeClass)),onClick:o[1]||(o[1]=()=>n("close"))},{default:Y(()=>[N(V(ze),{class:"h-4 w-4"})]),_:1},8,["disabled","class"])):te("",!0)]),_:3},16,["style","class"])],8,["to"]))}}),Ve=S({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=Q(()=>{const e=t,{class:o}=e;return u(e,["class"])}),a=M(o);return(e,o)=>(X(),K(V(qe),U(V(a),{class:V(ne)("text-sm text-muted-foreground",t.class)}),{default:Y(()=>[R(e.$slots,"default")]),_:3},16,["class"]))}}),Ke=S({__name:"DialogFooter",props:{class:{}},setup(e){const t=e;return(e,o)=>(X(),Z("div",{class:ae(V(ne)("flex flex-row flex-col-reverse justify-end gap-x-2",t.class))},[R(e.$slots,"default")],2))}}),Xe=S({__name:"DialogHeader",props:{class:{}},setup(e){const t=e;return(e,o)=>(X(),Z("div",{class:ae(V(ne)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[R(e.$slots,"default")],2))}}),Ye=S({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=Q(()=>{const e=t,{class:o}=e;return u(e,["class"])}),a=M(o);return(e,o)=>(X(),K(V(Ie),U(V(a),{class:V(ne)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:Y(()=>[R(e.$slots,"default")]),_:3},16,["class"]))}});function Ue(e,t,o,a,n){const s=se({offsetX:0,offsetY:0}),l=j(!1),r=t=>{const o=t.clientX,r=t.clientY;if(!e.value)return;const i=e.value.getBoundingClientRect(),{offsetX:u,offsetY:d}=s,p=i.left,c=i.top,f=i.width,v=i.height;let m,y,h,b,g=null;if(null==a?void 0:a.value){const e=document.querySelector(a.value);e&&(g=e.getBoundingClientRect())}if(g)h=g.left-p+u,m=g.right-p-f+u,b=g.top-c+d,y=g.bottom-c-v+d;else{const e=document.documentElement,t=e.clientWidth,o=e.clientHeight;h=-p+u,b=-c+d,m=t-p-f+u,y=o-c-v+d}const C=t=>{let a=u+t.clientX-o,i=d+t.clientY-r;if(a=Math.min(Math.max(a,h),m),i=Math.min(Math.max(i,b),y),s.offsetX=a,s.offsetY=i,e.value){const t=null==n?void 0:n.value;e.value.style.transform=t?`translate(${a}px, calc(-50% + ${i}px))`:`translate(${a}px, ${i}px)`,l.value=!0}},O=()=>{l.value=!1,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",O)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",O)},i=()=>{const o=ie(t);o&&e.value&&o.removeEventListener("mousedown",r)};return H(()=>{le(()=>{o.value?(()=>{const o=ie(t);o&&e.value&&o.addEventListener("mousedown",r)})():i()})}),re(()=>{i()}),{dragging:l,resetPosition:()=>{s.offsetX=0,s.offsetY=0;const t=ie(e);t&&(t.style.transform="")},transform:s}}const He=S({__name:"modal",props:{modalApi:{default:void 0},animationType:{},appendToMain:{type:Boolean,default:!1},bordered:{type:Boolean},cancelText:{},centered:{type:Boolean},class:{},closable:{type:Boolean},closeOnClickModal:{type:Boolean},closeOnPressEscape:{type:Boolean},confirmDisabled:{type:Boolean},confirmLoading:{type:Boolean},confirmText:{},contentClass:{},description:{},destroyOnClose:{type:Boolean,default:!1},draggable:{type:Boolean},footer:{type:Boolean},footerClass:{},fullscreen:{type:Boolean},fullscreenButton:{type:Boolean},header:{type:Boolean},headerClass:{},loading:{type:Boolean},modal:{type:Boolean},openAutoFocus:{type:Boolean},overlayBlur:{},showCancelButton:{type:Boolean},showConfirmButton:{type:Boolean},submitting:{type:Boolean},title:{},titleTooltip:{},zIndex:{}},setup(e){var t,o;const a=e,n=A.getComponents(),s=j(),l=j(),u=j(),d=j(),c=j(),f=ue();he("DISMISSABLE_MODAL_ID",f);const{$t:v}=$(),{isMobile:m}=E(),y=null==(o=null==(t=a.modalApi)?void 0:t.useStore)?void 0:o.call(t),{appendToMain:h,bordered:b,cancelText:g,centered:C,class:O,closable:x,closeOnClickModal:B,closeOnPressEscape:_,confirmDisabled:D,confirmLoading:k,confirmText:w,contentClass:M,description:S,destroyOnClose:L,draggable:U,footer:H,footerClass:W,fullscreen:G,fullscreenButton:J,header:Z,headerClass:ee,loading:oe,modal:se,openAutoFocus:le,overlayBlur:re,showCancelButton:ie,showConfirmButton:be,submitting:ge,title:Ce,titleTooltip:xe,animationType:Be,zIndex:_e}=q(a,y),De=Q(()=>G.value||m.value),ke=Q(()=>U.value&&!De.value&&Z.value),we=Q(()=>C.value&&!De.value),Me=Q(()=>h.value?`#${I}>div:not(.absolute)>div`:void 0),{dragging:Ae,transform:$e}=Ue(u,d,ke,Me,we),Ee=j(!1),qe=j(!0);function Ie(){var e;null==(e=a.modalApi)||e.setState(e=>i(r({},e),{fullscreen:!G.value}))}function Fe(e){B.value&&!ge.value||(e.preventDefault(),e.stopPropagation())}function ze(e){_.value&&!ge.value||e.preventDefault()}function je(e){le.value||null==e||e.preventDefault()}function Le(e){const t=e.target,o=null==t?void 0:t.dataset.dismissableModal;B.value&&o===f&&!ge.value||(e.preventDefault(),e.stopPropagation())}function He(e){e.preventDefault(),e.stopPropagation()}de(()=>{var e;return null==(e=null==y?void 0:y.value)?void 0:e.isOpen},e=>p(null,null,function*(){if(e){if(qe.value=!1,Ee.value||(Ee.value=!0),yield ye(),!s.value)return;const e=s.value.getContentRef();u.value=e.$el;const{offsetX:t,offsetY:o}=$e;u.value.style.transform=we.value?`translate(${t}px, calc(-50% + ${o}px))`:`translate(${t}px, ${o}px)`}}),{immediate:!0}),pe(()=>{var e;h.value||null==(e=a.modalApi)||e.close()});const Ne=Q(()=>!V(L)&&V(Ee)),We=()=>{requestAnimationFrame(()=>{var e;null==(e=a.modalApi)||e.onOpened()})};function Ge(){var e;qe.value=!0,null==(e=a.modalApi)||e.onClosed()}return(t,o)=>{var a;return X(),K(V(Se),{modal:!1,open:null==(a=V(y))?void 0:a.isOpen,"onUpdate:open":o[2]||(o[2]=()=>{var t;return V(ge)||null==(t=e.modalApi)?void 0:t.close()})},{default:Y(()=>{var a;return[N(V(Re),{ref_key:"contentRef",ref:s,"append-to":Me.value,class:ae(V(ne)("left-0 right-0 top-[10vh] mx-auto flex max-h-[80%] w-[520px] flex-col p-0",De.value?"sm:rounded-none":"sm:rounded-[var(--radius)]",V(O),{"border border-border":V(b),"shadow-3xl":!V(b),"left-0 top-0 size-full max-h-full !translate-x-0 !translate-y-0":De.value,"top-1/2":V(C)&&!De.value,"duration-300":!V(Ae),hidden:qe.value})),"force-mount":Ne.value,modal:V(se),open:null==(a=V(y))?void 0:a.isOpen,"show-close":V(x),"animation-type":V(Be),"z-index":V(_e),"overlay-blur":V(re),"close-class":"top-3",onCloseAutoFocus:He,onClosed:Ge,"close-disabled":V(ge),onEscapeKeyDown:ze,onFocusOutside:He,onInteractOutside:Fe,onOpenAutoFocus:je,onOpened:We,onPointerDownOutside:Le},{default:Y(()=>[N(V(Xe),{ref_key:"headerRef",ref:d,class:ae(V(ne)("px-5 py-4",{"border-b":V(b),hidden:!V(Z),"cursor-move select-none":ke.value},V(ee)))},{default:Y(()=>[V(Ce)?(X(),K(V(Ye),{key:0,class:"text-left"},{default:Y(()=>[R(t.$slots,"title",{},()=>[fe(ve(V(Ce))+" ",1),V(xe)?R(t.$slots,"titleTooltip",{key:0},()=>[N(V(Oe),{"trigger-class":"pb-1"},{default:Y(()=>[fe(ve(V(xe)),1)]),_:1})]):te("",!0)])]),_:3})):te("",!0),V(S)?(X(),K(V(Ve),{key:1},{default:Y(()=>[R(t.$slots,"description",{},()=>[fe(ve(V(S)),1)])]),_:3})):te("",!0),V(Ce)&&V(S)?te("",!0):(X(),K(V(F),{key:2},{default:Y(()=>[V(Ce)?te("",!0):(X(),K(V(Ye),{key:0})),V(S)?te("",!0):(X(),K(V(Ve),{key:1}))]),_:1}))]),_:3},8,["class"]),ce("div",{ref_key:"wrapperRef",ref:l,class:ae(V(ne)("relative min-h-40 flex-1 overflow-y-auto p-3",V(M),{"pointer-events-none":V(oe)||V(ge)}))},[R(t.$slots,"default")],2),V(oe)||V(ge)?(X(),K(V(P),{key:0,spinning:""})):te("",!0),V(J)?(X(),K(V(T),{key:1,class:"flex-center absolute right-10 top-3 hidden size-6 rounded-full px-1 text-lg text-foreground/80 opacity-70 transition-opacity hover:bg-accent hover:text-accent-foreground hover:opacity-100 focus:outline-none disabled:pointer-events-none sm:block",onClick:Ie},{default:Y(()=>[V(G)?(X(),K(V(Te),{key:0,class:"size-3.5"})):(X(),K(V(Pe),{key:1,class:"size-3.5"}))]),_:1})):te("",!0),V(H)?(X(),K(V(Ke),{key:2,ref_key:"footerRef",ref:c,class:ae(V(ne)("flex-row items-center justify-end p-2",{"border-t":V(b)},V(W)))},{default:Y(()=>[R(t.$slots,"prepend-footer"),R(t.$slots,"footer",{},()=>[V(ie)?(X(),K(me(V(n).DefaultButton||V(z)),{key:0,variant:"ghost",disabled:V(ge),onClick:o[0]||(o[0]=()=>{var t;return null==(t=e.modalApi)?void 0:t.onCancel()})},{default:Y(()=>[R(t.$slots,"cancelText",{},()=>[fe(ve(V(g)||V(v)("cancel")),1)])]),_:3},8,["disabled"])):te("",!0),R(t.$slots,"center-footer"),V(be)?(X(),K(me(V(n).PrimaryButton||V(z)),{key:1,disabled:V(D),loading:V(k)||V(ge),onClick:o[1]||(o[1]=()=>{var t;return null==(t=e.modalApi)?void 0:t.onConfirm()})},{default:Y(()=>[R(t.$slots,"confirmText",{},()=>[fe(ve(V(w)||V(v)("confirm")),1)])]),_:3},8,["disabled","loading"])):te("",!0)]),R(t.$slots,"append-footer")]),_:3},8,["class"])):te("",!0)]),_:3},8,["append-to","class","force-mount","modal","open","show-close","animation-type","z-index","overlay-blur","close-disabled"])]}),_:3},8,["open"])}}});class Ne{constructor(e={}){d(this,"sharedData",{payload:{}}),d(this,"store"),d(this,"api"),d(this,"state");const t=e,{connectedComponent:o,onBeforeClose:a,onCancel:n,onClosed:s,onConfirm:l,onOpenChange:i,onOpened:p}=t,c=u(t,["connectedComponent","onBeforeClose","onCancel","onClosed","onConfirm","onOpenChange","onOpened"]);this.store=new xe(r(r({},{bordered:!0,centered:!1,class:"",closeOnClickModal:!0,closeOnPressEscape:!0,confirmDisabled:!1,confirmLoading:!1,contentClass:"",destroyOnClose:!0,draggable:!1,footer:!0,footerClass:"",fullscreen:!1,fullscreenButton:!0,header:!0,headerClass:"",isOpen:!1,loading:!1,modal:!0,openAutoFocus:!1,showCancelButton:!0,showConfirmButton:!0,title:"",animationType:"slide"}),c),{onUpdate:()=>{var e,t,o;const a=this.store.state;(null==a?void 0:a.isOpen)===(null==(e=this.state)?void 0:e.isOpen)?this.state=a:(this.state=a,null==(o=(t=this.api).onOpenChange)||o.call(t,!!(null==a?void 0:a.isOpen)))}}),this.state=this.store.state,this.api={onBeforeClose:a,onCancel:n,onClosed:s,onConfirm:l,onOpenChange:i,onOpened:p},be(this)}close(){return p(this,null,function*(){var e,t,o;(null==(o=yield null==(t=(e=this.api).onBeforeClose)?void 0:t.call(e))||o)&&this.store.setState(e=>i(r({},e),{isOpen:!1}))})}getData(){var e,t;return null!=(t=null==(e=this.sharedData)?void 0:e.payload)?t:{}}lock(e=!0){return this.setState({submitting:e})}onCancel(){var e,t;this.api.onCancel?null==(t=(e=this.api).onCancel)||t.call(e):this.close()}onClosed(){var e,t;this.state.isOpen||null==(t=(e=this.api).onClosed)||t.call(e)}onConfirm(){var e,t;null==(t=(e=this.api).onConfirm)||t.call(e)}onOpened(){var e,t;this.state.isOpen&&(null==(t=(e=this.api).onOpened)||t.call(e))}open(){this.store.setState(e=>i(r({},e),{isOpen:!0,submitting:!1}))}setData(e){return this.sharedData.payload=e,this}setState(e){return ge(e)?this.store.setState(e):this.store.setState(t=>r(r({},t),e)),this}unlock(){return this.lock(!1)}}const We=Symbol("VBEN_MODAL_INJECT"),Ge={};function Je(e={}){var t;const{connectedComponent:o}=e;if(o){const t=se({}),a=j(!0),n=S((n,{attrs:s,slots:l})=>(he(We,{extendApi(e){Object.setPrototypeOf(t,e)},options:e,reCreateModal(){return p(this,null,function*(){a.value=!1,yield ye(),a.value=!0})}}),function(e,t){p(this,null,function*(){var o;if(!t||0===Object.keys(t).length)return;yield ye();const a=null==(o=null==e?void 0:e.store)?void 0:o.state;if(!a)return;const n=new Set(Object.keys(a));for(const e of Object.keys(t))n.has(e)&&!["class"].includes(e)&&console.warn(`[Vben Modal]: When 'connectedComponent' exists, do not set props or slots '${e}', which will increase complexity. If you need to modify the props of Modal, please use useVbenModal or api.`)})}(t,r(r(r({},n),s),l)),()=>Ce(a.value?o:"div",r(r({},n),s),l)),{name:"VbenParentModal",inheritAttrs:!1});return[n,t]}const a=J(We,{}),n=r(r(r({},Ge),a.options),e);n.onOpenChange=t=>{var o,n,s;null==(o=e.onOpenChange)||o.call(e,t),null==(s=null==(n=a.options)?void 0:n.onOpenChange)||s.call(n,t)};const s=n.onClosed;n.onClosed=()=>{var e;null==s||s(),n.destroyOnClose&&(null==(e=a.reCreateModal)||e.call(a))};const l=new Ne(n),u=l;u.useStore=e=>Be(l.store,e);const d=S((e,{attrs:t,slots:o})=>()=>Ce(He,i(r(r({},e),t),{modalApi:u}),o),{name:"VbenModal",inheritAttrs:!1});return null==(t=a.extendApi)||t.call(a,u),[d,u]}export{Fe as C,we as D,ze as X,Ee as a,qe as b,ke as c,Ie as d,Je as u};
