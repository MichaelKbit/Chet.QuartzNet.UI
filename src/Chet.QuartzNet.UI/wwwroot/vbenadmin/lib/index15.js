import{K as e,b as t,_ as l,L as a,M as o,A as n,o as r,P as i,m as s,F as u,e as c,l as d,B as p,s as v,k as h,h as f,J as m,a as y,t as g,v as b,O as C,g as w,f as S}from"./bootstrap.js";import{u as k}from"./move.js";import{T as x,c as I,a as E,u as N,g as T,r as D}from"./index29.js";import{u as L,a as O,b as V,c as A,t as K,B as P,d as j,e as F,g as M}from"./index23.js";import{N as H,a4 as $,a3 as B,L as W,E as R,U,a5 as _,p as z,V as X,m as G,a8 as J,X as q,W as Q}from"../app.js";import{u as Y}from"./useMergedState.js";import{u as Z,F as ee}from"./FormItemContext.js";import{g as te,a as le}from"./statusUtils.js";import{g as ae}from"./index30.js";import"./collapseMotion.js";import"./Trigger.js";import"./ResizeObserver.es.js";import"./BaseInput.js";import"./Overflow.js";import"./DownOutlined.js";import"./CheckOutlined.js";import"./SearchOutlined.js";import"./slide.js";import"node:module";import"node:os";import"node:fs";import"node:url";import"node:assert";import"node:process";import"node:path";import"node:v8";import"node:util";import"node:crypto";import"node:tty";import"node:perf_hooks";import"node:vm";function oe(e){return e.disabled||e.disableCheckbox||!1===e.checkable}function ne(e){return null==e}const re=Symbol("TreeSelectContextPropsKey");const ie={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},se=B({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(a,o){let{slots:n,expose:r}=o;const i=O(),s=L(),u=H(re,{}),c=W(),d=k(()=>u.treeData,[()=>i.open,()=>u.treeData],e=>e[0]),p=R(()=>{const{checkable:e,halfCheckedKeys:t,checkedKeys:l}=s;return e?{checked:l,halfChecked:t}:null});U(()=>i.open,()=>{X(()=>{var e;i.open&&!i.multiple&&s.checkedKeys.length&&(null===(e=c.value)||void 0===e||e.scrollTo({key:s.checkedKeys[0]}))})},{immediate:!0,flush:"post"});const v=R(()=>String(i.searchValue).toLowerCase()),h=e=>!!v.value&&String(e[s.treeNodeFilterProp]).toLowerCase().includes(v.value),f=_(s.treeDefaultExpandedKeys),m=_(null);U(()=>i.searchValue,()=>{i.searchValue&&(m.value=function(e,t){const l=[];return function e(a){a.forEach(a=>{l.push(a[t.value]);const o=a[t.children];o&&e(o)})}(e),l}(G(u.treeData),G(u.fieldNames)))},{immediate:!0});const y=R(()=>s.treeExpandedKeys?s.treeExpandedKeys.slice():i.searchValue?m.value:f.value),g=e=>{var t;f.value=e,m.value=e,null===(t=s.onTreeExpand)||void 0===t||t.call(s,e)},b=e=>{e.preventDefault()},C=(e,t)=>{let{node:l}=t;var a,o;const{checkable:n,checkedKeys:r}=s;n&&oe(l)||(null===(a=u.onSelect)||void 0===a||a.call(u,l.key,{selected:!r.includes(l.key)}),i.multiple||null===(o=i.toggleOpen)||void 0===o||o.call(i,!1))},w=W(null),S=R(()=>s.keyEntities[w.value]),I=e=>{w.value=e};return r({scrollTo:function(){for(var e,t,l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return null===(t=null===(e=c.value)||void 0===e?void 0:e.scrollTo)||void 0===t?void 0:t.call(e,...a)},onKeydown:t=>{var l;const{which:a}=t;switch(a){case e.UP:case e.DOWN:case e.LEFT:case e.RIGHT:null===(l=c.value)||void 0===l||l.onKeydown(t);break;case e.ENTER:if(S.value){const{selectable:e,value:t}=S.value.node||{};!1!==e&&C(0,{node:{key:w.value},selected:!s.checkedKeys.includes(t)})}break;case e.ESC:i.toggleOpen(!1)}},onKeyup:()=>{}}),()=>{var e;const{prefixCls:a,multiple:o,searchValue:r,open:v,notFoundContent:f=(null===(e=n.notFoundContent)||void 0===e?void 0:e.call(n))}=i,{listHeight:m,listItemHeight:k,virtual:E,dropdownMatchSelectWidth:N,treeExpandAction:T}=u,{checkable:D,treeDefaultExpandAll:L,treeIcon:O,showTreeIcon:V,switcherIcon:A,treeLine:K,loadData:P,treeLoadedKeys:j,treeMotion:F,onTreeLoad:M,checkedKeys:H}=s;if(0===d.value.length)return z("div",{role:"listbox",class:`${a}-empty`,onMousedown:b},[f]);const $={fieldNames:u.fieldNames};return j&&($.loadedKeys=j),y.value&&($.expandedKeys=y.value),z("div",{onMousedown:b},[S.value&&v&&z("span",{style:ie,"aria-live":"assertive"},[S.value.node.value]),z(x,t(t({ref:c,focusable:!1,prefixCls:`${a}-tree`,treeData:d.value,height:m,itemHeight:k,virtual:!1!==E&&!1!==N,multiple:o,icon:O,showIcon:V,switcherIcon:A,showLine:K,loadData:r?null:P,motion:F,activeKey:w.value,checkable:D,checkStrictly:!0,checkedKeys:p.value,selectedKeys:D?[]:H,defaultExpandAll:L},$),{},{onActiveChange:I,onSelect:C,onCheck:C,onExpand:g,onLoad:M,filterTreeNode:h,expandAction:T}),l(l({},n),{checkable:s.customSlots.treeCheckable}))])}}}),ue="SHOW_PARENT",ce="SHOW_CHILD";function de(e,t,l,a){const o=new Set(e);return t===ce?e.filter(e=>{const t=l[e];return!(t&&t.children&&t.children.some(e=>{let{node:t}=e;return o.has(t[a.value])})&&t.children.every(e=>{let{node:t}=e;return oe(t)||o.has(t[a.value])}))}):t===ue?e.filter(e=>{const t=l[e],a=t?t.parent:null;return!(a&&!oe(a.node)&&o.has(a.key))}):e}const pe=()=>null;pe.inheritAttrs=!1,pe.displayName="ATreeSelectNode",pe.isTreeSelectNode=!0;function ve(e){return function e(){return a(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>{var a,n,r,i;if(!((i=t)&&i.type&&i.type.isTreeSelectNode))return null;const s=t.children||{},u=t.key,c={};for(const[e,l]of Object.entries(t.props))c[o(e)]=l;const{isLeaf:d,checkable:p,selectable:v,disabled:h,disableCheckbox:f}=c,m={isLeaf:d||""===d||void 0,checkable:p||""===p||void 0,selectable:v||""===v||void 0,disabled:h||""===h||void 0,disableCheckbox:f||""===f||void 0},y=l(l({},c),m),{title:g=(null===(a=s.title)||void 0===a?void 0:a.call(s,y)),switcherIcon:b=(null===(n=s.switcherIcon)||void 0===n?void 0:n.call(s,y))}=c,C=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(l[a[o]]=e[a[o]])}return l}(c,["title","switcherIcon"]),w=null===(r=s.default)||void 0===r?void 0:r.call(s),S=l(l(l({},C),{title:g,switcherIcon:b,key:u,isLeaf:d}),m),k=e(w);return k.length&&(S.children=k),S})}(e)}function he(e){if(!e)return e;const t=l({},e);return"props"in t||Object.defineProperty(t,"props",{get:()=>t}),t}function fe(e,t,a){const o=_();return U([a,e,t],()=>{const n=a.value;e.value?o.value=a.value?function(e,t){let{id:a,pId:o,rootPId:n}=t;const r={},i=[];return e.map(e=>{const t=l({},e),o=t[a];return r[o]=t,t.key=t.key||o,t}).forEach(e=>{const t=e[o],l=r[t];l&&(l.children=l.children||[],l.children.push(e)),(t===n||!l&&null===n)&&i.push(e)}),i}(G(e.value),l({id:"id",pId:"pId",rootPId:null},!0!==n?n:{})):G(e.value).slice():o.value=ve(G(t.value))},{immediate:!0,deep:!0}),o}function me(){return l(l({},r(j(),["mode"])),{prefixCls:String,id:String,value:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array]},onChange:{type:Function},searchValue:String,inputValue:String,onSearch:{type:Function},autoClearSearchValue:{type:Boolean,default:void 0},filterTreeNode:{type:[Boolean,Function],default:void 0},treeNodeFilterProp:String,onSelect:Function,onDeselect:Function,showCheckedStrategy:{type:String},treeNodeLabelProp:String,fieldNames:{type:Object},multiple:{type:Boolean,default:void 0},treeCheckable:{type:Boolean,default:void 0},treeCheckStrictly:{type:Boolean,default:void 0},labelInValue:{type:Boolean,default:void 0},treeData:{type:Array},treeDataSimpleMode:{type:[Boolean,Object],default:void 0},loadData:{type:Function},treeLoadedKeys:{type:Array},onTreeLoad:{type:Function},treeDefaultExpandAll:{type:Boolean,default:void 0},treeExpandedKeys:{type:Array},treeDefaultExpandedKeys:{type:Array},onTreeExpand:{type:Function},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,onDropdownVisibleChange:{type:Function},treeLine:{type:[Boolean,Object],default:void 0},treeIcon:i.any,showTreeIcon:{type:Boolean,default:void 0},switcherIcon:i.any,treeMotion:i.any,children:Array,treeExpandAction:String,showArrow:{type:Boolean,default:void 0},showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:i.any,maxTagPlaceholder:{type:Function},dropdownPopupAlign:i.any,customSlots:Object})}const ye=B({compatConfig:{MODE:3},name:"TreeSelect",inheritAttrs:!1,props:n(me(),{treeNodeFilterProp:"value",autoClearSearchValue:!0,showCheckedStrategy:ce,listHeight:200,listItemHeight:20,prefixCls:"vc-tree-select"}),setup(e,a){let{attrs:o,expose:n,slots:i}=a;const s=V(q(e,"id")),u=R(()=>e.treeCheckable&&!e.treeCheckStrictly),c=R(()=>e.treeCheckable||e.treeCheckStrictly),d=R(()=>e.treeCheckStrictly||e.labelInValue),p=R(()=>c.value||e.multiple),v=R(()=>function(e){const{label:t,value:l,children:a}=e||{},o=l||"value";return{_title:t?[t]:["title","label"],value:o,key:o,children:a||"children"}}(e.fieldNames)),[h,f]=Y("",{value:R(()=>void 0!==e.searchValue?e.searchValue:e.inputValue),postState:e=>e||""}),m=t=>{var l;f(t),null===(l=e.onSearch)||void 0===l||l.call(e,t)},y=fe(q(e,"treeData"),q(e,"children"),q(e,"treeDataSimpleMode")),{keyEntities:g,valueEntities:b}=((e,t)=>{const a=_(new Map),o=_({});return J(()=>{const n=t.value,r=I(e.value,{fieldNames:n,initWrapper:e=>l(l({},e),{valueEntities:new Map}),processEntity:(e,t)=>{const l=e.node[n.value];t.valueEntities.set(l,e)}});a.value=r.valueEntities,o.value=r.keyEntities}),{valueEntities:a,keyEntities:o}})(y,v),C=((e,t,a)=>{let{treeNodeFilterProp:o,filterTreeNode:n,fieldNames:r}=a;return R(()=>{const{children:a}=r.value,i=t.value,s=null==o?void 0:o.value;if(!i||!1===n.value)return e.value;let u;if("function"==typeof n.value)u=n.value;else{const e=i.toUpperCase();u=(t,l)=>{const a=l[s];return String(a).toUpperCase().includes(e)}}return function e(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];for(let r=0,s=t.length;r<s;r++){const s=t[r],c=s[a],d=o||u(i,he(s)),p=e(c||[],d);(d||p.length)&&n.push(l(l({},s),{[a]:p}))}return n}(e.value)})})(y,h,{fieldNames:v,treeNodeFilterProp:q(e,"treeNodeFilterProp"),filterTreeNode:q(e,"filterTreeNode")}),w=e=>{var t;return(t=e,Array.isArray(t)?t:void 0!==t?[t]:[]).map(e=>function(e){return!e||"object"!=typeof e}(e)?{value:e}:e)},S=t=>w(t).map(t=>{let{label:l}=t;const{value:a,halfChecked:o}=t;let n;const r=b.value.get(a);return r&&(l=null!=l?l:(t=>{if(t){if(e.treeNodeLabelProp)return t[e.treeNodeLabelProp];const{_title:l}=v.value;for(let e=0;e<l.length;e+=1){const a=t[l[e]];if(void 0!==a)return a}}})(r.node),n=r.node.disabled),{label:l,value:a,halfChecked:o,disabled:n}}),[k,x]=Y(e.defaultValue,{value:q(e,"value")}),T=R(()=>w(k.value)),D=_([]),L=_([]);J(()=>{const e=[],t=[];T.value.forEach(l=>{l.halfChecked?t.push(l):e.push(l)}),D.value=e,L.value=t});const O=R(()=>D.value.map(e=>e.value)),{maxLevel:j,levelEntities:F}=N(g),[M,H]=((e,t,l,a,o,n)=>{const r=_([]),i=_([]);return J(()=>{let s=e.value.map(e=>{let{value:t}=e;return t}),u=t.value.map(e=>{let{value:t}=e;return t});const c=s.filter(e=>!a.value[e]);l.value&&({checkedKeys:s,halfCheckedKeys:u}=E(s,!0,a.value,o.value,n.value)),r.value=Array.from(new Set([...c,...s])),i.value=u}),[r,i]})(D,L,u,g,j,F),B=R(()=>{const t=de(M.value,e.showCheckedStrategy,g.value,v.value).map(e=>{var t,l,a;return null!==(a=null===(l=null===(t=g.value[e])||void 0===t?void 0:t.node)||void 0===l?void 0:l[v.value.value])&&void 0!==a?a:e}).map(e=>{const t=D.value.find(t=>t.value===e);return{value:e,label:null==t?void 0:t.label}}),a=S(t),o=a[0];return!p.value&&o&&ne(o.value)&&ne(o.label)?[]:a.map(e=>{var t;return l(l({},e),{label:null!==(t=e.label)&&void 0!==t?t:e.value})})}),[X]=(e=>{const t=_({valueLabels:new Map}),a=_();return U(e,()=>{a.value=G(e.value)},{immediate:!0}),[R(()=>{const{valueLabels:e}=t.value,o=new Map,n=a.value.map(t=>{var a;const{value:n}=t,r=null!==(a=t.label)&&void 0!==a?a:e.get(n);return o.set(n,r),l(l({},t),{label:r})});return t.value.valueLabels=o,n})]})(B),Z=(t,l,a)=>{const o=S(t);if(x(o),e.autoClearSearchValue&&f(""),e.onChange){let o=t;if(u.value){const l=de(t,e.showCheckedStrategy,g.value,v.value);o=l.map(e=>{const t=b.value.get(e);return t?t.node[v.value.value]:e})}const{triggerValue:n,selected:r}=l||{triggerValue:void 0,selected:void 0};let i=o;if(e.treeCheckStrictly){const e=L.value.filter(e=>!o.includes(e.value));i=[...i,...e]}const s=S(i),h={preValue:D.value,triggerValue:n};let f=!0;(e.treeCheckStrictly||"selection"===a&&!r)&&(f=!1),function(e,t,l,a,o,n){let r=null,i=null;function s(){i||(i=[],function e(a){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.map((a,u)=>{const c=`${o}-${u}`,d=a[n.value],p=l.includes(d),v=e(a[n.children]||[],c,p),h=z(pe,a,{default:()=>[v.map(e=>e.node)]});if(t===d&&(r=h),p){const e={pos:c,node:h,children:v};return s||i.push(e),e}return null}).filter(e=>e)}(a),i.sort((e,t)=>{let{node:{props:{value:a}}}=e,{node:{props:{value:o}}}=t;return l.indexOf(a)-l.indexOf(o)}))}Object.defineProperty(e,"triggerNode",{get:()=>(s(),r)}),Object.defineProperty(e,"allCheckedNodes",{get:()=>(s(),o?i:i.map(e=>{let{node:t}=e;return t}))})}(h,n,t,y.value,f,v.value),c.value?h.checked=r:h.selected=r;const m=d.value?s:s.map(e=>e.value);e.onChange(p.value?m:m[0],d.value?null:s.map(e=>e.label),h)}},ee=(t,l)=>{let{selected:a,source:o}=l;var n,r,i;const s=G(g.value),c=G(b.value),d=s[t],h=null==d?void 0:d.node,f=null!==(n=null==h?void 0:h[v.value.value])&&void 0!==n?n:t;if(p.value){let e=a?[...O.value,f]:M.value.filter(e=>e!==f);if(u.value){const{missingRawValues:t,existRawValues:l}=(e=>{const t=[],l=[];return e.forEach(e=>{b.value.has(e)?l.push(e):t.push(e)}),{missingRawValues:t,existRawValues:l}})(e),o=l.map(e=>c.get(e).key);let n;({checkedKeys:n}=E(o,!!a||{halfCheckedKeys:H.value},s,j.value,F.value)),e=[...t,...n.map(e=>s[e].node[v.value.value])]}Z(e,{selected:a,triggerValue:f},o||"option")}else Z([f],{selected:!0,triggerValue:f},"option");a||!p.value?null===(r=e.onSelect)||void 0===r||r.call(e,f,he(h)):null===(i=e.onDeselect)||void 0===i||i.call(e,f,he(h))},te=t=>{if(e.onDropdownVisibleChange){const l={};Object.defineProperty(l,"documentClickClose",{get:()=>!1}),e.onDropdownVisibleChange(t,l)}},le=(e,t)=>{const l=e.map(e=>e.value);"clear"!==t.type?t.values.length&&ee(t.values[0].value,{selected:!1,source:"selection"}):Z(l,{},"selection")},{treeNodeFilterProp:ae,loadData:oe,treeLoadedKeys:ie,onTreeLoad:ue,treeDefaultExpandAll:ce,treeExpandedKeys:ve,treeDefaultExpandedKeys:me,onTreeExpand:ye,virtual:ge,listHeight:be,listItemHeight:Ce,treeLine:we,treeIcon:Se,showTreeIcon:ke,switcherIcon:xe,treeMotion:Ie,customSlots:Ee,dropdownMatchSelectWidth:Ne,treeExpandAction:Te}=Q(e);A(K({checkable:c,loadData:oe,treeLoadedKeys:ie,onTreeLoad:ue,checkedKeys:M,halfCheckedKeys:H,treeDefaultExpandAll:ce,treeExpandedKeys:ve,treeDefaultExpandedKeys:me,onTreeExpand:ye,treeIcon:Se,treeMotion:Ie,showTreeIcon:ke,switcherIcon:xe,treeLine:we,treeNodeFilterProp:ae,keyEntities:g,customSlots:Ee})),function(e){$(re,e)}(K({virtual:ge,listHeight:be,listItemHeight:Ce,treeData:C,fieldNames:v,onSelect:ee,dropdownMatchSelectWidth:Ne,treeExpandAction:Te}));const De=W();return n({focus(){var e;null===(e=De.value)||void 0===e||e.focus()},blur(){var e;null===(e=De.value)||void 0===e||e.blur()},scrollTo(e){var t;null===(t=De.value)||void 0===t||t.scrollTo(e)}}),()=>{var l;const a=r(e,["id","prefixCls","customSlots","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","virtual","listHeight","listItemHeight","onDropdownVisibleChange","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"]);return z(P,t(t(t({ref:De},o),a),{},{id:s,prefixCls:e.prefixCls,mode:p.value?"multiple":void 0,displayValues:X.value,onDisplayValuesChange:le,searchValue:h.value,onSearch:m,OptionList:se,emptyOptions:!y.value.length,onDropdownVisibleChange:te,tagRender:e.tagRender||i.tagRender,dropdownMatchSelectWidth:null===(l=e.dropdownMatchSelectWidth)||void 0===l||l}),i)}}}),ge=e=>{const{componentCls:t,treePrefixCls:l,colorBgElevated:a}=e,o=`.${l}`;return[{[`${t}-dropdown`]:[{padding:`${e.paddingXS}px ${e.paddingXS/2}px`},T(l,u(e,{colorBgContainer:a})),{[o]:{borderRadius:0,"&-list-holder-inner":{alignItems:"stretch",[`${o}-treenode`]:{[`${o}-node-content-wrapper`]:{flex:"auto"}}}}},ae(`${l}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${o}-switcher${o}-switcher_close`]:{[`${o}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};const be=(e,t,l)=>void 0!==l?l:`${e}-${t}`;function Ce(){return l(l({},r(me(),["showTreeIcon","treeMotion","inputIcon","getInputElement","treeLine","customSlots"])),{suffixIcon:i.any,size:d(),bordered:h(),treeLine:v([Boolean,Object]),replaceFields:p(),placement:d(),status:d(),popupClassName:String,dropdownClassName:String,"onUpdate:value":c(),"onUpdate:treeExpandedKeys":c(),"onUpdate:searchValue":c()})}const we=B({compatConfig:{MODE:3},name:"ATreeSelect",inheritAttrs:!1,props:n(Ce(),{choiceTransitionName:"",listHeight:256,treeIcon:!1,listItemHeight:26,bordered:!0}),slots:Object,setup(e,a){let{attrs:o,slots:n,expose:i,emit:c}=a;f(!(void 0===e.treeData&&n.default)),m(!1!==e.multiple||!e.treeCheckable,"TreeSelect","`multiple` will always be `true` when `treeCheckable` is true"),m(void 0===e.replaceFields,"TreeSelect","`replaceFields` is deprecated, please use fieldNames instead"),m(!e.dropdownClassName,"TreeSelect","`dropdownClassName` is deprecated. Please use `popupClassName` instead.");const d=Z(),p=ee.useInject(),v=R(()=>te(p.status,e.status)),{prefixCls:h,renderEmpty:k,direction:x,virtual:I,dropdownMatchSelectWidth:E,size:N,getPopupContainer:T,getPrefixCls:L,disabled:O}=y("select",e),{compactSize:V,compactItemClassnames:A}=g(h,x),K=R(()=>V.value||N.value),P=b(),j=R(()=>{var e;return null!==(e=O.value)&&void 0!==e?e:P.value}),H=R(()=>L()),$=R(()=>void 0!==e.placement?e.placement:"rtl"===x.value?"bottomRight":"bottomLeft"),B=R(()=>be(H.value,C($.value),e.transitionName)),U=R(()=>be(H.value,"",e.choiceTransitionName)),_=R(()=>L("select-tree",e.prefixCls)),X=R(()=>L("tree-select",e.prefixCls)),[G,J]=F(h),[q]=function(e,t){return s("TreeSelect",e=>{const l=u(e,{treePrefixCls:t.value});return[ge(l)]})(e)}(X,_),Q=R(()=>w(e.popupClassName||e.dropdownClassName,`${X.value}-dropdown`,{[`${X.value}-dropdown-rtl`]:"rtl"===x.value},J.value)),Y=R(()=>!(!e.treeCheckable&&!e.multiple)),ae=R(()=>void 0!==e.showArrow?e.showArrow:e.loading||!Y.value),oe=W();i({focus(){var e,t;null===(t=(e=oe.value).focus)||void 0===t||t.call(e)},blur(){var e,t;null===(t=(e=oe.value).blur)||void 0===t||t.call(e)}});const ne=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];c("update:value",t[0]),c("change",...t),d.onFieldChange()},re=e=>{c("update:treeExpandedKeys",e),c("treeExpand",e)},ie=e=>{c("update:searchValue",e),c("search",e)},se=e=>{c("blur",e),d.onFieldBlur()};return()=>{var a,i,s;const{notFoundContent:u=(null===(a=n.notFoundContent)||void 0===a?void 0:a.call(n)),prefixCls:c,bordered:f,listHeight:m,listItemHeight:y,multiple:g,treeIcon:b,treeLine:C,showArrow:N,switcherIcon:L=(null===(i=n.switcherIcon)||void 0===i?void 0:i.call(n)),fieldNames:O=e.replaceFields,id:V=d.id.value,placeholder:P=(null===(s=n.placeholder)||void 0===s?void 0:s.call(n))}=e,{isFormItemInput:F,hasFeedback:H,feedbackIcon:W}=p,{suffixIcon:R,removeIcon:Z,clearIcon:ee}=M(l(l({},e),{multiple:Y.value,showArrow:ae.value,hasFeedback:H,feedbackIcon:W,prefixCls:h.value}),n);let te;te=void 0!==u?u:k("Select");const ue=r(e,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon","bordered","status","onUpdate:value","onUpdate:treeExpandedKeys","onUpdate:searchValue"]),ce=w(!c&&X.value,{[`${h.value}-lg`]:"large"===K.value,[`${h.value}-sm`]:"small"===K.value,[`${h.value}-rtl`]:"rtl"===x.value,[`${h.value}-borderless`]:!f,[`${h.value}-in-form-item`]:F},le(h.value,v.value,H),A.value,o.class,J.value),de={};return void 0===e.treeData&&n.default&&(de.children=S(n.default())),G(q(z(ye,t(t(t(t({},o),ue),{},{disabled:j.value,virtual:I.value,dropdownMatchSelectWidth:E.value,id:V,fieldNames:O,ref:oe,prefixCls:h.value,class:ce,listHeight:m,listItemHeight:y,treeLine:!!C,inputIcon:R,multiple:g,removeIcon:Z,clearIcon:ee,switcherIcon:e=>D(_.value,L,e,n.leafIcon,C),showTreeIcon:b,notFoundContent:te,getPopupContainer:null==T?void 0:T.value,treeMotion:null,dropdownClassName:Q.value,choiceTransitionName:U.value,onChange:ne,onBlur:se,onSearch:ie,onTreeExpand:re},de),{},{transitionName:B.value,customSlots:l(l({},n),{treeCheckable:()=>z("span",{class:`${h.value}-tree-checkbox-inner`},null)}),maxTagPlaceholder:e.maxTagPlaceholder||n.maxTagPlaceholder,placement:$.value,showArrow:H||N,placeholder:P}),l(l({},n),{treeCheckable:()=>z("span",{class:`${h.value}-tree-checkbox-inner`},null)}))))}}}),Se=pe,ke=l(we,{TreeNode:pe,SHOW_ALL:"SHOW_ALL",SHOW_PARENT:ue,SHOW_CHILD:ce,install:e=>(e.component(we.name,we),e.component(Se.displayName,Se),e)});export{Se as TreeSelectNode,ke as default,Ce as treeSelectProps};
