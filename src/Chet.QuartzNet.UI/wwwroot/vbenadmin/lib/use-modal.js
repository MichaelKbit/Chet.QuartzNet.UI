import{be as e,bR as t,bt as o,bu as a,bS as s,bT as n,bU as l,bV as i,bW as r,bA as d,bX as u,bY as p,b3 as c,bC as f,bD as m,Z as y,bE as v,bH as h,bg as b,bZ as g,b_ as C,b$ as O,c0 as B,bJ as x,bM as _,b6 as D}from"./bootstrap.js";import{_ as k,S as w,c as A}from"./use-vben-form.js";import{a3 as M,L as $,W as E,am as q,ab as F,aj as I,ak as T,al as P,ah as z,ac as S,p as L,aw as R,ax as j,N as V,aq as K,E as X,ap as Y,ao as H,an as U,aS as N,aT as W,P as J,a8 as Z,aa as G,bp as Q,af as ee,U as te,bF as oe,aA as ae,ay as se,az as ne,as as le,V as ie,a4 as re,bh as de,a1 as ue,f as pe}from"../app.js";const[ce,fe]=e("DialogRoot");var me=M({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:o}){const a=e,s=t(a,"open",o,{defaultValue:a.defaultOpen,passive:void 0===a.open}),n=$(),l=$(),{modal:i}=E(a);return fe({open:s,modal:i,openModal:()=>{s.value=!0},onOpenChange:e=>{s.value=e},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:n,contentElement:l}),(e,t)=>q(e.$slots,"default",{open:F(s),close:()=>s.value=!1})}}),ye=M({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;o();const s=ce();return(e,o)=>(T(),I(F(a),z(t,{type:"button"===e.as?"button":void 0,onClick:o[0]||(o[0]=e=>F(s).onOpenChange(!1))}),{default:P(()=>[q(e.$slots,"default")]),_:3},16,["type"]))}}),ve=M({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const a=e,d=t,u=ce(),{forwardRef:p,currentElement:c}=o();return u.titleId||=s(void 0,"reka-dialog-title"),u.descriptionId||=s(void 0,"reka-dialog-description"),S(()=>{u.contentElement=c,n()!==document.body&&(u.triggerElement.value=n())}),(e,t)=>(T(),I(F(r),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:t[5]||(t[5]=e=>d("openAutoFocus",e)),onUnmountAutoFocus:t[6]||(t[6]=e=>d("closeAutoFocus",e))},{default:P(()=>[L(F(l),z({id:F(u).contentId,ref:F(p),as:e.as,"as-child":e.asChild,"disable-outside-pointer-events":e.disableOutsidePointerEvents,role:"dialog","aria-describedby":F(u).descriptionId,"aria-labelledby":F(u).titleId,"data-state":F(i)(F(u).open.value)},e.$attrs,{onDismiss:t[0]||(t[0]=e=>F(u).onOpenChange(!1)),onEscapeKeyDown:t[1]||(t[1]=e=>d("escapeKeyDown",e)),onFocusOutside:t[2]||(t[2]=e=>d("focusOutside",e)),onInteractOutside:t[3]||(t[3]=e=>d("interactOutside",e)),onPointerDownOutside:t[4]||(t[4]=e=>d("pointerDownOutside",e))}),{default:P(()=>[q(e.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),he=M({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const a=e,s=t,n=ce(),l=d(s),{forwardRef:i,currentElement:r}=o();return u(r),(e,t)=>(T(),I(ve,z({...a,...F(l)},{ref:F(i),"trap-focus":F(n).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:t[0]||(t[0]=e=>{e.defaultPrevented||(e.preventDefault(),F(n).triggerElement.value?.focus())}),onPointerDownOutside:t[1]||(t[1]=e=>{const t=e.detail.originalEvent,o=0===t.button&&!0===t.ctrlKey;(2===t.button||o)&&e.preventDefault()}),onFocusOutside:t[2]||(t[2]=e=>{e.preventDefault()})}),{default:P(()=>[q(e.$slots,"default")]),_:3},16,["trap-focus"]))}}),be=M({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const a=e,s=d(t);o();const n=ce(),l=$(!1),i=$(!1);return(e,t)=>(T(),I(ve,z({...a,...F(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:t[0]||(t[0]=e=>{e.defaultPrevented||(l.value||F(n).triggerElement.value?.focus(),e.preventDefault()),l.value=!1,i.value=!1}),onInteractOutside:t[1]||(t[1]=e=>{e.defaultPrevented||(l.value=!0,"pointerdown"===e.detail.originalEvent.type&&(i.value=!0));const t=e.target,o=F(n).triggerElement.value?.contains(t);o&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&i.value&&e.preventDefault()})}),{default:P(()=>[q(e.$slots,"default")]),_:3},16))}}),ge=M({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const a=e,s=t,n=ce(),l=d(s),{forwardRef:i}=o();return(e,t)=>(T(),I(F(p),{present:e.forceMount||F(n).open.value},{default:P(()=>[F(n).modal.value?(T(),I(he,z({key:0,ref:F(i)},{...a,...F(l),...e.$attrs}),{default:P(()=>[q(e.$slots,"default")]),_:3},16)):(T(),I(be,z({key:1,ref:F(i)},{...a,...F(l),...e.$attrs}),{default:P(()=>[q(e.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ce=M({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(e){const t=e;o();const s=ce();return(e,o)=>(T(),I(F(a),z(t,{id:F(s).descriptionId}),{default:P(()=>[q(e.$slots,"default")]),_:3},16,["id"]))}}),Oe=M({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const t=e,s=ce();return o(),(e,o)=>(T(),I(F(a),z(t,{id:F(s).titleId}),{default:P(()=>[q(e.$slots,"default")]),_:3},16,["id"]))}});const Be=c("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),xe=c("expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]),_e=c("shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]),De=c("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ke=M({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const o=f(e,t);return(e,t)=>(T(),I(F(me),R(j(F(o))),{default:P(()=>[q(e.$slots,"default")]),_:3},16))}}),we=["data-dismissable-modal"],Ae=M({__name:"DialogOverlay",setup(e){m();const t=V("DISMISSABLE_MODAL_ID");return(e,o)=>(T(),K("div",{"data-dismissable-modal":F(t),class:"z-popup inset-0 bg-overlay"},null,8,we))}}),Me=M({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},animationType:{default:"slide"},appendTo:{default:"body"},class:{},closeClass:{},closeDisabled:{type:Boolean,default:!1},modal:{type:Boolean},open:{type:Boolean},overlayBlur:{},showClose:{type:Boolean,default:!0},zIndex:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","close","closed","opened"],setup(e,{expose:t,emit:o}){const a=e,s=o,n=X(()=>{const{class:e,modal:t,open:o,showClose:s,animationType:n,...l}=a;return l});const l=X(()=>"body"!==a.appendTo&&a.appendTo!==document.body&&a.appendTo?"absolute":"fixed"),i=f(n,s),r=$(null);function d(e){e.target===r.value?.$el&&(a.open?s("opened"):s("closed"))}return t({getContentRef:()=>r.value}),(t,o)=>(T(),I(Y,{defer:"",to:e.appendTo},[L(y,{name:"fade"},{default:P(()=>[e.open&&e.modal?(T(),I(Ae,{key:0,style:U({...e.zIndex?{zIndex:e.zIndex}:{},position:l.value,backdropFilter:e.overlayBlur&&e.overlayBlur>0?`blur(${e.overlayBlur}px)`:"none"}),onClick:o[0]||(o[0]=()=>s("close"))},null,8,["style"])):H("",!0)]),_:1}),L(F(ge),z({ref_key:"contentRef",ref:r,style:{...e.zIndex?{zIndex:e.zIndex}:{},position:l.value},onAnimationend:d},F(i),{class:F(W)("z-popup w-full bg-background p-6 shadow-lg outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-xl",{"data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%]":"slide"===e.animationType},a.class)}),{default:P(()=>[q(t.$slots,"default"),e.showClose?(T(),I(F(ye),{key:0,disabled:e.closeDisabled,class:N(F(W)("flex-center absolute right-3 top-3 h-6 w-6 rounded-full px-1 text-lg text-foreground/80 opacity-70 transition-opacity hover:bg-accent hover:text-accent-foreground hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",a.closeClass)),onClick:o[1]||(o[1]=()=>s("close"))},{default:P(()=>[L(F(De),{class:"h-4 w-4"})]),_:1},8,["disabled","class"])):H("",!0)]),_:3},16,["style","class"])],8,["to"]))}}),$e=M({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=X(()=>{const{class:e,...o}=t;return o}),a=v(o);return(e,o)=>(T(),I(F(Ce),z(F(a),{class:F(W)("text-sm text-muted-foreground",t.class)}),{default:P(()=>[q(e.$slots,"default")]),_:3},16,["class"]))}}),Ee=M({__name:"DialogFooter",props:{class:{}},setup(e){const t=e;return(e,o)=>(T(),K("div",{class:N(F(W)("flex flex-row flex-col-reverse justify-end gap-x-2",t.class))},[q(e.$slots,"default")],2))}}),qe=M({__name:"DialogHeader",props:{class:{}},setup(e){const t=e;return(e,o)=>(T(),K("div",{class:N(F(W)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[q(e.$slots,"default")],2))}}),Fe=M({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=X(()=>{const{class:e,...o}=t;return o}),a=v(o);return(e,o)=>(T(),I(F(Oe),z(F(a),{class:F(W)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:P(()=>[q(e.$slots,"default")]),_:3},16,["class"]))}});function Ie(e,t,o,a,s){const n=J({offsetX:0,offsetY:0}),l=$(!1),i=t=>{const o=t.clientX,i=t.clientY;if(!e.value)return;const r=e.value.getBoundingClientRect(),{offsetX:d,offsetY:u}=n,p=r.left,c=r.top,f=r.width,m=r.height;let y,v,h,b,g=null;if(a?.value){const e=document.querySelector(a.value);e&&(g=e.getBoundingClientRect())}if(g)h=g.left-p+d,y=g.right-p-f+d,b=g.top-c+u,v=g.bottom-c-m+u;else{const e=document.documentElement,t=e.clientWidth,o=e.clientHeight;h=-p+d,b=-c+u,y=t-p-f+d,v=o-c-m+u}const C=t=>{let a=d+t.clientX-o,r=u+t.clientY-i;if(a=Math.min(Math.max(a,h),y),r=Math.min(Math.max(r,b),v),n.offsetX=a,n.offsetY=r,e.value){const t=s?.value;e.value.style.transform=t?`translate(${a}px, calc(-50% + ${r}px))`:`translate(${a}px, ${r}px)`,l.value=!0}},O=()=>{l.value=!1,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",O)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",O)},r=()=>{const o=Q(t);o&&e.value&&o.removeEventListener("mousedown",i)};return S(()=>{Z(()=>{o.value?(()=>{const o=Q(t);o&&e.value&&o.addEventListener("mousedown",i)})():r()})}),G(()=>{r()}),{dragging:l,resetPosition:()=>{n.offsetX=0,n.offsetY=0;const t=Q(e);t&&(t.style.transform="")},transform:n}}const Te=M({__name:"modal",props:{modalApi:{default:void 0},animationType:{},appendToMain:{type:Boolean,default:!1},bordered:{type:Boolean},cancelText:{},centered:{type:Boolean},class:{},closable:{type:Boolean},closeOnClickModal:{type:Boolean},closeOnPressEscape:{type:Boolean},confirmDisabled:{type:Boolean},confirmLoading:{type:Boolean},confirmText:{},contentClass:{},description:{},destroyOnClose:{type:Boolean,default:!1},draggable:{type:Boolean},footer:{type:Boolean},footerClass:{},fullscreen:{type:Boolean},fullscreenButton:{type:Boolean},header:{type:Boolean},headerClass:{},loading:{type:Boolean},modal:{type:Boolean},openAutoFocus:{type:Boolean},overlayBlur:{},showCancelButton:{type:Boolean},showConfirmButton:{type:Boolean},submitting:{type:Boolean},title:{},titleTooltip:{},zIndex:{}},setup(e){const t=e,o=h.getComponents(),a=$(),s=$(),n=$(),l=$(),i=$(),r=ee();re("DISMISSABLE_MODAL_ID",r);const{$t:d}=b(),{isMobile:u}=g(),p=t.modalApi?.useStore?.(),{appendToMain:c,bordered:f,cancelText:m,centered:y,class:v,closable:w,closeOnClickModal:A,closeOnPressEscape:M,confirmDisabled:E,confirmLoading:z,confirmText:S,contentClass:R,description:j,destroyOnClose:V,draggable:K,footer:Y,footerClass:U,fullscreen:J,fullscreenButton:Z,header:G,headerClass:Q,loading:de,modal:ue,openAutoFocus:pe,overlayBlur:ce,showCancelButton:fe,showConfirmButton:me,submitting:ye,title:ve,titleTooltip:he,animationType:be,zIndex:ge}=C(t,p),Ce=X(()=>J.value||u.value),Oe=X(()=>K.value&&!Ce.value&&G.value),Be=X(()=>y.value&&!Ce.value),De=X(()=>c.value?`#${O}>div:not(.absolute)>div`:void 0),{dragging:we,transform:Ae}=Ie(n,l,Oe,De,Be),Te=$(!1),Pe=$(!0);function ze(){t.modalApi?.setState(e=>({...e,fullscreen:!J.value}))}function Se(e){A.value&&!ye.value||(e.preventDefault(),e.stopPropagation())}function Le(e){M.value&&!ye.value||e.preventDefault()}function Re(e){pe.value||e?.preventDefault()}function je(e){const t=e.target,o=t?.dataset.dismissableModal;A.value&&o===r&&!ye.value||(e.preventDefault(),e.stopPropagation())}function Ve(e){e.preventDefault(),e.stopPropagation()}te(()=>p?.value?.isOpen,async e=>{if(e){if(Pe.value=!1,Te.value||(Te.value=!0),await ie(),!a.value)return;const e=a.value.getContentRef();n.value=e.$el;const{offsetX:t,offsetY:o}=Ae;n.value.style.transform=Be.value?`translate(${t}px, calc(-50% + ${o}px))`:`translate(${t}px, ${o}px)`}},{immediate:!0}),oe(()=>{c.value||t.modalApi?.close()});const Ke=X(()=>!F(V)&&F(Te)),Xe=()=>{requestAnimationFrame(()=>{t.modalApi?.onOpened()})};function Ye(){Pe.value=!0,t.modalApi?.onClosed()}return(t,n)=>(T(),I(F(ke),{modal:!1,open:F(p)?.isOpen,"onUpdate:open":n[2]||(n[2]=()=>F(ye)?void 0:e.modalApi?.close())},{default:P(()=>[L(F(Me),{ref_key:"contentRef",ref:a,"append-to":De.value,class:N(F(W)("left-0 right-0 top-[10vh] mx-auto flex max-h-[80%] w-[520px] flex-col p-0",Ce.value?"sm:rounded-none":"sm:rounded-[var(--radius)]",F(v),{"border border-border":F(f),"shadow-3xl":!F(f),"left-0 top-0 size-full max-h-full !translate-x-0 !translate-y-0":Ce.value,"top-1/2":F(y)&&!Ce.value,"duration-300":!F(we),hidden:Pe.value})),"force-mount":Ke.value,modal:F(ue),open:F(p)?.isOpen,"show-close":F(w),"animation-type":F(be),"z-index":F(ge),"overlay-blur":F(ce),"close-class":"top-3",onCloseAutoFocus:Ve,onClosed:Ye,"close-disabled":F(ye),onEscapeKeyDown:Le,onFocusOutside:Ve,onInteractOutside:Se,onOpenAutoFocus:Re,onOpened:Xe,onPointerDownOutside:je},{default:P(()=>[L(F(qe),{ref_key:"headerRef",ref:l,class:N(F(W)("px-5 py-4",{"border-b":F(f),hidden:!F(G),"cursor-move select-none":Oe.value},F(Q)))},{default:P(()=>[F(ve)?(T(),I(F(Fe),{key:0,class:"text-left"},{default:P(()=>[q(t.$slots,"title",{},()=>[se(ne(F(ve))+" ",1),F(he)?q(t.$slots,"titleTooltip",{key:0},()=>[L(F(k),{"trigger-class":"pb-1"},{default:P(()=>[se(ne(F(he)),1)]),_:1})]):H("",!0)])]),_:3})):H("",!0),F(j)?(T(),I(F($e),{key:1},{default:P(()=>[q(t.$slots,"description",{},()=>[se(ne(F(j)),1)])]),_:3})):H("",!0),F(ve)&&F(j)?H("",!0):(T(),I(F(B),{key:2},{default:P(()=>[F(ve)?H("",!0):(T(),I(F(Fe),{key:0})),F(j)?H("",!0):(T(),I(F($e),{key:1}))]),_:1}))]),_:3},8,["class"]),ae("div",{ref_key:"wrapperRef",ref:s,class:N(F(W)("relative min-h-40 flex-1 overflow-y-auto p-3",F(R),{"pointer-events-none":F(de)||F(ye)}))},[q(t.$slots,"default")],2),F(de)||F(ye)?(T(),I(F(x),{key:0,spinning:""})):H("",!0),F(Z)?(T(),I(F(_),{key:1,class:"flex-center absolute right-10 top-3 hidden size-6 rounded-full px-1 text-lg text-foreground/80 opacity-70 transition-opacity hover:bg-accent hover:text-accent-foreground hover:opacity-100 focus:outline-none disabled:pointer-events-none sm:block",onClick:ze},{default:P(()=>[F(J)?(T(),I(F(_e),{key:0,class:"size-3.5"})):(T(),I(F(xe),{key:1,class:"size-3.5"}))]),_:1})):H("",!0),F(Y)?(T(),I(F(Ee),{key:2,ref_key:"footerRef",ref:i,class:N(F(W)("flex-row items-center justify-end p-2",{"border-t":F(f)},F(U)))},{default:P(()=>[q(t.$slots,"prepend-footer"),q(t.$slots,"footer",{},()=>[F(fe)?(T(),I(le(F(o).DefaultButton||F(D)),{key:0,variant:"ghost",disabled:F(ye),onClick:n[0]||(n[0]=()=>e.modalApi?.onCancel())},{default:P(()=>[q(t.$slots,"cancelText",{},()=>[se(ne(F(m)||F(d)("cancel")),1)])]),_:3},8,["disabled"])):H("",!0),q(t.$slots,"center-footer"),F(me)?(T(),I(le(F(o).PrimaryButton||F(D)),{key:1,disabled:F(E),loading:F(z)||F(ye),onClick:n[1]||(n[1]=()=>e.modalApi?.onConfirm())},{default:P(()=>[q(t.$slots,"confirmText",{},()=>[se(ne(F(S)||F(d)("confirm")),1)])]),_:3},8,["disabled","loading"])):H("",!0)]),q(t.$slots,"append-footer")]),_:3},8,["class"])):H("",!0)]),_:3},8,["append-to","class","force-mount","modal","open","show-close","animation-type","z-index","overlay-blur","close-disabled"])]),_:3},8,["open"]))}});class Pe{sharedData={payload:{}};store;api;state;constructor(e={}){const{connectedComponent:t,onBeforeClose:o,onCancel:a,onClosed:s,onConfirm:n,onOpenChange:l,onOpened:i,...r}=e;this.store=new w({bordered:!0,centered:!1,class:"",closeOnClickModal:!0,closeOnPressEscape:!0,confirmDisabled:!1,confirmLoading:!1,contentClass:"",destroyOnClose:!0,draggable:!1,footer:!0,footerClass:"",fullscreen:!1,fullscreenButton:!0,header:!0,headerClass:"",isOpen:!1,loading:!1,modal:!0,openAutoFocus:!1,showCancelButton:!0,showConfirmButton:!0,title:"",animationType:"slide",...r},{onUpdate:()=>{const e=this.store.state;e?.isOpen===this.state?.isOpen?this.state=e:(this.state=e,this.api.onOpenChange?.(!!e?.isOpen))}}),this.state=this.store.state,this.api={onBeforeClose:o,onCancel:a,onClosed:s,onConfirm:n,onOpenChange:l,onOpened:i},de(this)}async close(){(await(this.api.onBeforeClose?.())??!0)&&this.store.setState(e=>({...e,isOpen:!1}))}getData(){return this.sharedData?.payload??{}}lock(e=!0){return this.setState({submitting:e})}onCancel(){this.api.onCancel?this.api.onCancel?.():this.close()}onClosed(){this.state.isOpen||this.api.onClosed?.()}onConfirm(){this.api.onConfirm?.()}onOpened(){this.state.isOpen&&this.api.onOpened?.()}open(){this.store.setState(e=>({...e,isOpen:!0,submitting:!1}))}setData(e){return this.sharedData.payload=e,this}setState(e){return ue(e)?this.store.setState(e):this.store.setState(t=>({...t,...e})),this}unlock(){return this.lock(!1)}}const ze=Symbol("VBEN_MODAL_INJECT"),Se={};function Le(e={}){const{connectedComponent:t}=e;if(t){const o=J({}),a=$(!0),s=M((s,{attrs:n,slots:l})=>(re(ze,{extendApi(e){Object.setPrototypeOf(o,e)},options:e,async reCreateModal(){a.value=!1,await ie(),a.value=!0}}),async function(e,t){if(!t||0===Object.keys(t).length)return;await ie();const o=e?.store?.state;if(!o)return;const a=new Set(Object.keys(o));for(const s of Object.keys(t))a.has(s)&&["class"].includes(s)}(o,{...s,...n,...l}),()=>pe(a.value?t:"div",{...s,...n},l)),{name:"VbenParentModal",inheritAttrs:!1});return[s,o]}const o=V(ze,{}),a={...Se,...o.options,...e};a.onOpenChange=t=>{e.onOpenChange?.(t),o.options?.onOpenChange?.(t)};const s=a.onClosed;a.onClosed=()=>{s?.(),a.destroyOnClose&&o.reCreateModal?.()};const n=new Pe(a),l=n;l.useStore=e=>A(n.store,e);const i=M((e,{attrs:t,slots:o})=>()=>pe(Te,{...e,...t,modalApi:l},o),{name:"VbenModal",inheritAttrs:!1});return o.extendApi?.(l),[i,l]}export{Be as C,ye as D,De as X,ge as a,Ce as b,me as c,Oe as d,Le as u};
